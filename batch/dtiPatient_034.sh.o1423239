dwipreproc_cust: [03;32m[0m
dwipreproc_cust: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
dwipreproc_cust: [03;32m[0m
dwipreproc_cust: [03;32mGenerated temporary directory: /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_034/preproc/dwipreproc_cust-tmp-N6TMMR/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_034/preproc/rawdataAPdn.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_034/preproc/dwipreproc_cust-tmp-N6TMMR/series.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_034/preproc/AP7b0s.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_034/preproc/dwipreproc_cust-tmp-N6TMMR/pair1.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_034/preproc/rawdataPAdn.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_034/preproc/dwipreproc_cust-tmp-N6TMMR/pair2.mif
dwipreproc_cust: [03;32mChanging to temporary directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_034/preproc/dwipreproc_cust-tmp-N6TMMR/)[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 102[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -dwgrad' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult:           0           0           0           0
          0           0           0           0
  -0.999993  0.00334833 -0.00167445        3000
  0.0267164   -0.744254   -0.667362        3000
-0.00464578    0.517557    0.855636        3000
   0.272561    0.827806   -0.490355        3000
  -0.651983    0.404039   -0.641616        3000
   0.507125    0.261304    0.821306        3000
   0.959424    0.279533   0.0369761        3000
   0.534645    0.379743    -0.75495        3000
   -0.31694    0.127999   -0.939769        3000
          0           0           0           0
   0.504911   -0.590345   -0.629728        3000
   0.600132   0.0894341   -0.794886        3000
  -0.953597   -0.155826   -0.257627        3000
  -0.527763   -0.742239    0.412973        3000
   0.194528   -0.924768    0.327053        3000
  -0.365672    0.925572    -0.09798        3000
    0.25938    0.930292     0.25938        3000
   0.024371    0.509624   -0.860052        3000
  -0.614942    0.788003  -0.0299773        3000
          0           0           0           0
   0.872214   0.0375364    0.487681        3000
  -0.743913   -0.229168    0.627754        3000
   0.487516    0.676122    0.552438        3000
  -0.451398   -0.890555  -0.0561364        3000
  -0.661923   -0.431196    -0.61313        3000
  -0.853958    0.236032    -0.46373        3000
  -0.438849    -0.50579    -0.74269        3000
   0.957409   -0.139903   -0.252579        3000
  -0.703145   -0.594531   -0.390026        3000
          0           0           0           0
  -0.387547   -0.174366    0.905209        3000
   0.143447   -0.680522    0.718549        3000
  -0.803097   -0.595571   0.0181803        3000
  -0.288469   -0.136908   -0.947651        3000
   0.963228   -0.127585    0.236462        3000
  -0.151012    -0.69566     0.70232        3000
 -0.0169748   -0.981803   -0.189143        3000
  -0.376873   -0.897285    0.229883        3000
   0.668088    0.727369     0.15682        3000
          0           0           0           0
  -0.290373   -0.464945    0.836367        3000
  -0.721409    -0.16336   -0.672966        3000
   0.717712   -0.657721    0.228675        3000
   0.428779   -0.580446    0.692265        3000
   0.958778   -0.283413  -0.0205264        3000
   0.493748   -0.295446    0.817878        3000
  -0.894856    0.397302   -0.203431        3000
   0.203311    0.978782  -0.0255204        3000
   -0.23109     0.96545    0.120434        3000
          0           0           0           0
    0.73992    0.599271   -0.305604        3000
   0.844233    0.335281    -0.41816        3000
   0.105533   -0.283532    0.953138        3000
   0.239484    0.399131    0.885066        3000
   0.613878    0.778027   -0.133519        3000
  -0.267062    0.456412   -0.848744        3000
  -0.658459   -0.512474    0.551182        3000
   0.256829   -0.894938   -0.364862        3000
  -0.249563   -0.820013   -0.515069        3000
          0           0           0           0
  -0.573627    0.658128   -0.487668        3000
 -0.0215634   -0.248361   -0.968428        3000
   -0.22436    0.320782    0.920196        3000
   0.836722    0.322585    0.442532        3000
   0.860584    0.464933    0.207922        3000
  -0.487773   -0.809586   -0.326571        3000
   0.106027    0.947307    -0.30227        3000
  -0.542115  0.00447982   -0.840293        3000
   0.250364   -0.576245   -0.777984        3000
          0           0           0           0
   0.228753  -0.0498476   -0.972207        3000
    0.21587    0.652386    0.726493        3000
  -0.961655   -0.144313    0.233224        3000
  -0.312387    0.788124   -0.530354        3000
    0.87038   -0.429534   -0.240704        3000
  -0.844615    0.264175    0.465658        3000
  -0.894783   -0.410945    0.174605        3000
   0.703329   -0.678237   -0.212889        3000
   0.666121   -0.350817   -0.658188        3000
          0           0           0           0
  -0.516984    0.749062    0.414287        3000
   0.720076   -0.133471    0.680937        3000
  0.0403233  -0.0154483    0.999067        3000
  -0.827887    0.560846  0.00741128        3000
  -0.452676    0.385369    0.804099        3000
    0.87931   0.0291586   -0.475356        3000
   0.148228    0.245786   -0.957924        3000
   0.768415   -0.482909    0.419925        3000
    0.47886   -0.134027     -0.8676        3000
          0           0           0           0
  -0.717224    0.532412    0.449585        3000
   0.483182   -0.821725    0.302164        3000
  -0.281723    0.761348    0.583936        3000
 -0.0175608    0.846803   -0.531617        3000
  0.0657589   -0.993208   0.0959885        3000
   0.421331    0.633106   -0.649351        3000
  -0.732797    0.098064    0.673344        3000
  0.0005972    0.896238    0.443573        3000
   0.476021    -0.86184    -0.17503        3000
          0           0           0           0[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -stride' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 1 2 3 4[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair1.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair2.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
[03;34mCommand:[0m mrconvert series.mif dwi_pre_topup.nii -stride -1,+2,+3,+4
[03;34mCommand:[0m mrcat pair1.mif pair2.mif - -axis 3 | mrconvert - topup_in.nii -stride -1,+2,+3,+4
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair1.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair2.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
dwipreproc_cust: [03;32mCreating phase-encoding configuration file[0m
[03;34mCommand:[0m topup --imain=topup_in.nii --datain=config.txt --out=field --fout=field_map.nii.gz --config=/software/fsl/fsl-5.0.9_eddy/fsl/etc/flirtsch/b02b0.cnf
[03;34mCommand:[0m applytopup --imain=dwi_pre_topup.nii --datain=config.txt --inindex=1 --topup=field --out=dwi_post_topup.nii.gz --method=jac
[03;34mCommand:[0m mrconvert series.mif - -stride -1,+2,+3,+4 | mrinfo - -export_grad_fsl bvecs bvals
[03;34mCommand:[0m mrconvert dwi_post_topup.nii.gz -fslgrad bvecs bvals - | dwi2mask - - | maskfilter - dilate - | mrconvert - mask.nii -datatype float32 -stride -1,+2,+3
[03;34mCommand:[0m eddy_openmp --imain=dwi_pre_topup.nii --mask=mask.nii --index=indices.txt --acqp=config.txt --bvecs=bvecs --bvals=bvals --repol --topup=field --out=dwi_post_eddy
[03;34mCommand:[0m mrconvert dwi_post_eddy.nii.gz result.mif -stride 1,2,3,4 -fslgrad dwi_post_eddy.eddy_rotated_bvecs bvals
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_034/preproc/eddycorr.mif -export_grad_mrtrix /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_034/preproc/adjencoding.b
dwipreproc_cust: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_034/preproc)[0m
dwipreproc_cust: [03;32mDeleting temporary directory /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_034/preproc/dwipreproc_cust-tmp-N6TMMR/[0m
dwibiascorrect: [03;32m[0m
dwibiascorrect: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
dwibiascorrect: [03;32m[0m
dwibiascorrect: [03;32mGenerated temporary directory: /tmp/dwibiascorrect-tmp-I48HQG/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_034/preproc/eddycorr.mif /tmp/dwibiascorrect-tmp-I48HQG/in.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_034/preproc/eddymeanb0bet_mask.nii.gz /tmp/dwibiascorrect-tmp-I48HQG/mask.mif
dwibiascorrect: [03;32mChanging to temporary directory (/tmp/dwibiascorrect-tmp-I48HQG/)[0m
[03;34mCommand:[0m dwiextract in.mif - -bzero | mrmath - mean mean_bzero.mif -axis 3
[03;34mCommand:[0m mrcalc mean_bzero.mif mask.mif -mult - | mrconvert - mean_bzero_masked.nii -stride -1,+2,+3
[03;34mCommand:[0m fast -t 2 -o fast -n 3 -b mean_bzero_masked.nii
[03;34mCommand:[0m mrcalc in.mif fast_bias.nii.gz -div result.mif
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_034/preproc/biascorr.mif
dwibiascorrect: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_034/preproc)[0m
dwibiascorrect: [03;32mDeleting temporary directory /tmp/dwibiascorrect-tmp-I48HQG/[0m
Extracting mean of the b=0 shell.
Extracting mean of the b=3000 shell.
Extracting mean of the b=0 shell.
Extracting mean of the b=3000 shell.
116239
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mGenerated temporary directory: /tmp/labelsgmfix-tmp-31GHXA/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_034/preproc/parctempstr.nii /tmp/labelsgmfix-tmp-31GHXA/parc.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_034/preproc/brainFS.nii /tmp/labelsgmfix-tmp-31GHXA/T1.nii -stride -1,+2,+3
labelsgmfix: [03;32mChanging to temporary directory (/tmp/labelsgmfix-tmp-31GHXA/)[0m
[03;34mCommand:[0m run_first_all -s R_Thal,L_Puta,R_Caud,R_Hipp,L_Amyg,R_Pall,R_Amyg,L_Caud,L_Pall,L_Thal,L_Hipp,R_Accu,L_Accu,R_Puta -i T1.nii -b -o first
[03;34mCommand:[0m mrcalc parc.mif 0 -min sgm.mif
[03;34mCommand:[0m meshconvert first-R_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Thal_mask.mif 6 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Puta_mask.mif 3 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Caud_mask.mif 7 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Hipp_mask.mif 13 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Amyg_mask.mif 12 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Pall_mask.mif 9 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Amyg_mask.mif 14 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Caud_mask.mif 2 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Pall_mask.mif 4 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Thal_mask.mif 1 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Hipp_mask.mif 11 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Accu_mask.mif 10 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Accu_mask.mif 5 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Puta_mask.mif 8 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m mrmath R_Thal_mask.mif L_Puta_mask.mif R_Caud_mask.mif R_Hipp_mask.mif L_Amyg_mask.mif R_Pall_mask.mif R_Amyg_mask.mif L_Caud_mask.mif L_Pall_mask.mif L_Thal_mask.mif L_Hipp_mask.mif R_Accu_mask.mif L_Accu_mask.mif R_Puta_mask.mif sum - | mrcalc - 1 -gt sgm_overlap_mask.mif
[03;34mCommand:[0m mrcalc sgm_overlap_mask.mif 0 sgm.mif -if sgm_masked.mif
[03;34mCommand:[0m labelconvert sgm_masked.mif /software/mrtrix3/mrtrix3-AP/scripts/data/FreeSurferSGM.txt /software/mrtrix3/mrtrix3-AP/src/connectome/tables/fs_a2009s.txt sgm_new_labels.mif
[03;34mCommand:[0m mrcalc parc.mif 83 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 78 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 84 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 87 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 81 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 86 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 88 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 77 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 79 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 76 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 80 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 89 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 82 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 85 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc sgm_new_labels.mif 0.5 -gt sgm_new_labels.mif parc.mif -if result.mif -datatype uint32
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_034/preproc/parc_fixsubcort.nii
labelsgmfix: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_034/preproc)[0m
labelsgmfix: [03;32mDeleting temporary directory /tmp/labelsgmfix-tmp-31GHXA/[0m
tmp ./tmp.bbregister.26404
Log file is register.dat.log
Sat Mar 18 00:24:31 AEST 2017

setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/Park/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_034/preproc
/software/freesurfer/freesurfer-6.0.0/bin/bbregister --s Patient_034 --mov biasmeanb0bet.nii.gz --init-fsl --reg register.dat --dti --fslmat diff2FS.mat

$Id: bbregister,v 1.75 2016/05/10 20:02:28 greve Exp $
Linux hpcnode017.adqimr.ad.lan 3.10.0-327.3.1.el7.x86_64 #1 SMP Wed Dec 9 14:09:15 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
FREESURFER_HOME /software/freesurfer/freesurfer-6.0.0
mri_convert biasmeanb0bet.nii.gz ./tmp.bbregister.26404/template.nii
mri_convert.bin biasmeanb0bet.nii.gz ./tmp.bbregister.26404/template.nii 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from biasmeanb0bet.nii.gz...
TR=1000.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (0.997541, 0.0285488, 0.064)
j_ras = (-0.042507, 0.972569, 0.2287)
k_ras = (-0.0557152, -0.230858, 0.971391)
writing to ./tmp.bbregister.26404/template.nii...
fslregister --s Patient_034 --mov ./tmp.bbregister.26404/template.nii --reg ./tmp.bbregister.26404/reg.init.dat --niters 1 --maxangle 90 --tmp ./tmp.bbregister.26404/fslregister --dof 6 --fsvol brainmask.mgz --nobetmov

Log file is ./tmp.bbregister.26404/reg.init.dat.fslregister.log

Sat Mar 18 00:24:31 AEST 2017
--s Patient_034 --mov ./tmp.bbregister.26404/template.nii --reg ./tmp.bbregister.26404/reg.init.dat --niters 1 --maxangle 90 --tmp ./tmp.bbregister.26404/fslregister --dof 6 --fsvol brainmask.mgz --nobetmov
$Id: fslregister,v 1.40 2016/02/12 21:43:15 zkaufman Exp $
hpcnode017.adqimr.ad.lan
Linux hpcnode017.adqimr.ad.lan 3.10.0-327.3.1.el7.x86_64 #1 SMP Wed Dec 9 14:09:15 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
nIters 1
--------------------------------------
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_034/preproc
mri_convert /working/lab_michaebr/alistaiP/Park/FS/Patient_034/mri/brainmask.mgz ./tmp.bbregister.26404/fslregister/refvol.fslregister.nii
mri_convert.bin /working/lab_michaebr/alistaiP/Park/FS/Patient_034/mri/brainmask.mgz ./tmp.bbregister.26404/fslregister/refvol.fslregister.nii 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from /working/lab_michaebr/alistaiP/Park/FS/Patient_034/mri/brainmask.mgz...
TR=0.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (-1, -9.31323e-10, -7.45058e-09)
j_ras = (3.72529e-09, 0, -1)
k_ras = (-1.86265e-09, 1, 0)
writing to ./tmp.bbregister.26404/fslregister/refvol.fslregister.nii...
--------------------------------------
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_034/preproc
mri_convert ./tmp.bbregister.26404/template.nii ./tmp.bbregister.26404/fslregister/movvol.fslregister.nii --frame 0
mri_convert.bin ./tmp.bbregister.26404/template.nii ./tmp.bbregister.26404/fslregister/movvol.fslregister.nii --frame 0 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from ./tmp.bbregister.26404/template.nii...
TR=1000.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (0.997541, 0.0285488, 0.064)
j_ras = (-0.042507, 0.972569, 0.2287)
k_ras = (-0.0557152, -0.230858, 0.971391)
keeping frame 0
writing to ./tmp.bbregister.26404/fslregister/movvol.fslregister.nii...
Mov determinant is 5.02197
Swapping dims for pos det
WARNING:: Flipping Left/Right orientation (as det < 0)
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
target  volume ./tmp.bbregister.26404/fslregister/movvol.fslregister.nii
movable volume ./tmp.bbregister.26404/template.nii
reg file       ./tmp.bbregister.26404/fslregister/swapreg.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target ./tmp.bbregister.26404/fslregister/movvol.fslregister.nii
INFO: target does not conform to COR format, so I'm going to
reslice to COR. This will not affect the final registration.
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.26404/template.nii
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 1, float2int = 0
Computing reg from header (and possibly input matrix)
---- Input registration matrix (computed) --------
-0.99754  -0.02855  -0.06400   1.71877;
-0.05572  -0.23086   0.97139  -0.00002;
 0.04251  -0.97257  -0.22870  -0.00001;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
-0.99754  -0.02855  -0.06400   1.71877;
-0.05572  -0.23086   0.97139  -0.00002;
 0.04251  -0.97257  -0.22870  -0.00001;
 0.00000   0.00000   0.00000   1.00000;
Determinant -1
subject = subject-unknown
RegMat ---------------------------
-1.00000  -0.00000   0.00000   1.71877;
-0.00000   1.00000  -0.00000  -0.00002;
 0.00000   0.00000   1.00000  -0.00001;
 0.00000   0.00000   0.00000   1.00000;
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_034/preproc
tkregister2_cmdl --mov ./tmp.bbregister.26404/fslregister/movvol.fslregister.nii --reg ./tmp.bbregister.26404/fslregister/reg0.26451.dat --regheader --fslregout ./tmp.bbregister.26404/reg.init.dat.fsl.mat0 --s Patient_034 --noedit
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume ./tmp.bbregister.26404/fslregister/movvol.fslregister.nii
reg file       ./tmp.bbregister.26404/fslregister/reg0.26451.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target /working/lab_michaebr/alistaiP/Park/FS/Patient_034/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.26404/fslregister/movvol.fslregister.nii
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 1, float2int = 0
Computing reg from header (and possibly input matrix)
---- Input registration matrix (computed) --------
 0.99754   0.02855   0.06400   1.28629;
-0.05572  -0.23086   0.97139  -2.85426;
 0.04251  -0.97257  -0.22870  -9.80762;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
 0.99754   0.02855   0.06400   1.28629;
-0.05572  -0.23086   0.97139  -2.85426;
 0.04251  -0.97257  -0.22870  -9.80762;
 0.00000   0.00000   0.00000   1.00000;
Determinant 1
subject = Patient_034
RegMat ---------------------------
 0.99754   0.02855   0.06400   1.28629;
-0.05572  -0.23086   0.97139  -2.85426;
 0.04251  -0.97257  -0.22870  -9.80762;
 0.00000   0.00000   0.00000   1.00000;
FSLOUTPUTTYPE NIFTI 
tkreg2FSL: mov det = -5.02197, ref det = -1
Sat Mar 18 00:24:33 AEST 2017
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_034/preproc
flirt.fsl -ref ./tmp.bbregister.26404/fslregister/refvol.fslregister.nii -in ./tmp.bbregister.26404/fslregister/movvol.fslregister.nii -bins 256 -cost corratio -dof 6 -searchrx -90 90 -searchry -90 90 -searchrz -90 90 -verbose 0 -omat ./tmp.bbregister.26404/fslregister/fslmat0.trans.mat -schedule /software/freesurfer/freesurfer-6.0.0/bin/fsl.5.0.2.xyztrans.sch -init ./tmp.bbregister.26404/reg.init.dat.fsl.mat0
Sat Mar 18 00:24:43 AEST 2017
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_034/preproc
flirt.fsl -ref ./tmp.bbregister.26404/fslregister/refvol.fslregister.nii -in ./tmp.bbregister.26404/fslregister/movvol.fslregister.nii -bins 256 -cost corratio -dof 6 -searchrx -90 90 -searchry -90 90 -searchrz -90 90 -verbose 0 -omat ./tmp.bbregister.26404/reg.init.dat.fsl.mat -init ./tmp.bbregister.26404/fslregister/fslmat0.trans.mat -schedule /software/freesurfer/freesurfer-6.0.0/bin/flirt.newdefault.20080811.sch
tkregister2_cmdl --s Patient_034 --mov ./tmp.bbregister.26404/fslregister/movvol.fslregister.nii --reg ./tmp.bbregister.26404/reg.init.dat --fslreg ./tmp.bbregister.26404/reg.init.dat.fsl.mat --noedit
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
---- FSL registration matrix --------
 0.99852   0.02458   0.04849   12.22600;
 0.05220  -0.18439  -0.98147   218.15100;
-0.01518   0.98255  -0.18540   25.25300;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume ./tmp.bbregister.26404/fslregister/movvol.fslregister.nii
reg file       ./tmp.bbregister.26404/reg.init.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target /working/lab_michaebr/alistaiP/Park/FS/Patient_034/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.26404/fslregister/movvol.fslregister.nii
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 0, float2int = 0
FSLOUTPUTTYPE NIFTI 
fsl2TkReg: mov det = -5.02197, ref det = -1
---- Input registration matrix (computed) --------
 0.99852   0.01518   0.05220   0.66338;
-0.04849  -0.18540   0.98147  -1.45534;
 0.02458  -0.98255  -0.18439  -10.42246;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
 0.99852   0.01518   0.05220   0.66338;
-0.04849  -0.18540   0.98147  -1.45534;
 0.02458  -0.98255  -0.18439  -10.42246;
 0.00000   0.00000   0.00000   1.00000;
Determinant 0.999999
subject = Patient_034
RegMat ---------------------------
 0.99852   0.01518   0.05220   0.66338;
-0.04849  -0.18540   0.98147  -1.45534;
 0.02458  -0.98255  -0.18439  -10.42246;
 0.00000   0.00000   0.00000   1.00000;
mri_matrix_multiply -im ./tmp.bbregister.26404/fslregister/swapreg.dat -im ./tmp.bbregister.26404/reg.init.dat -om ./tmp.bbregister.26404/reg.init.dat
(standard_in) 1: illegal character: P
 
Started at Sat Mar 18 00:24:31 AEST 2017 
Ended   at Sat Mar 18 00:25:03 AEST 2017
 
fslregister Done
 
To check results, run:
tkregister2 --mov ./tmp.bbregister.26404/template.nii --reg ./tmp.bbregister.26404/reg.init.dat --surf orig
 
mri_segreg --mov ./tmp.bbregister.26404/template.nii --init-reg ./tmp.bbregister.26404/reg.init.dat --out-reg ./tmp.bbregister.26404/bbr.pass1.dat --subsamp-brute 100 --subsamp 100 --tol 1e-4 --tol1d 1e-3 --brute -4 4 4 --surf white --gm-proj-frac 0.5 --gm-gt-wm 0.5
$Id: mri_segreg.c,v 1.113 2016/05/10 03:23:20 greve Exp $
setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/Park/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_034/preproc
mri_segreg --mov ./tmp.bbregister.26404/template.nii --init-reg ./tmp.bbregister.26404/reg.init.dat --out-reg ./tmp.bbregister.26404/bbr.pass1.dat --subsamp-brute 100 --subsamp 100 --tol 1e-4 --tol1d 1e-3 --brute -4 4 4 --surf white --gm-proj-frac 0.5 --gm-gt-wm 0.5 
sysname  Linux
hostname hpcnode017.adqimr.ad.lan
machine  x86_64
user     alistaiP
movvol ./tmp.bbregister.26404/template.nii
regfile ./tmp.bbregister.26404/reg.init.dat
subject Patient_034
dof 6
outregfile ./tmp.bbregister.26404/bbr.pass1.dat
UseMask 0
UseLH 1
UseRH 1
nsubsamp 100
PenaltySign  -1
PenaltySlope 0.500000
PenaltyCenter 0.000000
surfname white
GMProjFrac 0.500000
WMProjAbs 2.000000
lhcostfile (null)
rhcostfile (null)
interp  trilinear (1)
frame  0
TolPowell 0.000100
nMaxItersPowell 36
n1dmin  3
Profile   0
Gdiag_no  -1
AddNoise  0 (0)
SynthSeed 1490512987
TransRandMax 0.000000
RotRandMax 0.000000
Translations 0.000000 0.000000 0.000000
Rotations   0.000000 0.000000 0.000000
Input reg
-0.99852  -0.01519  -0.05220   1.05539;
-0.04849  -0.18540   0.98147  -1.45535;
 0.02458  -0.98255  -0.18439  -10.42247;
 0.00000   0.00000   0.00000   1.00000;

Loading mov
Projecting LH Surfs
Loading lh.white surf
Loading lh.thickness for GM
GM Proj: 1 0.500000 2.000000
WM Proj: 0 0.500000 2.000000
Projecting RH Surfs
Loading rh.white surf
Loading rh.thickness for GM
Projecting RH Surfs
Using lh.cortex.label
Using rh.cortex.label
Computing relative cost
 0  -25.0 -25.0 -25.0   1.045232
 1  -25.0 -25.0  25.0   0.960073
 2  -25.0  25.0 -25.0   1.007365
 3  -25.0  25.0  25.0   0.956048
 4   25.0 -25.0 -25.0   1.012664
 5   25.0 -25.0  25.0   0.970816
 6   25.0  25.0 -25.0   0.978189
 7   25.0  25.0  25.0   1.011036
REL:  8  0.348811    7.941423  0.992678 rel = 0.351384 
Initial costs ----------------
Number of surface hits 2386
WM  Intensity   414.4209 +/- 136.4215
Ctx Intensity   611.8726 +/- 261.6375
Pct Contrast     32.9790 +/-  40.4290
Cost   0.3488
RelCost   0.3514

------------------------------------
Brute force preopt -4 4 4, n = 729
     0  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000      0.9895   0.9895  0.0
     1  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000   0.0000      0.9537   0.9537  0.0
     6  -4.0000  -4.0000  -4.0000  -4.0000   4.0000  -4.0000      0.9050   0.9050  0.0
     7  -4.0000  -4.0000  -4.0000  -4.0000   4.0000   0.0000      0.8513   0.8513  0.0
    15  -4.0000  -4.0000  -4.0000   0.0000   4.0000  -4.0000      0.7813   0.7813  0.0
    33  -4.0000  -4.0000   0.0000  -4.0000   4.0000  -4.0000      0.7752   0.7752  0.0
   124  -4.0000   0.0000   0.0000   0.0000   4.0000   0.0000      0.7707   0.7707  0.0
   265   0.0000  -4.0000  -4.0000   4.0000   0.0000   0.0000      0.7661   0.7661  0.0
   273   0.0000  -4.0000   0.0000  -4.0000   0.0000  -4.0000      0.7616   0.7616  0.0
   274   0.0000  -4.0000   0.0000  -4.0000   0.0000   0.0000      0.5419   0.5419  0.0
   364   0.0000   0.0000   0.0000   0.0000   0.0000   0.0000      0.3488   0.3488  0.0
Brute Force --------------------------
Min cost was 0.348811
Number of iterations   729
Search time 0.892000 sec
Parameters at best (transmm, rotdeg)
  0.000   0.000   0.000  0.000  0.000  0.000 
--------------------------------------------

Starting Powell Minimization
Init Powel Params dof = 6
0 0
1 0
2 0
3 0
4 0
5 0
fs_powell::minimize
  nparams 6
  maxfev 36
  ftol   0.000100
  linmin_xtol_   0.001000
  powell nthiter 0: fret = 0.348811
   7 -0.073  0.000  0.000  0.000  0.000  0.000   0.3457249053
   9 -0.095  0.000  0.000  0.000  0.000  0.000   0.3454873351
  10 -0.100  0.000  0.000  0.000  0.000  0.000   0.3452658702
  12 -0.127  0.000  0.000  0.000  0.000  0.000   0.3452436706
  13 -0.114  0.000  0.000  0.000  0.000  0.000   0.3449750794
  14 -0.113  0.000  0.000  0.000  0.000  0.000   0.3449746777
  18 -0.113 -1.618  0.000  0.000  0.000  0.000   0.1687584273
  19 -0.113 -1.844  0.000  0.000  0.000  0.000   0.1687386244
  20 -0.113 -1.732  0.000  0.000  0.000  0.000   0.1674719308
  22 -0.113 -1.688  0.000  0.000  0.000  0.000   0.1674134415
  24 -0.113 -1.708  0.000  0.000  0.000  0.000   0.1671141030
  34 -0.113 -1.708  0.024  0.000  0.000  0.000   0.1670842014
  35 -0.113 -1.708  0.019  0.000  0.000  0.000   0.1670767529
  36 -0.113 -1.708  0.016  0.000  0.000  0.000   0.1670766180
  38 -0.113 -1.708  0.017  0.000  0.000  0.000   0.1670764191
  43 -0.113 -1.708  0.017 -0.618  0.000  0.000   0.1167656468
  45 -0.113 -1.708  0.017 -0.725  0.000  0.000   0.1146550378
  46 -0.113 -1.708  0.017 -0.747  0.000  0.000   0.1146052736
  47 -0.113 -1.708  0.017 -0.745  0.000  0.000   0.1146037787
  48 -0.113 -1.708  0.017 -0.743  0.000  0.000   0.1146033820
  57 -0.113 -1.708  0.017 -0.743  0.023  0.000   0.1143664104
  60 -0.113 -1.708  0.017 -0.743  0.033  0.000   0.1143360969
  61 -0.113 -1.708  0.017 -0.743  0.034  0.000   0.1143338493
  62 -0.113 -1.708  0.017 -0.743  0.050  0.000   0.1143331187
  63 -0.113 -1.708  0.017 -0.743  0.042  0.000   0.1143235163
  65 -0.113 -1.708  0.017 -0.743  0.044  0.000   0.1143232377
  74 -0.113 -1.708  0.017 -0.743  0.044  0.050   0.1125379049
  77 -0.113 -1.708  0.017 -0.743  0.044  0.054   0.1125227906
  78 -0.113 -1.708  0.017 -0.743  0.044  0.056   0.1125222013
  powell nthiter 1: fret = 0.112522
  89 -0.100 -1.708  0.017 -0.743  0.044  0.056   0.1124574822
  90 -0.102 -1.708  0.017 -0.743  0.044  0.056   0.1124442909
  91 -0.104 -1.708  0.017 -0.743  0.044  0.056   0.1124394608
  92 -0.105 -1.708  0.017 -0.743  0.044  0.056   0.1124388387
 100 -0.105 -1.841  0.017 -0.743  0.044  0.056   0.1095667491
 102 -0.105 -1.837  0.017 -0.743  0.044  0.056   0.1095491237
 104 -0.105 -1.815  0.017 -0.743  0.044  0.056   0.1094399406
 105 -0.105 -1.805  0.017 -0.743  0.044  0.056   0.1094342246
 106 -0.105 -1.808  0.017 -0.743  0.044  0.056   0.1094298350
 107 -0.105 -1.809  0.017 -0.743  0.044  0.056   0.1094296317
 115 -0.105 -1.809  0.157 -0.743  0.044  0.056   0.1070309777
 116 -0.105 -1.809  0.163 -0.743  0.044  0.056   0.1069246149
 117 -0.105 -1.809  0.253 -0.743  0.044  0.056   0.1067725599
 118 -0.105 -1.809  0.214 -0.743  0.044  0.056   0.1062234710
 120 -0.105 -1.809  0.221 -0.743  0.044  0.056   0.1061191588
 122 -0.105 -1.809  0.226 -0.743  0.044  0.056   0.1060848453
 132 -0.105 -1.809  0.226 -0.782  0.044  0.056   0.1054578811
 133 -0.105 -1.809  0.226 -0.788  0.044  0.056   0.1054459299
 143 -0.105 -1.809  0.226 -0.788  0.078  0.056   0.1052253061
 144 -0.105 -1.809  0.226 -0.788  0.074  0.056   0.1052048560
 145 -0.105 -1.809  0.226 -0.788  0.069  0.056   0.1051970823
 146 -0.105 -1.809  0.226 -0.788  0.070  0.056   0.1051970736
 154 -0.105 -1.809  0.226 -0.788  0.070  0.082   0.1050244298
 156 -0.105 -1.809  0.226 -0.788  0.070  0.076   0.1050139172
 157 -0.105 -1.809  0.226 -0.788  0.070  0.077   0.1050135383
  powell nthiter 2: fret = 0.105014
 166 -0.102 -1.809  0.226 -0.788  0.070  0.077   0.1048819674
 167 -0.032 -1.809  0.226 -0.788  0.070  0.077   0.1036870983
 169 -0.040 -1.809  0.226 -0.788  0.070  0.077   0.1035080823
 170 -0.053 -1.809  0.226 -0.788  0.070  0.077   0.1034033639
 171 -0.052 -1.809  0.226 -0.788  0.070  0.077   0.1034002036
 172 -0.051 -1.809  0.226 -0.788  0.070  0.077   0.1033987108
 182 -0.051 -1.814  0.226 -0.788  0.070  0.077   0.1033063817
 183 -0.051 -1.824  0.226 -0.788  0.070  0.077   0.1032879018
 185 -0.051 -1.821  0.226 -0.788  0.070  0.077   0.1032702655
 196 -0.051 -1.821  0.255 -0.788  0.070  0.077   0.1031049398
 197 -0.051 -1.821  0.246 -0.788  0.070  0.077   0.1029442883
 198 -0.051 -1.821  0.243 -0.788  0.070  0.077   0.1029374478
 199 -0.051 -1.821  0.244 -0.788  0.070  0.077   0.1029369956
 207 -0.051 -1.821  0.244 -0.799  0.070  0.077   0.1026969747
 208 -0.051 -1.821  0.244 -0.815  0.070  0.077   0.1025837740
 209 -0.051 -1.821  0.244 -0.813  0.070  0.077   0.1025824617
 220 -0.051 -1.821  0.244 -0.813  0.067  0.077   0.1025803910
 221 -0.051 -1.821  0.244 -0.813  0.068  0.077   0.1025801477
 229 -0.051 -1.821  0.244 -0.813  0.068  0.096   0.1024191687
 231 -0.051 -1.821  0.244 -0.813  0.068  0.094   0.1024151992
  powell nthiter 3: fret = 0.102415
 242 -0.041 -1.821  0.244 -0.813  0.068  0.094   0.1023977542
 243 -0.045 -1.821  0.244 -0.813  0.068  0.094   0.1023715195
 255 -0.045 -1.822  0.244 -0.813  0.068  0.094   0.1023689028
 256 -0.045 -1.823  0.244 -0.813  0.068  0.094   0.1023683375
 267 -0.045 -1.823  0.252 -0.813  0.068  0.094   0.1023273867
 268 -0.045 -1.823  0.250 -0.813  0.068  0.094   0.1023230674
 280 -0.045 -1.823  0.250 -0.812  0.068  0.094   0.1023226891
 300 -0.045 -1.823  0.250 -0.812  0.068  0.097   0.1023135374
 301 -0.045 -1.823  0.250 -0.812  0.068  0.098   0.1023134260
  powell nthiter 4: fret = 0.102313
 313 -0.044 -1.823  0.250 -0.812  0.068  0.098   0.1023117072
 336 -0.044 -1.823  0.252 -0.812  0.068  0.098   0.1023104625
 347 -0.044 -1.823  0.252 -0.811  0.068  0.098   0.1023099295
Powell done niters = 4
Computing relative cost
 0  -25.0 -25.0 -25.0   1.039017
 1  -25.0 -25.0  25.0   0.981415
 2  -25.0  25.0 -25.0   0.983887
 3  -25.0  25.0  25.0   0.986958
 4   25.0 -25.0 -25.0   1.001166
 5   25.0 -25.0  25.0   0.933137
 6   25.0  25.0 -25.0   0.966197
 7   25.0  25.0  25.0   1.024574
REL:  8  0.102310    7.916350  0.989544 rel = 0.103391 
Number of iterations     4
Min cost was 0.102310
Number of FunctionCalls   369
TolPowell 0.000100
nMaxItersPowell 36
OptimizationTime 0.444000 sec
Parameters at optimum (transmm) -0.04398 -1.82264  0.25158
Parameters at optimum (rotdeg) -0.81114  0.06820  0.09832 
Final costs ----------------
Number of surface hits 2386
WM  Intensity   384.6330 +/- 113.2596
Ctx Intensity   572.4019 +/- 163.1451
Pct Contrast     37.8138 +/-  29.4421
Cost   0.1023
RelCost   0.3514
Reg at min cost was 
-0.99841  -0.01601  -0.05412   1.00177;
-0.04985  -0.19932   0.97867  -3.42360;
 0.02645  -0.97980  -0.19820  -10.15049;
 0.00000   0.00000   0.00000   1.00000;

Writing optimal reg to ./tmp.bbregister.26404/bbr.pass1.dat, type = 14 
Original Reg 
-0.99852  -0.01519  -0.05220   1.05539;
-0.04849  -0.18540   0.98147  -1.45535;
 0.02458  -0.98255  -0.18439  -10.42247;
 0.00000   0.00000   0.00000   1.00000;

Original Reg - Optimal Reg
-0.00011   0.00082   0.00192   0.05362;
 0.00136   0.01392   0.00280   1.96825;
-0.00187  -0.00274   0.01381  -0.27198;
 0.00000   0.00000   0.00000   0.00000;

Computing change in lh position
LH rmsDiffMean 1.518116
Computing change in rh position
Surface-RMS-Diff-mm 1.565050 0.506055 2.726335
mri_segreg done
mri_segreg --mov ./tmp.bbregister.26404/template.nii --init-reg ./tmp.bbregister.26404/bbr.pass1.dat --out-reg register.dat --interp trilinear --wm-proj-abs 2 --tol 1e-8 --tol1d 1e-3 --c0 0 --mincost register.dat.mincost --dof 6 --nmax 36 --param register.dat.param --surf white --brute -0.1 0.1 0.1 --cur-reg ./tmp.bbregister.26404/reg.curopt.dat --gm-proj-frac 0.5 --nsub 1 --gm-gt-wm 0.5
$Id: mri_segreg.c,v 1.113 2016/05/10 03:23:20 greve Exp $
setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/Park/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_034/preproc
mri_segreg --mov ./tmp.bbregister.26404/template.nii --init-reg ./tmp.bbregister.26404/bbr.pass1.dat --out-reg register.dat --interp trilinear --wm-proj-abs 2 --tol 1e-8 --tol1d 1e-3 --c0 0 --mincost register.dat.mincost --dof 6 --nmax 36 --param register.dat.param --surf white --brute -0.1 0.1 0.1 --cur-reg ./tmp.bbregister.26404/reg.curopt.dat --gm-proj-frac 0.5 --nsub 1 --gm-gt-wm 0.5 
sysname  Linux
hostname hpcnode017.adqimr.ad.lan
machine  x86_64
user     alistaiP
movvol ./tmp.bbregister.26404/template.nii
regfile ./tmp.bbregister.26404/bbr.pass1.dat
subject Patient_034
dof 6
outregfile register.dat
UseMask 0
UseLH 1
UseRH 1
nsubsamp 1
PenaltySign  -1
PenaltySlope 0.500000
PenaltyCenter 0.000000
surfname white
GMProjFrac 0.500000
WMProjAbs 2.000000
lhcostfile (null)
rhcostfile (null)
interp  trilinear (1)
frame  0
TolPowell 0.000000
nMaxItersPowell 36
n1dmin  3
Profile   0
Gdiag_no  -1
AddNoise  0 (0)
SynthSeed 1490369102
TransRandMax 0.000000
RotRandMax 0.000000
Translations 0.000000 0.000000 0.000000
Rotations   0.000000 0.000000 0.000000
Input reg
-0.99841  -0.01601  -0.05412   1.00177;
-0.04985  -0.19932   0.97867  -3.42360;
 0.02645  -0.97980  -0.19820  -10.15049;
 0.00000   0.00000   0.00000   1.00000;

Loading mov
Projecting LH Surfs
Loading lh.white surf
Loading lh.thickness for GM
GM Proj: 1 0.500000 2.000000
WM Proj: 0 0.500000 2.000000
Projecting RH Surfs
Loading rh.white surf
Loading rh.thickness for GM
Projecting RH Surfs
Using lh.cortex.label
Using rh.cortex.label
Computing relative cost
 0  -25.0 -25.0 -25.0   1.005687
 1  -25.0 -25.0  25.0   0.973288
 2  -25.0  25.0 -25.0   1.004393
 3  -25.0  25.0  25.0   0.994002
 4   25.0 -25.0 -25.0   0.997955
 5   25.0 -25.0  25.0   0.966745
 6   25.0  25.0 -25.0   0.957111
 7   25.0  25.0  25.0   0.995674
REL:  8  0.110459    7.894855  0.986857 rel = 0.11193 
Initial costs ----------------
Number of surface hits 237647
WM  Intensity   383.9699 +/- 108.2720
Ctx Intensity   578.8174 +/- 172.6897
Pct Contrast     38.6300 +/-  29.8114
Cost   0.1105
RelCost   0.1119

------------------------------------
Brute force preopt -0.1 0.1 0.1, n = 729
     0  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000      0.1126   0.1126  0.0
     3  -0.1000  -0.1000  -0.1000  -0.1000   0.0000  -0.1000      0.1072   0.1072  0.0
    12  -0.1000  -0.1000  -0.1000   0.0000   0.0000  -0.1000      0.1065   0.1065  0.0
    22  -0.1000  -0.1000  -0.1000   0.1000   0.0000   0.0000      0.1059   0.1059  0.0
    49  -0.1000  -0.1000   0.0000   0.1000   0.0000   0.0000      0.1052   0.1052  0.0
   256   0.0000  -0.1000  -0.1000   0.0000   0.0000   0.0000      0.1038   0.1038  0.0
   265   0.0000  -0.1000  -0.1000   0.1000   0.0000   0.0000      0.1038   0.1038  0.0
   266   0.0000  -0.1000  -0.1000   0.1000   0.0000   0.1000      0.1035   0.1035  0.0
   284   0.0000  -0.1000   0.0000   0.0000   0.0000   0.1000      0.1031   0.1031  0.0
   364   0.0000   0.0000   0.0000   0.0000   0.0000   0.0000      0.1023   0.1023  0.0
Brute Force --------------------------
Min cost was 0.102310
Number of iterations   729
Search time 0.878000 sec
Parameters at best (transmm, rotdeg)
  0.000   0.000   0.000  0.000  0.000  0.000 
--------------------------------------------

Starting Powell Minimization
Init Powel Params dof = 6
0 0
1 0
2 0
3 0
4 0
5 0
fs_powell::minimize
  nparams 6
  maxfev 36
  ftol   0.000000
  linmin_xtol_   0.001000
  powell nthiter 0: fret = 0.110459
  19  0.000  0.002  0.000  0.000  0.000  0.000   0.1104585063
  28  0.000  0.002  0.005  0.000  0.000  0.000   0.1104545832
  29  0.000  0.002  0.007  0.000  0.000  0.000   0.1104541148
  38  0.000  0.002  0.007 -0.034  0.000  0.000   0.1103476043
  39  0.000  0.002  0.007 -0.036  0.000  0.000   0.1103474461
  41  0.000  0.002  0.007 -0.035  0.000  0.000   0.1103473520
  48  0.000  0.002  0.007 -0.035 -0.130  0.000   0.1090943309
  49  0.000  0.002  0.007 -0.035 -0.116  0.000   0.1090868384
  50  0.000  0.002  0.007 -0.035 -0.120  0.000   0.1090823756
  51  0.000  0.002  0.007 -0.035 -0.121  0.000   0.1090815244
  53  0.000  0.002  0.007 -0.035 -0.122  0.000   0.1090813340
  61  0.000  0.002  0.007 -0.035 -0.122  0.068   0.1088891718
  62  0.000  0.002  0.007 -0.035 -0.122  0.057   0.1088691049
  63  0.000  0.002  0.007 -0.035 -0.122  0.051   0.1088671878
  64  0.000  0.002  0.007 -0.035 -0.122  0.053   0.1088668052
  powell nthiter 1: fret = 0.108867
  73  0.036  0.002  0.007 -0.035 -0.122  0.053   0.1084231569
  75  0.046  0.002  0.007 -0.035 -0.122  0.053   0.1084073289
  76  0.045  0.002  0.007 -0.035 -0.122  0.053   0.1084068339
  77  0.044  0.002  0.007 -0.035 -0.122  0.053   0.1084067007
  86  0.044 -0.046  0.007 -0.035 -0.122  0.053   0.1083738764
  87  0.044 -0.025  0.007 -0.035 -0.122  0.053   0.1083213093
  88  0.044 -0.024  0.007 -0.035 -0.122  0.053   0.1083201553
  90  0.044 -0.020  0.007 -0.035 -0.122  0.053   0.1083179519
 100  0.044 -0.020 -0.005 -0.035 -0.122  0.053   0.1083171095
 101  0.044 -0.020  0.001 -0.035 -0.122  0.053   0.1083149984
 102  0.044 -0.020 -0.000 -0.035 -0.122  0.053   0.1083149112
 111  0.044 -0.020 -0.000 -0.065 -0.122  0.053   0.1083050575
 113  0.044 -0.020 -0.000 -0.051 -0.122  0.053   0.1082865307
 116  0.044 -0.020 -0.000 -0.050 -0.122  0.053   0.1082862996
 123  0.044 -0.020 -0.000 -0.050 -0.149  0.053   0.1082790804
 124  0.044 -0.020 -0.000 -0.050 -0.137  0.053   0.1082572707
 126  0.044 -0.020 -0.000 -0.050 -0.138  0.053   0.1082572563
 135  0.044 -0.020 -0.000 -0.050 -0.138  0.087   0.1081953175
 136  0.044 -0.020 -0.000 -0.050 -0.138  0.084   0.1081935798
 137  0.044 -0.020 -0.000 -0.050 -0.138  0.081   0.1081934692
 139  0.044 -0.020 -0.000 -0.050 -0.138  0.082   0.1081934544
 140  0.088 -0.043 -0.008 -0.065 -0.154  0.112   0.1081797583
 146  0.071 -0.034 -0.005 -0.059 -0.148  0.101   0.1080956914
 148  0.068 -0.032 -0.005 -0.058 -0.147  0.098   0.1080922585
 151  0.068 -0.033 -0.005 -0.058 -0.147  0.098   0.1080922151
 153  0.068 -0.033 -0.005 -0.058 -0.147  0.098   0.1080921652
  powell nthiter 2: fret = 0.108092
 160  0.068 -0.033 -0.005 -0.058 -0.147  0.097   0.1080920252
 161  0.068 -0.033 -0.005 -0.058 -0.147  0.096   0.1080920134
 163  0.068 -0.033 -0.005 -0.058 -0.147  0.095   0.1080919673
 175  0.068 -0.053 -0.005 -0.058 -0.147  0.095   0.1080707402
 176  0.068 -0.048 -0.005 -0.058 -0.147  0.095   0.1080610892
 177  0.068 -0.046 -0.005 -0.058 -0.147  0.095   0.1080607132
 186  0.068 -0.046  0.017 -0.058 -0.147  0.095   0.1080445928
 187  0.068 -0.046  0.015 -0.058 -0.147  0.095   0.1080437565
 188  0.068 -0.046  0.012 -0.058 -0.147  0.095   0.1080428552
 190  0.068 -0.046  0.010 -0.058 -0.147  0.095   0.1080428359
 192  0.068 -0.046  0.011 -0.058 -0.147  0.095   0.1080426991
 200  0.068 -0.046  0.011 -0.072 -0.147  0.095   0.1080387654
 201  0.068 -0.046  0.011 -0.066 -0.147  0.095   0.1080361151
 212  0.068 -0.046  0.011 -0.066 -0.148  0.095   0.1080359353
 220  0.068 -0.046  0.011 -0.067 -0.148  0.096   0.1080355509
 221  0.070 -0.047  0.011 -0.067 -0.149  0.096   0.1080352727
 223  0.069 -0.046  0.011 -0.067 -0.149  0.096   0.1080352570
 224  0.070 -0.047  0.011 -0.067 -0.149  0.096   0.1080352421
  powell nthiter 3: fret = 0.108035
 236  0.070 -0.047  0.011 -0.067 -0.149  0.095   0.1080351529
 246  0.070 -0.048  0.011 -0.067 -0.149  0.095   0.1080347786
 257  0.070 -0.048  0.016 -0.067 -0.149  0.095   0.1080333428
 268  0.070 -0.048  0.016 -0.069 -0.149  0.095   0.1080328898
 288  0.070 -0.048  0.016 -0.070 -0.149  0.096   0.1080327908
 289  0.070 -0.048  0.016 -0.070 -0.149  0.096   0.1080327700
  powell nthiter 4: fret = 0.108033
 320  0.070 -0.048  0.017 -0.070 -0.149  0.096   0.1080327320
 350  0.070 -0.048  0.017 -0.070 -0.149  0.096   0.1080327215
  powell nthiter 5: fret = 0.108033
Powell done niters = 5
Computing relative cost
 0  -25.0 -25.0 -25.0   1.006857
 1  -25.0 -25.0  25.0   0.972301
 2  -25.0  25.0 -25.0   1.005019
 3  -25.0  25.0  25.0   0.994172
 4   25.0 -25.0 -25.0   0.996861
 5   25.0 -25.0  25.0   0.969562
 6   25.0  25.0 -25.0   0.956135
 7   25.0  25.0  25.0   0.994956
REL:  8  0.108033    7.895863  0.986983 rel = 0.109458 
Number of iterations     5
Min cost was 0.108033
Number of FunctionCalls   415
TolPowell 0.000000
nMaxItersPowell 36
OptimizationTime 29.346000 sec
Parameters at optimum (transmm)  0.07017 -0.04828  0.01672
Parameters at optimum (rotdeg) -0.06964 -0.14911  0.09567 
Final costs ----------------
Number of surface hits 237647
WM  Intensity   383.5977 +/- 107.7632
Ctx Intensity   578.4630 +/- 171.3942
Pct Contrast     38.7100 +/-  29.6749
Cost   0.1080
RelCost   0.1119
Reg at min cost was 
-0.99839  -0.01313  -0.05523   1.10408;
-0.05149  -0.20053   0.97833  -3.48250;
 0.02392  -0.97960  -0.19953  -10.12696;
 0.00000   0.00000   0.00000   1.00000;

Writing optimal reg to register.dat, type = 14 
Original Reg 
-0.99841  -0.01601  -0.05412   1.00177;
-0.04985  -0.19932   0.97867  -3.42360;
 0.02645  -0.97980  -0.19820  -10.15049;
 0.00000   0.00000   0.00000   1.00000;

Original Reg - Optimal Reg
-0.00002  -0.00288   0.00111  -0.10231;
 0.00163   0.00121   0.00033   0.05889;
 0.00254  -0.00020   0.00133  -0.02353;
 0.00000   0.00000   0.00000   0.00000;

Computing change in lh position
LH rmsDiffMean 0.138865
Computing change in rh position
Surface-RMS-Diff-mm 0.138213 0.050038 0.272323
mri_segreg done
MinCost: 0.108033 383.597690 578.463039 38.709959 
tkregister2_cmdl --mov biasmeanb0bet.nii.gz --reg register.dat --noedit --fslregout diff2FS.mat
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume biasmeanb0bet.nii.gz
reg file       register.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
---- Input registration matrix --------
-0.99839  -0.01313  -0.05523   1.10408;
-0.05149  -0.20053   0.97833  -3.48250;
 0.02392  -0.97960  -0.19953  -10.12696;
 0.00000   0.00000   0.00000   1.00000;
float2int = 0
---------------------------------------
INFO: loading target /working/lab_michaebr/alistaiP/Park/FS/Patient_034/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable biasmeanb0bet.nii.gz
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 0, float2int = 0
---- Input registration matrix --------
-0.99839  -0.01313  -0.05523   1.10408;
-0.05149  -0.20053   0.97833  -3.48250;
 0.02392  -0.97960  -0.19953  -10.12696;
 0.00000   0.00000   0.00000   1.00000;
Determinant -0.999999
subject = Patient_034
RegMat ---------------------------
-0.99839  -0.01313  -0.05523   1.10408;
-0.05149  -0.20053   0.97833  -3.48250;
 0.02392  -0.97960  -0.19953  -10.12696;
 0.00000   0.00000   0.00000   1.00000;
FSLOUTPUTTYPE NIFTI_GZ 
tkreg2FSL: mov det = 5.02197, ref det = -1
INFO: FSL2FreeSurfer: Mov volume is NIFTI with positive det,
      applying LR flip to registration matrix.
Cleaning up
 
Started at Sat Mar 18 00:24:31 AEST 2017 
Ended   at Sat Mar 18 00:25:48 AEST 2017
BBR-Run-Time-Sec 77
 
bbregister Done
To check results, run:
tkregisterfv --mov biasmeanb0bet.nii.gz --reg register.dat --surfs 
 
dwi2response: [03;32m[0m
dwi2response: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation. Please consult the help page (-help option) for more information.[0m
dwi2response: [03;32m[0m
dwi2response: [03;32mGenerated temporary directory: /tmp/dwi2response-tmp-YPV2PQ/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_034/preproc/biascorr.mif /tmp/dwi2response-tmp-YPV2PQ/dwi.mif -stride 0,0,0,1
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_034/preproc/biasmeanb0bet_mask.nii.gz /tmp/dwi2response-tmp-YPV2PQ/mask.mif -datatype bit
dwi2response: [03;32mChanging to temporary directory (/tmp/dwi2response-tmp-YPV2PQ/)[0m
dwi2response: [03;32m2 unique b-value(s) detected: 0,3000 with 12,90 volumes.[0m
[03;34mCommand:[0m maskfilter mask.mif erode eroded_mask.mif -npass 3
[03;34mCommand:[0m dwiextract dwi.mif -shell 0 dwi_b0.mif
[03;34mCommand:[0m mrmath dwi_b0.mif mean mean_b0.mif -axis 3
[03;34mCommand:[0m mrcalc mean_b0.mif -finite mean_b0.mif 0 -if 0 -le err_b0.mif -datatype bit
[03;34mCommand:[0m dwiextract dwi.mif -shell 3000 dwi_b3000.mif
[03;34mCommand:[0m mrmath dwi_b3000.mif mean mean_b3000.mif -axis 3
[03;34mCommand:[0m mrcalc mean_b3000.mif -finite mean_b3000.mif 0 -if 0 -le err_b3000.mif -datatype bit
[03;34mCommand:[0m mrcalc mean_b0.mif mean_b3000.mif -divide -log sdm_b3000.mif
[03;34mCommand:[0m mrcalc sdm_b3000.mif 90 -mult 90 -divide full_sdm.mif
[03;34mCommand:[0m mrcalc full_sdm.mif -finite full_sdm.mif 0 -if 0 -le err_sdm.mif -datatype bit
[03;34mCommand:[0m mrcalc err_b0.mif err_b3000.mif -add err_sdm.mif -add 0 eroded_mask.mif -if safe_mask.mif -datatype bit
[03;34mCommand:[0m mrcalc safe_mask.mif full_sdm.mif 0 -if 10 -min safe_sdm.mif
[03;34mCommand:[0m dwi2tensor dwi.mif - -mask safe_mask.mif | tensor2metric - -fa safe_fa.mif -vector safe_vecs.mif -modulate none -mask safe_mask.mif
[03;34mCommand:[0m mrcalc safe_mask.mif safe_fa.mif 0 -if 0.2 -gt crude_wm.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_wm.mif 0 safe_mask.mif -if _crudenonwm.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudenonwm.mif safe_sdm.mif 2.52182 -subtract 0 -if - | mrthreshold - - -mask _crudenonwm.mif | mrcalc _crudenonwm.mif - 0 -if crude_csf.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_csf.mif 0 _crudenonwm.mif -if crude_gm.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_wm.mif safe_sdm.mif 0 -if 1.58736 -gt _crudewmhigh.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudewmhigh.mif 0 crude_wm.mif -if _crudewmlow.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_wm.mif safe_sdm.mif 0 -if 2.03254 -gt _crudewmoutliers.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudewmoutliers.mif 0 crude_wm.mif -if refined_wm.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_gm.mif safe_sdm.mif 0 -if 2.0002 -gt _crudegmhigh.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmhigh.mif 0 crude_gm.mif -if _crudegmlow.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmhigh.mif safe_sdm.mif 2.0002 -subtract 0 -if - | mrthreshold - - -mask _crudegmhigh.mif -invert | mrcalc _crudegmhigh.mif - 0 -if _crudegmhighselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmlow.mif safe_sdm.mif 2.0002 -subtract -neg 0 -if - | mrthreshold - - -mask _crudegmlow.mif -invert | mrcalc _crudegmlow.mif - 0 -if _crudegmlowselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmhighselect.mif 1 _crudegmlowselect.mif -if refined_gm.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudewmoutliers.mif safe_sdm.mif 0 -if 3.00628 -gt 1 crude_csf.mif -if _crudecsfextra.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudecsfextra.mif safe_sdm.mif 3.00628 -subtract 0 -if - | mrthreshold - - -mask _crudecsfextra.mif | mrcalc _crudecsfextra.mif - 0 -if refined_csf.mif -datatype bit
dwi2response: [03;32mRunning 'tournier' algorithm to select 413 single-fibre WM voxels.[0m
[03;34mCommand:[0m dwi2response tournier dwi.mif _respsfwmss.txt -sf_voxels 413 -iter_voxels 4130 -mask refined_wm.mif -voxels voxels_sfwm.mif -quiet -tempdir /tmp/dwi2response-tmp-YPV2PQ/
[03;34mCommand:[0m mrcalc refined_gm.mif safe_sdm.mif 0 -if 1.98279 -gt _refinedgmhigh.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmhigh.mif 0 refined_gm.mif -if _refinedgmlow.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmhigh.mif safe_sdm.mif 0 -if - | mrthreshold - - -bottom 551 -ignorezero | mrcalc _refinedgmhigh.mif - 0 -if _refinedgmhighselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmlow.mif safe_sdm.mif 0 -if - | mrthreshold - - -top 551 -ignorezero | mrcalc _refinedgmlow.mif - 0 -if _refinedgmlowselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmhighselect.mif 1 _refinedgmlowselect.mif -if voxels_gm.mif -datatype bit
[03;34mCommand:[0m mrcalc refined_csf.mif safe_sdm.mif 0 -if - | mrthreshold - - -top 2935 -ignorezero | mrcalc refined_csf.mif - 0 -if voxels_csf.mif -datatype bit
dwi2response: [03;32mSummary of voxel counts:[0m
dwi2response: [03;32mMask: 295704 --> 238049 --> 238032[0m
dwi2response: [03;32mWM: 88110 --> 82551 --> 413 (SF)[0m
dwi2response: [03;32mGM: 92960 --> 55086 --> 1102[0m
dwi2response: [03;32mCSF: 56962 --> 29347 --> 2935[0m
[03;34mCommand:[0m amp2sh dwi_b0.mif - | sh2response - voxels_sfwm.mif safe_vecs.mif _respsfwmb0.txt
[03;34mCommand:[0m amp2sh dwi_b3000.mif - | sh2response - voxels_sfwm.mif safe_vecs.mif _respsfwmb3000.txt
[03;34mCommand:[0m mrcat crude_csf.mif crude_gm.mif crude_wm.mif crude.mif -axis 3
[03;34mCommand:[0m mrcat refined_csf.mif refined_gm.mif refined_wm.mif refined.mif -axis 3
[03;34mCommand:[0m mrcat voxels_csf.mif voxels_gm.mif voxels_sfwm.mif voxels.mif -axis 3
dwi2response: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_034/preproc)[0m
dwi2response: [03;32mDeleting temporary directory /tmp/dwi2response-tmp-YPV2PQ/[0m
