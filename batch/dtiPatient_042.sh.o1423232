dwipreproc_cust: [03;32m[0m
dwipreproc_cust: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
dwipreproc_cust: [03;32m[0m
dwipreproc_cust: [03;32mGenerated temporary directory: /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_042/preproc/dwipreproc_cust-tmp-0L4EFL/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_042/preproc/rawdataAPdn.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_042/preproc/dwipreproc_cust-tmp-0L4EFL/series.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_042/preproc/AP7b0s.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_042/preproc/dwipreproc_cust-tmp-0L4EFL/pair1.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_042/preproc/rawdataPAdn.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_042/preproc/dwipreproc_cust-tmp-0L4EFL/pair2.mif
dwipreproc_cust: [03;32mChanging to temporary directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_042/preproc/dwipreproc_cust-tmp-0L4EFL/)[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 102[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -dwgrad' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult:           0           0           0           0
          0           0           0           0
  -0.999993 -0.00301378 -0.00234445        3000
  0.0256253    -0.74425   -0.667409        3000
-0.00465419    0.517285    0.855801        3000
   0.272455    0.827858   -0.490325        3000
   -0.65127    0.404706   -0.641919        3000
   0.507565    0.260909     0.82116        3000
   0.959475    0.280127   0.0305959        3000
   0.534529    0.380293   -0.754756        3000
  -0.316843    0.133305   -0.939064        3000
          0           0           0           0
   0.505237   -0.590267    -0.62954        3000
   0.600304   0.0949348   -0.794118        3000
  -0.953956   -0.155115   -0.256725        3000
  -0.527537   -0.742401    0.412972        3000
   0.193935   -0.924804    0.327301        3000
   -0.36513    0.925724  -0.0985643        3000
   0.259736    0.930377    0.258719        3000
  0.0231656    0.510068   -0.859822        3000
  -0.614355    0.788425    -0.03088        3000
          0           0           0           0
   0.872541   0.0371091    0.487129        3000
   -0.74361   -0.229817    0.627876        3000
   0.487892    0.676074    0.552164        3000
   -0.45166   -0.890806  -0.0496805        3000
  -0.662487   -0.430726    -0.61285        3000
  -0.853427    0.236905   -0.464261        3000
  -0.439127   -0.505476   -0.742739        3000
   0.957677   -0.139207   -0.251946        3000
  -0.703642    -0.59407   -0.389831        3000
          0           0           0           0
  -0.387335   -0.180148    0.904167        3000
   0.143168   -0.680829    0.718314        3000
  -0.802784   -0.595979   0.0186246        3000
  -0.288566   -0.136347   -0.947702        3000
    0.96299   -0.128252    0.237068        3000
  -0.151163   -0.695885    0.702064        3000
 -0.0172567   -0.982951   -0.183057        3000
  -0.376949   -0.897161    0.230241        3000
    0.66855    0.728236    0.150709        3000
          0           0           0           0
  -0.290419   -0.465415     0.83609        3000
  -0.721864   -0.162548   -0.672674        3000
   0.717028   -0.658313    0.229118        3000
     0.4284   -0.580582    0.692386        3000
   0.959003   -0.282703  -0.0197931        3000
   0.493227   -0.296097    0.817957        3000
  -0.894411    0.397991   -0.204038        3000
   0.203391    0.978585  -0.0316784        3000
  -0.230947    0.966254     0.11409        3000
          0           0           0           0
   0.739538    0.599752   -0.305584        3000
   0.843861    0.336017    -0.41832        3000
   0.105344   -0.284079    0.952996        3000
    0.23955    0.398721    0.885233        3000
   0.613482    0.778303    -0.13373        3000
  -0.266853    0.456598    -0.84871        3000
  -0.658247   -0.512735    0.551192        3000
   0.257188   -0.895056    -0.36432        3000
  -0.249653   -0.820077   -0.514925        3000
          0           0           0           0
  -0.572959     0.65854   -0.487896        3000
 -0.0216013    -0.24774   -0.968586        3000
  -0.224659    0.320255    0.920307        3000
   0.837103    0.322351    0.441983        3000
   0.860974    0.464565    0.207132        3000
  -0.488134   -0.809532   -0.326163        3000
   0.106267    0.947228   -0.302433        3000
  -0.542237   0.0101593   -0.840164        3000
   0.250429   -0.575993    -0.77815        3000
          0           0           0           0
   0.229044   -0.049167   -0.972174        3000
   0.215994    0.652352    0.726488        3000
  -0.961401   -0.145225    0.233703        3000
  -0.311742    0.788346   -0.530404        3000
   0.870909   -0.428843   -0.240024        3000
  -0.845105    0.263514    0.465143        3000
  -0.894463   -0.411412    0.175143        3000
   0.703783   -0.677957   -0.212284        3000
   0.666712   -0.350302   -0.657863        3000
          0           0           0           0
  -0.517367     0.74898    0.413956        3000
   0.719521   -0.134105    0.681399        3000
  0.0403678  -0.0208586    0.998967        3000
  -0.827337    0.561705  0.00073959        3000
  -0.453066    0.385091    0.804012        3000
   0.879367   0.0353048   -0.474835        3000
   0.148474    0.246298   -0.957754        3000
   0.767882   -0.483406    0.420329        3000
   0.479083   -0.133476   -0.867562        3000
          0           0           0           0
  -0.717701    0.532224    0.449047        3000
   0.482422   -0.821933    0.302811        3000
  -0.282125    0.761358    0.583729        3000
 -0.0175277    0.846969   -0.531354        3000
  0.0656958   -0.993159    0.096533        3000
   0.421364    0.633224   -0.649214        3000
  -0.733188   0.0974044    0.673014        3000
 0.00029914      0.8963    0.443449        3000
   0.476447   -0.861754   -0.174292        3000
          0           0           0           0[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -stride' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 1 2 3 4[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair1.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair2.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
[03;34mCommand:[0m mrconvert series.mif dwi_pre_topup.nii -stride -1,+2,+3,+4
[03;34mCommand:[0m mrcat pair1.mif pair2.mif - -axis 3 | mrconvert - topup_in.nii -stride -1,+2,+3,+4
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair1.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair2.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
dwipreproc_cust: [03;32mCreating phase-encoding configuration file[0m
[03;34mCommand:[0m topup --imain=topup_in.nii --datain=config.txt --out=field --fout=field_map.nii.gz --config=/software/fsl/fsl-5.0.9_eddy/fsl/etc/flirtsch/b02b0.cnf
[03;34mCommand:[0m applytopup --imain=dwi_pre_topup.nii --datain=config.txt --inindex=1 --topup=field --out=dwi_post_topup.nii.gz --method=jac
[03;34mCommand:[0m mrconvert series.mif - -stride -1,+2,+3,+4 | mrinfo - -export_grad_fsl bvecs bvals
[03;34mCommand:[0m mrconvert dwi_post_topup.nii.gz -fslgrad bvecs bvals - | dwi2mask - - | maskfilter - dilate - | mrconvert - mask.nii -datatype float32 -stride -1,+2,+3
[03;34mCommand:[0m eddy_openmp --imain=dwi_pre_topup.nii --mask=mask.nii --index=indices.txt --acqp=config.txt --bvecs=bvecs --bvals=bvals --repol --topup=field --out=dwi_post_eddy
[03;34mCommand:[0m mrconvert dwi_post_eddy.nii.gz result.mif -stride 1,2,3,4 -fslgrad dwi_post_eddy.eddy_rotated_bvecs bvals
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_042/preproc/eddycorr.mif -export_grad_mrtrix /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_042/preproc/adjencoding.b
dwipreproc_cust: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_042/preproc)[0m
dwipreproc_cust: [03;32mDeleting temporary directory /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_042/preproc/dwipreproc_cust-tmp-0L4EFL/[0m
dwibiascorrect: [03;32m[0m
dwibiascorrect: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
dwibiascorrect: [03;32m[0m
dwibiascorrect: [03;32mGenerated temporary directory: /tmp/dwibiascorrect-tmp-1RXB7T/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_042/preproc/eddycorr.mif /tmp/dwibiascorrect-tmp-1RXB7T/in.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_042/preproc/eddymeanb0bet_mask.nii.gz /tmp/dwibiascorrect-tmp-1RXB7T/mask.mif
dwibiascorrect: [03;32mChanging to temporary directory (/tmp/dwibiascorrect-tmp-1RXB7T/)[0m
[03;34mCommand:[0m dwiextract in.mif - -bzero | mrmath - mean mean_bzero.mif -axis 3
[03;34mCommand:[0m mrcalc mean_bzero.mif mask.mif -mult - | mrconvert - mean_bzero_masked.nii -stride -1,+2,+3
[03;34mCommand:[0m fast -t 2 -o fast -n 3 -b mean_bzero_masked.nii
[03;34mCommand:[0m mrcalc in.mif fast_bias.nii.gz -div result.mif
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_042/preproc/biascorr.mif
dwibiascorrect: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_042/preproc)[0m
dwibiascorrect: [03;32mDeleting temporary directory /tmp/dwibiascorrect-tmp-1RXB7T/[0m
Extracting mean of the b=0 shell.
Extracting mean of the b=3000 shell.
Extracting mean of the b=0 shell.
Extracting mean of the b=3000 shell.
43841
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mGenerated temporary directory: /tmp/labelsgmfix-tmp-ECHUTA/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_042/preproc/parctempstr.nii /tmp/labelsgmfix-tmp-ECHUTA/parc.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_042/preproc/brainFS.nii /tmp/labelsgmfix-tmp-ECHUTA/T1.nii -stride -1,+2,+3
labelsgmfix: [03;32mChanging to temporary directory (/tmp/labelsgmfix-tmp-ECHUTA/)[0m
[03;34mCommand:[0m run_first_all -s R_Thal,L_Puta,R_Caud,R_Hipp,L_Amyg,R_Pall,R_Amyg,L_Caud,L_Pall,L_Thal,L_Hipp,R_Accu,L_Accu,R_Puta -i T1.nii -b -o first
[03;34mCommand:[0m mrcalc parc.mif 0 -min sgm.mif
[03;34mCommand:[0m meshconvert first-R_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Thal_mask.mif 6 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Puta_mask.mif 3 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Caud_mask.mif 7 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Hipp_mask.mif 13 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Amyg_mask.mif 12 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Pall_mask.mif 9 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Amyg_mask.mif 14 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Caud_mask.mif 2 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Pall_mask.mif 4 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Thal_mask.mif 1 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Hipp_mask.mif 11 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Accu_mask.mif 10 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Accu_mask.mif 5 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Puta_mask.mif 8 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m mrmath R_Thal_mask.mif L_Puta_mask.mif R_Caud_mask.mif R_Hipp_mask.mif L_Amyg_mask.mif R_Pall_mask.mif R_Amyg_mask.mif L_Caud_mask.mif L_Pall_mask.mif L_Thal_mask.mif L_Hipp_mask.mif R_Accu_mask.mif L_Accu_mask.mif R_Puta_mask.mif sum - | mrcalc - 1 -gt sgm_overlap_mask.mif
[03;34mCommand:[0m mrcalc sgm_overlap_mask.mif 0 sgm.mif -if sgm_masked.mif
[03;34mCommand:[0m labelconvert sgm_masked.mif /software/mrtrix3/mrtrix3-AP/scripts/data/FreeSurferSGM.txt /software/mrtrix3/mrtrix3-AP/src/connectome/tables/fs_a2009s.txt sgm_new_labels.mif
[03;34mCommand:[0m mrcalc parc.mif 83 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 78 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 84 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 87 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 81 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 86 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 88 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 77 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 79 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 76 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 80 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 89 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 82 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 85 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc sgm_new_labels.mif 0.5 -gt sgm_new_labels.mif parc.mif -if result.mif -datatype uint32
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_042/preproc/parc_fixsubcort.nii
labelsgmfix: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_042/preproc)[0m
labelsgmfix: [03;32mDeleting temporary directory /tmp/labelsgmfix-tmp-ECHUTA/[0m
tmp ./tmp.bbregister.41067
Log file is register.dat.log
Sat Mar 18 07:11:48 AEST 2017

setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/Park/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_042/preproc
/software/freesurfer/freesurfer-6.0.0/bin/bbregister --s Patient_042 --mov biasmeanb0bet.nii.gz --init-fsl --reg register.dat --dti --fslmat diff2FS.mat

$Id: bbregister,v 1.75 2016/05/10 20:02:28 greve Exp $
Linux hpcnode037.adqimr.ad.lan 3.10.0-327.3.1.el7.x86_64 #1 SMP Wed Dec 9 14:09:15 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
FREESURFER_HOME /software/freesurfer/freesurfer-6.0.0
mri_convert biasmeanb0bet.nii.gz ./tmp.bbregister.41067/template.nii
mri_convert.bin biasmeanb0bet.nii.gz ./tmp.bbregister.41067/template.nii 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from biasmeanb0bet.nii.gz...
TR=1000.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (0.999981, 0.000222708, 0.00618875)
j_ras = (4.14023e-08, 0.999353, -0.0359694)
k_ras = (-0.00619276, 0.0359687, 0.999334)
writing to ./tmp.bbregister.41067/template.nii...
fslregister --s Patient_042 --mov ./tmp.bbregister.41067/template.nii --reg ./tmp.bbregister.41067/reg.init.dat --niters 1 --maxangle 90 --tmp ./tmp.bbregister.41067/fslregister --dof 6 --fsvol brainmask.mgz --nobetmov

Log file is ./tmp.bbregister.41067/reg.init.dat.fslregister.log

Sat Mar 18 07:11:49 AEST 2017
--s Patient_042 --mov ./tmp.bbregister.41067/template.nii --reg ./tmp.bbregister.41067/reg.init.dat --niters 1 --maxangle 90 --tmp ./tmp.bbregister.41067/fslregister --dof 6 --fsvol brainmask.mgz --nobetmov
$Id: fslregister,v 1.40 2016/02/12 21:43:15 zkaufman Exp $
hpcnode037.adqimr.ad.lan
Linux hpcnode037.adqimr.ad.lan 3.10.0-327.3.1.el7.x86_64 #1 SMP Wed Dec 9 14:09:15 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
nIters 1
--------------------------------------
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_042/preproc
mri_convert /working/lab_michaebr/alistaiP/Park/FS/Patient_042/mri/brainmask.mgz ./tmp.bbregister.41067/fslregister/refvol.fslregister.nii
mri_convert.bin /working/lab_michaebr/alistaiP/Park/FS/Patient_042/mri/brainmask.mgz ./tmp.bbregister.41067/fslregister/refvol.fslregister.nii 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from /working/lab_michaebr/alistaiP/Park/FS/Patient_042/mri/brainmask.mgz...
TR=0.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (-1, -1.45519e-11, -4.65661e-10)
j_ras = (0, -3.72529e-09, -1)
k_ras = (-2.03727e-10, 1, -3.72529e-09)
writing to ./tmp.bbregister.41067/fslregister/refvol.fslregister.nii...
--------------------------------------
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_042/preproc
mri_convert ./tmp.bbregister.41067/template.nii ./tmp.bbregister.41067/fslregister/movvol.fslregister.nii --frame 0
mri_convert.bin ./tmp.bbregister.41067/template.nii ./tmp.bbregister.41067/fslregister/movvol.fslregister.nii --frame 0 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from ./tmp.bbregister.41067/template.nii...
TR=1000.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (0.999981, 0.000222708, 0.00618875)
j_ras = (4.14023e-08, 0.999353, -0.0359694)
k_ras = (-0.00619276, 0.0359687, 0.999334)
keeping frame 0
writing to ./tmp.bbregister.41067/fslregister/movvol.fslregister.nii...
Mov determinant is 5.02197
Swapping dims for pos det
WARNING:: Flipping Left/Right orientation (as det < 0)
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
target  volume ./tmp.bbregister.41067/fslregister/movvol.fslregister.nii
movable volume ./tmp.bbregister.41067/template.nii
reg file       ./tmp.bbregister.41067/fslregister/swapreg.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target ./tmp.bbregister.41067/fslregister/movvol.fslregister.nii
INFO: target does not conform to COR format, so I'm going to
reslice to COR. This will not affect the final registration.
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.41067/template.nii
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 1, float2int = 0
Computing reg from header (and possibly input matrix)
---- Input registration matrix (computed) --------
-0.99998  -0.00022  -0.00619   1.71877;
-0.00619   0.03597   0.99933  -0.00001;
-0.00000  -0.99935   0.03597   0.00000;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
-0.99998  -0.00022  -0.00619   1.71877;
-0.00619   0.03597   0.99933  -0.00001;
-0.00000  -0.99935   0.03597   0.00000;
 0.00000   0.00000   0.00000   1.00000;
Determinant -1
subject = subject-unknown
RegMat ---------------------------
-1.00000   0.00000  -0.00000   1.71877;
 0.00000   1.00000   0.00000   0.00001;
-0.00000   0.00000   1.00000   0.00000;
 0.00000   0.00000   0.00000   1.00000;
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_042/preproc
tkregister2_cmdl --mov ./tmp.bbregister.41067/fslregister/movvol.fslregister.nii --reg ./tmp.bbregister.41067/fslregister/reg0.41107.dat --regheader --fslregout ./tmp.bbregister.41067/reg.init.dat.fsl.mat0 --s Patient_042 --noedit
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume ./tmp.bbregister.41067/fslregister/movvol.fslregister.nii
reg file       ./tmp.bbregister.41067/fslregister/reg0.41107.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target /working/lab_michaebr/alistaiP/Park/FS/Patient_042/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.41067/fslregister/movvol.fslregister.nii
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 1, float2int = 0
Computing reg from header (and possibly input matrix)
---- Input registration matrix (computed) --------
 0.99998   0.00022   0.00619   0.97498;
-0.00619   0.03597   0.99933  -0.08174;
-0.00000  -0.99935   0.03597  -6.71382;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
 0.99998   0.00022   0.00619   0.97498;
-0.00619   0.03597   0.99933  -0.08174;
-0.00000  -0.99935   0.03597  -6.71382;
 0.00000   0.00000   0.00000   1.00000;
Determinant 0.999999
subject = Patient_042
RegMat ---------------------------
 0.99998   0.00022   0.00619   0.97498;
-0.00619   0.03597   0.99933  -0.08174;
-0.00000  -0.99935   0.03597  -6.71382;
 0.00000   0.00000   0.00000   1.00000;
FSLOUTPUTTYPE NIFTI 
tkreg2FSL: mov det = -5.02197, ref det = -1
Sat Mar 18 07:11:51 AEST 2017
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_042/preproc
flirt.fsl -ref ./tmp.bbregister.41067/fslregister/refvol.fslregister.nii -in ./tmp.bbregister.41067/fslregister/movvol.fslregister.nii -bins 256 -cost corratio -dof 6 -searchrx -90 90 -searchry -90 90 -searchrz -90 90 -verbose 0 -omat ./tmp.bbregister.41067/fslregister/fslmat0.trans.mat -schedule /software/freesurfer/freesurfer-6.0.0/bin/fsl.5.0.2.xyztrans.sch -init ./tmp.bbregister.41067/reg.init.dat.fsl.mat0
Sat Mar 18 07:12:21 AEST 2017
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_042/preproc
flirt.fsl -ref ./tmp.bbregister.41067/fslregister/refvol.fslregister.nii -in ./tmp.bbregister.41067/fslregister/movvol.fslregister.nii -bins 256 -cost corratio -dof 6 -searchrx -90 90 -searchry -90 90 -searchrz -90 90 -verbose 0 -omat ./tmp.bbregister.41067/reg.init.dat.fsl.mat -init ./tmp.bbregister.41067/fslregister/fslmat0.trans.mat -schedule /software/freesurfer/freesurfer-6.0.0/bin/flirt.newdefault.20080811.sch
tkregister2_cmdl --s Patient_042 --mov ./tmp.bbregister.41067/fslregister/movvol.fslregister.nii --reg ./tmp.bbregister.41067/reg.init.dat --fslreg ./tmp.bbregister.41067/reg.init.dat.fsl.mat --noedit
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
---- FSL registration matrix --------
 0.99998   0.00393   0.00532   18.04770;
 0.00517   0.03799  -0.99927   200.16400;
-0.00413   0.99927   0.03797   8.28818;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume ./tmp.bbregister.41067/fslregister/movvol.fslregister.nii
reg file       ./tmp.bbregister.41067/reg.init.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target /working/lab_michaebr/alistaiP/Park/FS/Patient_042/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.41067/fslregister/movvol.fslregister.nii
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 0, float2int = 0
FSLOUTPUTTYPE NIFTI 
fsl2TkReg: mov det = -5.02197, ref det = -1
---- Input registration matrix (computed) --------
 0.99998   0.00413   0.00517   0.91714;
-0.00532   0.03797   0.99926   0.74142;
 0.00393  -0.99927   0.03799  -7.31471;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
 0.99998   0.00413   0.00517   0.91714;
-0.00532   0.03797   0.99926   0.74142;
 0.00393  -0.99927   0.03799  -7.31471;
 0.00000   0.00000   0.00000   1.00000;
Determinant 0.999999
subject = Patient_042
RegMat ---------------------------
 0.99998   0.00413   0.00517   0.91714;
-0.00532   0.03797   0.99926   0.74142;
 0.00393  -0.99927   0.03799  -7.31471;
 0.00000   0.00000   0.00000   1.00000;
mri_matrix_multiply -im ./tmp.bbregister.41067/fslregister/swapreg.dat -im ./tmp.bbregister.41067/reg.init.dat -om ./tmp.bbregister.41067/reg.init.dat
(standard_in) 1: illegal character: P
 
Started at Sat Mar 18 07:11:49 AEST 2017 
Ended   at Sat Mar 18 07:13:36 AEST 2017
 
fslregister Done
 
To check results, run:
tkregister2 --mov ./tmp.bbregister.41067/template.nii --reg ./tmp.bbregister.41067/reg.init.dat --surf orig
 
mri_segreg --mov ./tmp.bbregister.41067/template.nii --init-reg ./tmp.bbregister.41067/reg.init.dat --out-reg ./tmp.bbregister.41067/bbr.pass1.dat --subsamp-brute 100 --subsamp 100 --tol 1e-4 --tol1d 1e-3 --brute -4 4 4 --surf white --gm-proj-frac 0.5 --gm-gt-wm 0.5
$Id: mri_segreg.c,v 1.113 2016/05/10 03:23:20 greve Exp $
setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/Park/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_042/preproc
mri_segreg --mov ./tmp.bbregister.41067/template.nii --init-reg ./tmp.bbregister.41067/reg.init.dat --out-reg ./tmp.bbregister.41067/bbr.pass1.dat --subsamp-brute 100 --subsamp 100 --tol 1e-4 --tol1d 1e-3 --brute -4 4 4 --surf white --gm-proj-frac 0.5 --gm-gt-wm 0.5 
sysname  Linux
hostname hpcnode037.adqimr.ad.lan
machine  x86_64
user     alistaiP
movvol ./tmp.bbregister.41067/template.nii
regfile ./tmp.bbregister.41067/reg.init.dat
subject Patient_042
dof 6
outregfile ./tmp.bbregister.41067/bbr.pass1.dat
UseMask 0
UseLH 1
UseRH 1
nsubsamp 100
PenaltySign  -1
PenaltySlope 0.500000
PenaltyCenter 0.000000
surfname white
GMProjFrac 0.500000
WMProjAbs 2.000000
lhcostfile (null)
rhcostfile (null)
interp  trilinear (1)
frame  0
TolPowell 0.000100
nMaxItersPowell 36
n1dmin  3
Profile   0
Gdiag_no  -1
AddNoise  0 (0)
SynthSeed 1490109092
TransRandMax 0.000000
RotRandMax 0.000000
Translations 0.000000 0.000000 0.000000
Rotations   0.000000 0.000000 0.000000
Input reg
-0.99998  -0.00413  -0.00517   0.80162;
-0.00532   0.03797   0.99926   0.74143;
 0.00393  -0.99927   0.03799  -7.31471;
 0.00000   0.00000   0.00000   1.00000;

Loading mov
Projecting LH Surfs
Loading lh.white surf
Loading lh.thickness for GM
GM Proj: 1 0.500000 2.000000
WM Proj: 0 0.500000 2.000000
Projecting RH Surfs
Loading rh.white surf
Loading rh.thickness for GM
Projecting RH Surfs
Using lh.cortex.label
Using rh.cortex.label
Computing relative cost
 0  -25.0 -25.0 -25.0   1.012604
 1  -25.0 -25.0  25.0   1.021786
 2  -25.0  25.0 -25.0   0.973049
 3  -25.0  25.0  25.0   1.022088
 4   25.0 -25.0 -25.0   0.984172
 5   25.0 -25.0  25.0   0.973881
 6   25.0  25.0 -25.0   0.961016
 7   25.0  25.0  25.0   0.937793
REL:  8  0.119707    7.886389  0.985799 rel = 0.121431 
Initial costs ----------------
Number of surface hits 2766
WM  Intensity   348.2543 +/-  66.0375
Ctx Intensity   482.3983 +/- 115.0789
Pct Contrast     30.8136 +/-  23.5865
Cost   0.1197
RelCost   0.1214

------------------------------------
Brute force preopt -4 4 4, n = 729
     0  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000      0.9855   0.9855  0.0
     1  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000   0.0000      0.9637   0.9637  0.0
     2  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000   4.0000      0.9631   0.9631  0.0
     6  -4.0000  -4.0000  -4.0000  -4.0000   4.0000  -4.0000      0.8869   0.8869  0.0
    15  -4.0000  -4.0000  -4.0000   0.0000   4.0000  -4.0000      0.8402   0.8402  0.0
    33  -4.0000  -4.0000   0.0000  -4.0000   4.0000  -4.0000      0.8273   0.8273  0.0
    34  -4.0000  -4.0000   0.0000  -4.0000   4.0000   0.0000      0.8091   0.8091  0.0
   120  -4.0000   0.0000   0.0000   0.0000   0.0000  -4.0000      0.7336   0.7336  0.0
   123  -4.0000   0.0000   0.0000   0.0000   4.0000  -4.0000      0.7275   0.7275  0.0
   274   0.0000  -4.0000   0.0000  -4.0000   0.0000   0.0000      0.6404   0.6404  0.0
   363   0.0000   0.0000   0.0000   0.0000   0.0000  -4.0000      0.6195   0.6195  0.0
   364   0.0000   0.0000   0.0000   0.0000   0.0000   0.0000      0.1197   0.1197  0.0
Brute Force --------------------------
Min cost was 0.119707
Number of iterations   729
Search time 3.815000 sec
Parameters at best (transmm, rotdeg)
  0.000   0.000   0.000  0.000  0.000  0.000 
--------------------------------------------

Starting Powell Minimization
Init Powel Params dof = 6
0 0
1 0
2 0
3 0
4 0
5 0
fs_powell::minimize
  nparams 6
  maxfev 36
  ftol   0.000100
  linmin_xtol_   0.001000
  powell nthiter 0: fret = 0.119707
   7 -0.030  0.000  0.000  0.000  0.000  0.000   0.1193421708
  10 -0.039  0.000  0.000  0.000  0.000  0.000   0.1193403826
  12 -0.035  0.000  0.000  0.000  0.000  0.000   0.1193334285
  19 -0.035 -0.618  0.000  0.000  0.000  0.000   0.0866372349
  21 -0.035 -0.576  0.000  0.000  0.000  0.000   0.0865901880
  22 -0.035 -0.592  0.000  0.000  0.000  0.000   0.0865451091
  23 -0.035 -0.594  0.000  0.000  0.000  0.000   0.0865445449
  26 -0.035 -0.594  1.000  0.000  0.000  0.000   0.0822073222
  30 -0.035 -0.594  0.618  0.000  0.000  0.000   0.0745088176
  32 -0.035 -0.594  0.569  0.000  0.000  0.000   0.0744077312
  34 -0.035 -0.594  0.564  0.000  0.000  0.000   0.0743952281
  36 -0.035 -0.594  0.482  0.000  0.000  0.000   0.0742957614
  38 -0.035 -0.594  0.431  0.000  0.000  0.000   0.0742244559
  39 -0.035 -0.594  0.400  0.000  0.000  0.000   0.0741551411
  41 -0.035 -0.594  0.409  0.000  0.000  0.000   0.0741529415
  42 -0.035 -0.594  0.405  0.000  0.000  0.000   0.0741502664
  43 -0.035 -0.594  0.404  0.000  0.000  0.000   0.0741501362
  53 -0.035 -0.594  0.404 -0.039  0.000  0.000   0.0741224968
  54 -0.035 -0.594  0.404 -0.023  0.000  0.000   0.0740949211
  55 -0.035 -0.594  0.404 -0.022  0.000  0.000   0.0740943815
  57 -0.035 -0.594  0.404 -0.021  0.000  0.000   0.0740943119
  65 -0.035 -0.594  0.404 -0.021  0.051  0.000   0.0733430829
  67 -0.035 -0.594  0.404 -0.021  0.063  0.000   0.0733428714
  68 -0.035 -0.594  0.404 -0.021  0.057  0.000   0.0733387314
  77 -0.035 -0.594  0.404 -0.021  0.057  0.027   0.0733104301
  79 -0.035 -0.594  0.404 -0.021  0.057  0.025   0.0733102748
  80 -0.035 -0.594  0.404 -0.021  0.057  0.024   0.0733102030
  powell nthiter 1: fret = 0.073310
  88 -0.032 -0.594  0.404 -0.021  0.057  0.024   0.0733070370
  89 -0.028 -0.594  0.404 -0.021  0.057  0.024   0.0733057886
  90 -0.029 -0.594  0.404 -0.021  0.057  0.024   0.0733057666
  99 -0.029 -0.601  0.404 -0.021  0.057  0.024   0.0732977737
 115 -0.029 -0.601  0.400 -0.021  0.057  0.024   0.0732960605
 116 -0.029 -0.601  0.399 -0.021  0.057  0.024   0.0732958678
 118 -0.029 -0.601  0.398 -0.021  0.057  0.024   0.0732957180
 127 -0.029 -0.601  0.398 -0.059  0.057  0.024   0.0731032703
 128 -0.029 -0.601  0.398 -0.063  0.057  0.024   0.0730937571
 129 -0.029 -0.601  0.398 -0.080  0.057  0.024   0.0730426887
 131 -0.029 -0.601  0.398 -0.105  0.057  0.024   0.0729696889
 133 -0.029 -0.601  0.398 -0.113  0.057  0.024   0.0729577151
 134 -0.029 -0.601  0.398 -0.114  0.057  0.024   0.0729571339
 135 -0.029 -0.601  0.398 -0.116  0.057  0.024   0.0729566184
 146 -0.029 -0.601  0.398 -0.116  0.054  0.024   0.0729503717
 147 -0.029 -0.601  0.398 -0.116  0.052  0.024   0.0729491647
 157 -0.029 -0.601  0.398 -0.116  0.052  0.097   0.0726767851
 159 -0.029 -0.601  0.398 -0.116  0.052  0.071   0.0726527201
 162 -0.029 -0.601  0.398 -0.116  0.052  0.064   0.0726480964
 163 -0.029 -0.601  0.398 -0.116  0.052  0.065   0.0726473278
  powell nthiter 2: fret = 0.072647
 174 -0.009 -0.601  0.398 -0.116  0.052  0.065   0.0724930910
 177 -0.004 -0.601  0.398 -0.116  0.052  0.065   0.0724847151
 187 -0.004 -0.626  0.398 -0.116  0.052  0.065   0.0722265571
 188 -0.004 -0.632  0.398 -0.116  0.052  0.065   0.0722246935
 189 -0.004 -0.629  0.398 -0.116  0.052  0.065   0.0722230529
 201 -0.004 -0.629  0.419 -0.116  0.052  0.065   0.0721931745
 202 -0.004 -0.629  0.414 -0.116  0.052  0.065   0.0721889738
 203 -0.004 -0.629  0.413 -0.116  0.052  0.065   0.0721887839
 204 -0.004 -0.629  0.412 -0.116  0.052  0.065   0.0721881101
 206 -0.004 -0.629  0.410 -0.116  0.052  0.065   0.0721879887
 208 -0.004 -0.629  0.411 -0.116  0.052  0.065   0.0721878398
 220 -0.004 -0.629  0.411 -0.117  0.052  0.065   0.0721854135
 221 -0.004 -0.629  0.411 -0.124  0.052  0.065   0.0721835131
 223 -0.004 -0.629  0.411 -0.121  0.052  0.065   0.0721801659
 234 -0.004 -0.629  0.411 -0.121  0.045  0.065   0.0721485437
 245 -0.004 -0.629  0.411 -0.121  0.045  0.084   0.0720986716
 248 -0.004 -0.629  0.411 -0.121  0.045  0.086   0.0720979035
  powell nthiter 3: fret = 0.072098
 259  0.010 -0.629  0.411 -0.121  0.045  0.086   0.0720433071
 261  0.013 -0.629  0.411 -0.121  0.045  0.086   0.0720426829
 263  0.012 -0.629  0.411 -0.121  0.045  0.086   0.0720423682
 272  0.012 -0.633  0.411 -0.121  0.045  0.086   0.0720416676
 273  0.012 -0.632  0.411 -0.121  0.045  0.086   0.0720408034
 285  0.012 -0.632  0.417 -0.121  0.045  0.086   0.0720323520
 298  0.012 -0.632  0.417 -0.117  0.045  0.086   0.0720220463
 299  0.012 -0.632  0.417 -0.111  0.045  0.086   0.0720123233
 301  0.012 -0.632  0.417 -0.110  0.045  0.086   0.0720118875
 311  0.012 -0.632  0.417 -0.110  0.039  0.086   0.0719961054
 322  0.012 -0.632  0.417 -0.110  0.039  0.094   0.0719870933
 324  0.012 -0.632  0.417 -0.110  0.039  0.099   0.0719869327
 325  0.012 -0.632  0.417 -0.110  0.039  0.097   0.0719853170
 328  0.028 -0.634  0.424 -0.099  0.034  0.108   0.0719527037
 334  0.021 -0.633  0.421 -0.103  0.036  0.104   0.0719513819
 335  0.024 -0.633  0.422 -0.102  0.035  0.105   0.0719496262
  powell nthiter 4: fret = 0.071950
 351  0.024 -0.633  0.422 -0.102  0.035  0.101   0.0719494470
 354  0.024 -0.633  0.422 -0.102  0.035  0.089   0.0719409551
 356  0.024 -0.633  0.422 -0.102  0.035  0.094   0.0719340999
 381  0.024 -0.633  0.423 -0.102  0.035  0.094   0.0719339441
 412  0.030 -0.634  0.426 -0.098  0.033  0.098   0.0719249792
 413  0.031 -0.634  0.426 -0.097  0.033  0.099   0.0719246978
 414  0.032 -0.634  0.426 -0.097  0.032  0.099   0.0719246693
 416  0.031 -0.634  0.426 -0.097  0.032  0.099   0.0719246271
  powell nthiter 5: fret = 0.071925
 438  0.031 -0.638  0.426 -0.097  0.032  0.099   0.0719235626
 439  0.031 -0.637  0.426 -0.097  0.032  0.099   0.0719232885
 464  0.031 -0.637  0.426 -0.100  0.032  0.099   0.0719222759
 465  0.031 -0.637  0.426 -0.099  0.032  0.099   0.0719222618
 475  0.031 -0.637  0.426 -0.099  0.034  0.099   0.0719220727
 483  0.032 -0.637  0.427 -0.099  0.033  0.100   0.0719218459
Powell done niters = 5
Computing relative cost
 0  -25.0 -25.0 -25.0   1.006045
 1  -25.0 -25.0  25.0   0.993275
 2  -25.0  25.0 -25.0   0.956708
 3  -25.0  25.0  25.0   1.013896
 4   25.0 -25.0 -25.0   1.003714
 5   25.0 -25.0  25.0   0.954153
 6   25.0  25.0 -25.0   0.964008
 7   25.0  25.0  25.0   0.950842
REL:  8  0.071922    7.842641  0.980330 rel = 0.0733649 
Number of iterations     5
Min cost was 0.071922
Number of FunctionCalls   489
TolPowell 0.000100
nMaxItersPowell 36
OptimizationTime 2.539000 sec
Parameters at optimum (transmm)  0.03208 -0.63675  0.42657
Parameters at optimum (rotdeg) -0.09876  0.03330  0.09976 
Final costs ----------------
Number of surface hits 2765
WM  Intensity   341.8724 +/-  63.4082
Ctx Intensity   477.1968 +/-  95.0844
Pct Contrast     32.2186 +/-  21.5494
Cost   0.0719
RelCost   0.1214
Reg at min cost was 
-0.99996  -0.00477  -0.00689   0.82818;
-0.00706   0.03624   0.99932   0.09345;
 0.00452  -0.99933   0.03627  -6.88987;
 0.00000   0.00000   0.00000   1.00000;

Writing optimal reg to ./tmp.bbregister.41067/bbr.pass1.dat, type = 14 
Original Reg 
-0.99998  -0.00413  -0.00517   0.80162;
-0.00532   0.03797   0.99926   0.74143;
 0.00393  -0.99927   0.03799  -7.31471;
 0.00000   0.00000   0.00000   1.00000;

Original Reg - Optimal Reg
-0.00001   0.00064   0.00172  -0.02656;
 0.00173   0.00173  -0.00005   0.64798;
-0.00059   0.00006   0.00172  -0.42484;
 0.00000   0.00000   0.00000   0.00000;

Computing change in lh position
LH rmsDiffMean 0.678902
Computing change in rh position
Surface-RMS-Diff-mm 0.728315 0.080411 0.909975
mri_segreg done
mri_segreg --mov ./tmp.bbregister.41067/template.nii --init-reg ./tmp.bbregister.41067/bbr.pass1.dat --out-reg register.dat --interp trilinear --wm-proj-abs 2 --tol 1e-8 --tol1d 1e-3 --c0 0 --mincost register.dat.mincost --dof 6 --nmax 36 --param register.dat.param --surf white --brute -0.1 0.1 0.1 --cur-reg ./tmp.bbregister.41067/reg.curopt.dat --gm-proj-frac 0.5 --nsub 1 --gm-gt-wm 0.5
$Id: mri_segreg.c,v 1.113 2016/05/10 03:23:20 greve Exp $
setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/Park/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_042/preproc
mri_segreg --mov ./tmp.bbregister.41067/template.nii --init-reg ./tmp.bbregister.41067/bbr.pass1.dat --out-reg register.dat --interp trilinear --wm-proj-abs 2 --tol 1e-8 --tol1d 1e-3 --c0 0 --mincost register.dat.mincost --dof 6 --nmax 36 --param register.dat.param --surf white --brute -0.1 0.1 0.1 --cur-reg ./tmp.bbregister.41067/reg.curopt.dat --gm-proj-frac 0.5 --nsub 1 --gm-gt-wm 0.5 
sysname  Linux
hostname hpcnode037.adqimr.ad.lan
machine  x86_64
user     alistaiP
movvol ./tmp.bbregister.41067/template.nii
regfile ./tmp.bbregister.41067/bbr.pass1.dat
subject Patient_042
dof 6
outregfile register.dat
UseMask 0
UseLH 1
UseRH 1
nsubsamp 1
PenaltySign  -1
PenaltySlope 0.500000
PenaltyCenter 0.000000
surfname white
GMProjFrac 0.500000
WMProjAbs 2.000000
lhcostfile (null)
rhcostfile (null)
interp  trilinear (1)
frame  0
TolPowell 0.000000
nMaxItersPowell 36
n1dmin  3
Profile   0
Gdiag_no  -1
AddNoise  0 (0)
SynthSeed 1490622607
TransRandMax 0.000000
RotRandMax 0.000000
Translations 0.000000 0.000000 0.000000
Rotations   0.000000 0.000000 0.000000
Input reg
-0.99996  -0.00477  -0.00689   0.82818;
-0.00706   0.03624   0.99932   0.09345;
 0.00452  -0.99933   0.03627  -6.88987;
 0.00000   0.00000   0.00000   1.00000;

Loading mov
Projecting LH Surfs
Loading lh.white surf
Loading lh.thickness for GM
GM Proj: 1 0.500000 2.000000
WM Proj: 0 0.500000 2.000000
Projecting RH Surfs
Loading rh.white surf
Loading rh.thickness for GM
Projecting RH Surfs
Using lh.cortex.label
Using rh.cortex.label
Computing relative cost
 0  -25.0 -25.0 -25.0   1.016735
 1  -25.0 -25.0  25.0   1.010398
 2  -25.0  25.0 -25.0   0.986497
 3  -25.0  25.0  25.0   1.013003
 4   25.0 -25.0 -25.0   1.001546
 5   25.0 -25.0  25.0   0.963840
 6   25.0  25.0 -25.0   0.972292
 7   25.0  25.0  25.0   0.982014
REL:  8  0.077049    7.946324  0.993291 rel = 0.0775695 
Initial costs ----------------
Number of surface hits 276057
WM  Intensity   341.5274 +/-  62.3431
Ctx Intensity   475.6193 +/-  92.4296
Pct Contrast     32.1984 +/-  19.9666
Cost   0.0770
RelCost   0.0776

------------------------------------
Brute force preopt -0.1 0.1 0.1, n = 729
     0  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000      0.0805   0.0805  0.0
     1  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000   0.0000      0.0791   0.0791  0.0
     4  -0.1000  -0.1000  -0.1000  -0.1000   0.0000   0.0000      0.0774   0.0774  0.0
     9  -0.1000  -0.1000  -0.1000   0.0000  -0.1000  -0.1000      0.0768   0.0768  0.0
    10  -0.1000  -0.1000  -0.1000   0.0000  -0.1000   0.0000      0.0762   0.0762  0.0
    13  -0.1000  -0.1000  -0.1000   0.0000   0.0000   0.0000      0.0743   0.0743  0.0
    22  -0.1000  -0.1000  -0.1000   0.1000   0.0000   0.0000      0.0738   0.0738  0.0
    40  -0.1000  -0.1000   0.0000   0.0000   0.0000   0.0000      0.0735   0.0735  0.0
    49  -0.1000  -0.1000   0.0000   0.1000   0.0000   0.0000      0.0732   0.0732  0.0
    53  -0.1000  -0.1000   0.0000   0.1000   0.1000   0.1000      0.0726   0.0726  0.0
   134  -0.1000   0.0000   0.0000   0.1000   0.1000   0.1000      0.0718   0.0718  0.0
   284   0.0000  -0.1000   0.0000   0.0000   0.0000   0.1000      0.0715   0.0715  0.0
Brute Force --------------------------
Min cost was 0.071457
Number of iterations   729
Search time 3.161000 sec
Parameters at best (transmm, rotdeg)
  0.000  -0.100   0.000  0.000  0.000  0.100 
--------------------------------------------

Starting Powell Minimization
Init Powel Params dof = 6
0 0
1 -0.1
2 0
3 0
4 0
5 0.1
fs_powell::minimize
  nparams 6
  maxfev 36
  ftol   0.000000
  linmin_xtol_   0.001000
  powell nthiter 0: fret = 0.078532
   7 -0.019 -0.100  0.000  0.000  0.000  0.100   0.0785140146
  10 -0.018 -0.100  0.000  0.000  0.000  0.100   0.0785139609
  18 -0.018 -0.054  0.000  0.000  0.000  0.100   0.0783314644
  19 -0.018 -0.053  0.000  0.000  0.000  0.100   0.0783311860
  20 -0.018 -0.051  0.000  0.000  0.000  0.100   0.0783241260
  33 -0.018 -0.051  0.156  0.000  0.000  0.100   0.0773063296
  34 -0.018 -0.051  0.147  0.000  0.000  0.100   0.0773051892
  40 -0.018 -0.051  0.146  0.000  0.000  0.100   0.0773042856
  47 -0.018 -0.051  0.146  0.082  0.000  0.100   0.0771417537
  48 -0.018 -0.051  0.146  0.057  0.000  0.100   0.0770994997
  50 -0.018 -0.051  0.146  0.060  0.000  0.100   0.0770985872
  51 -0.018 -0.051  0.146  0.068  0.000  0.100   0.0770963065
  55 -0.018 -0.051  0.146  0.067  0.000  0.100   0.0770949525
  63 -0.018 -0.051  0.146  0.067 -0.004  0.100   0.0770944395
  64 -0.018 -0.051  0.146  0.067 -0.003  0.100   0.0770943242
  72 -0.018 -0.051  0.146  0.067 -0.003 -0.121   0.0754465296
  73 -0.018 -0.051  0.146  0.067 -0.003 -0.099   0.0754104412
  74 -0.018 -0.051  0.146  0.067 -0.003 -0.092   0.0754096847
  75 -0.018 -0.051  0.146  0.067 -0.003 -0.095   0.0754096053
  powell nthiter 1: fret = 0.075410
  85 -0.065 -0.051  0.146  0.067 -0.003 -0.095   0.0750752165
  86 -0.093 -0.051  0.146  0.067 -0.003 -0.095   0.0750397275
  88 -0.092 -0.051  0.146  0.067 -0.003 -0.095   0.0750392605
  89 -0.091 -0.051  0.146  0.067 -0.003 -0.095   0.0750392534
  97 -0.091 -0.011  0.146  0.067 -0.003 -0.095   0.0749572766
  98 -0.091 -0.017  0.146  0.067 -0.003 -0.095   0.0749552047
 108 -0.091 -0.017  0.113  0.067 -0.003 -0.095   0.0749127212
 111 -0.091 -0.017  0.109  0.067 -0.003 -0.095   0.0749122266
 115 -0.091 -0.017  0.108  0.067 -0.003 -0.095   0.0749121910
 123 -0.091 -0.017  0.108  0.065 -0.003 -0.095   0.0749120331
 131 -0.091 -0.017  0.108  0.065  0.017 -0.095   0.0749055775
 132 -0.091 -0.017  0.108  0.065  0.010 -0.095   0.0748958598
 134 -0.091 -0.017  0.108  0.065  0.011 -0.095   0.0748958291
 144 -0.091 -0.017  0.108  0.065  0.011 -0.121   0.0748625781
 145 -0.091 -0.017  0.108  0.065  0.011 -0.120   0.0748558748
  powell nthiter 2: fret = 0.074856
 157 -0.107 -0.017  0.108  0.065  0.011 -0.120   0.0748443045
 158 -0.103 -0.017  0.108  0.065  0.011 -0.120   0.0748433588
 159 -0.104 -0.017  0.108  0.065  0.011 -0.120   0.0748433038
 179 -0.104 -0.017  0.107  0.065  0.011 -0.120   0.0748431667
 191 -0.104 -0.017  0.107  0.064  0.011 -0.120   0.0748427631
 192 -0.104 -0.017  0.107  0.063  0.011 -0.120   0.0748425480
 210 -0.104 -0.017  0.107  0.063  0.011 -0.125   0.0748386390
 211 -0.104 -0.017  0.107  0.063  0.011 -0.128   0.0748380296
  powell nthiter 3: fret = 0.074838
 223 -0.106 -0.017  0.107  0.063  0.011 -0.128   0.0748376472
 234 -0.106 -0.018  0.107  0.063  0.011 -0.128   0.0748367834
 277 -0.107 -0.019  0.107  0.063  0.011 -0.128   0.0748362009
 284 -0.108 -0.019  0.107  0.063  0.011 -0.128   0.0748361939
 285 -0.108 -0.019  0.107  0.063  0.011 -0.128   0.0748361909
 287 -0.108 -0.019  0.107  0.063  0.011 -0.128   0.0748361827
  powell nthiter 4: fret = 0.074836
 299 -0.105 -0.019  0.107  0.063  0.011 -0.128   0.0748359959
 302 -0.106 -0.019  0.107  0.063  0.011 -0.128   0.0748358997
 349 -0.107 -0.019  0.107  0.063  0.011 -0.128   0.0748357731
 352 -0.107 -0.019  0.107  0.063  0.011 -0.128   0.0748357708
 357 -0.107 -0.019  0.107  0.063  0.011 -0.128   0.0748357670
 358 -0.107 -0.019  0.107  0.063  0.011 -0.128   0.0748357614
 360 -0.107 -0.019  0.107  0.063  0.011 -0.128   0.0748357575
  powell nthiter 5: fret = 0.074836
Powell done niters = 5
Computing relative cost
 0  -25.0 -25.0 -25.0   1.017170
 1  -25.0 -25.0  25.0   1.009985
 2  -25.0  25.0 -25.0   0.988630
 3  -25.0  25.0  25.0   1.013070
 4   25.0 -25.0 -25.0   1.000978
 5   25.0 -25.0  25.0   0.965152
 6   25.0  25.0 -25.0   0.974222
 7   25.0  25.0  25.0   0.982809
REL:  8  0.074836    7.952015  0.994002 rel = 0.0752873 
Number of iterations     5
Min cost was 0.074836
Number of FunctionCalls   432
TolPowell 0.000000
nMaxItersPowell 36
OptimizationTime 80.037000 sec
Parameters at optimum (transmm) -0.10704 -0.01927  0.10747
Parameters at optimum (rotdeg)  0.06291  0.01062 -0.12794 
Final costs ----------------
Number of surface hits 276050
WM  Intensity   340.9424 +/-  62.0524
Ctx Intensity   475.3583 +/-  91.2204
Pct Contrast     32.3391 +/-  19.9534
Cost   0.0748
RelCost   0.0776
Reg at min cost was 
-0.99998  -0.00487  -0.00465   0.72008;
-0.00483   0.03735   0.99929   0.07991;
 0.00470  -0.99929   0.03737  -6.78245;
 0.00000   0.00000   0.00000   1.00000;

Writing optimal reg to register.dat, type = 14 
Original Reg 
-0.99996  -0.00477  -0.00689   0.82818;
-0.00706   0.03624   0.99932   0.09345;
 0.00452  -0.99933   0.03627  -6.88987;
 0.00000   0.00000   0.00000   1.00000;

Original Reg - Optimal Reg
 0.00001   0.00010  -0.00224   0.10810;
-0.00223  -0.00111   0.00003   0.01355;
-0.00018  -0.00004  -0.00110  -0.10742;
 0.00000   0.00000   0.00000   0.00000;

Computing change in lh position
LH rmsDiffMean 0.191570
Computing change in rh position
Surface-RMS-Diff-mm 0.180253 0.024732 0.256212
mri_segreg done
MinCost: 0.074836 340.942360 475.358322 32.339134 
tkregister2_cmdl --mov biasmeanb0bet.nii.gz --reg register.dat --noedit --fslregout diff2FS.mat
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume biasmeanb0bet.nii.gz
reg file       register.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
---- Input registration matrix --------
-0.99998  -0.00487  -0.00465   0.72008;
-0.00483   0.03735   0.99929   0.07991;
 0.00470  -0.99929   0.03737  -6.78245;
 0.00000   0.00000   0.00000   1.00000;
float2int = 0
---------------------------------------
INFO: loading target /working/lab_michaebr/alistaiP/Park/FS/Patient_042/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable biasmeanb0bet.nii.gz
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 0, float2int = 0
---- Input registration matrix --------
-0.99998  -0.00487  -0.00465   0.72008;
-0.00483   0.03735   0.99929   0.07991;
 0.00470  -0.99929   0.03737  -6.78245;
 0.00000   0.00000   0.00000   1.00000;
Determinant -0.999999
subject = Patient_042
RegMat ---------------------------
-0.99998  -0.00487  -0.00465   0.72008;
-0.00483   0.03735   0.99929   0.07991;
 0.00470  -0.99929   0.03737  -6.78245;
 0.00000   0.00000   0.00000   1.00000;
FSLOUTPUTTYPE NIFTI_GZ 
tkreg2FSL: mov det = 5.02197, ref det = -1
INFO: FSL2FreeSurfer: Mov volume is NIFTI with positive det,
      applying LR flip to registration matrix.
Cleaning up
 
Started at Sat Mar 18 07:11:48 AEST 2017 
Ended   at Sat Mar 18 07:15:38 AEST 2017
BBR-Run-Time-Sec 230
 
bbregister Done
To check results, run:
tkregisterfv --mov biasmeanb0bet.nii.gz --reg register.dat --surfs 
 
dwi2response: [03;32m[0m
dwi2response: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation. Please consult the help page (-help option) for more information.[0m
dwi2response: [03;32m[0m
dwi2response: [03;32mGenerated temporary directory: /tmp/dwi2response-tmp-16JVCR/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_042/preproc/biascorr.mif /tmp/dwi2response-tmp-16JVCR/dwi.mif -stride 0,0,0,1
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_042/preproc/biasmeanb0bet_mask.nii.gz /tmp/dwi2response-tmp-16JVCR/mask.mif -datatype bit
dwi2response: [03;32mChanging to temporary directory (/tmp/dwi2response-tmp-16JVCR/)[0m
dwi2response: [03;32m2 unique b-value(s) detected: 0,3000 with 12,90 volumes.[0m
[03;34mCommand:[0m maskfilter mask.mif erode eroded_mask.mif -npass 3
[03;34mCommand:[0m dwiextract dwi.mif -shell 0 dwi_b0.mif
[03;34mCommand:[0m mrmath dwi_b0.mif mean mean_b0.mif -axis 3
[03;34mCommand:[0m mrcalc mean_b0.mif -finite mean_b0.mif 0 -if 0 -le err_b0.mif -datatype bit
[03;34mCommand:[0m dwiextract dwi.mif -shell 3000 dwi_b3000.mif
[03;34mCommand:[0m mrmath dwi_b3000.mif mean mean_b3000.mif -axis 3
[03;34mCommand:[0m mrcalc mean_b3000.mif -finite mean_b3000.mif 0 -if 0 -le err_b3000.mif -datatype bit
[03;34mCommand:[0m mrcalc mean_b0.mif mean_b3000.mif -divide -log sdm_b3000.mif
[03;34mCommand:[0m mrcalc sdm_b3000.mif 90 -mult 90 -divide full_sdm.mif
[03;34mCommand:[0m mrcalc full_sdm.mif -finite full_sdm.mif 0 -if 0 -le err_sdm.mif -datatype bit
[03;34mCommand:[0m mrcalc err_b0.mif err_b3000.mif -add err_sdm.mif -add 0 eroded_mask.mif -if safe_mask.mif -datatype bit
[03;34mCommand:[0m mrcalc safe_mask.mif full_sdm.mif 0 -if 10 -min safe_sdm.mif
[03;34mCommand:[0m dwi2tensor dwi.mif - -mask safe_mask.mif | tensor2metric - -fa safe_fa.mif -vector safe_vecs.mif -modulate none -mask safe_mask.mif
[03;34mCommand:[0m mrcalc safe_mask.mif safe_fa.mif 0 -if 0.2 -gt crude_wm.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_wm.mif 0 safe_mask.mif -if _crudenonwm.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudenonwm.mif safe_sdm.mif 1.99186 -subtract 0 -if - | mrthreshold - - -mask _crudenonwm.mif | mrcalc _crudenonwm.mif - 0 -if crude_csf.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_csf.mif 0 _crudenonwm.mif -if crude_gm.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_wm.mif safe_sdm.mif 0 -if 1.49773 -gt _crudewmhigh.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudewmhigh.mif 0 crude_wm.mif -if _crudewmlow.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_wm.mif safe_sdm.mif 0 -if 1.93378 -gt _crudewmoutliers.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudewmoutliers.mif 0 crude_wm.mif -if refined_wm.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_gm.mif safe_sdm.mif 0 -if 1.90691 -gt _crudegmhigh.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmhigh.mif 0 crude_gm.mif -if _crudegmlow.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmhigh.mif safe_sdm.mif 1.90691 -subtract 0 -if - | mrthreshold - - -mask _crudegmhigh.mif -invert | mrcalc _crudegmhigh.mif - 0 -if _crudegmhighselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmlow.mif safe_sdm.mif 1.90691 -subtract -neg 0 -if - | mrthreshold - - -mask _crudegmlow.mif -invert | mrcalc _crudegmlow.mif - 0 -if _crudegmlowselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmhighselect.mif 1 _crudegmlowselect.mif -if refined_gm.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudewmoutliers.mif safe_sdm.mif 0 -if 2.62659 -gt 1 crude_csf.mif -if _crudecsfextra.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudecsfextra.mif safe_sdm.mif 2.62659 -subtract 0 -if - | mrthreshold - - -mask _crudecsfextra.mif | mrcalc _crudecsfextra.mif - 0 -if refined_csf.mif -datatype bit
dwi2response: [03;32mRunning 'tournier' algorithm to select 604 single-fibre WM voxels.[0m
[03;34mCommand:[0m dwi2response tournier dwi.mif _respsfwmss.txt -sf_voxels 604 -iter_voxels 6040 -mask refined_wm.mif -voxels voxels_sfwm.mif -quiet -tempdir /tmp/dwi2response-tmp-16JVCR/
[03;34mCommand:[0m mrcalc refined_gm.mif safe_sdm.mif 0 -if 1.901 -gt _refinedgmhigh.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmhigh.mif 0 refined_gm.mif -if _refinedgmlow.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmhigh.mif safe_sdm.mif 0 -if - | mrthreshold - - -bottom 767 -ignorezero | mrcalc _refinedgmhigh.mif - 0 -if _refinedgmhighselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmlow.mif safe_sdm.mif 0 -if - | mrthreshold - - -top 767 -ignorezero | mrcalc _refinedgmlow.mif - 0 -if _refinedgmlowselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmhighselect.mif 1 _refinedgmlowselect.mif -if voxels_gm.mif -datatype bit
[03;34mCommand:[0m mrcalc refined_csf.mif safe_sdm.mif 0 -if - | mrthreshold - - -top 943 -ignorezero | mrcalc refined_csf.mif - 0 -if voxels_csf.mif -datatype bit
dwi2response: [03;32mSummary of voxel counts:[0m
dwi2response: [03;32mMask: 332300 --> 269726 --> 269659[0m
dwi2response: [03;32mWM: 127732 --> 120834 --> 604 (SF)[0m
dwi2response: [03;32mGM: 114086 --> 76701 --> 1534[0m
dwi2response: [03;32mCSF: 27841 --> 9433 --> 943[0m
[03;34mCommand:[0m amp2sh dwi_b0.mif - | sh2response - voxels_sfwm.mif safe_vecs.mif _respsfwmb0.txt
[03;34mCommand:[0m amp2sh dwi_b3000.mif - | sh2response - voxels_sfwm.mif safe_vecs.mif _respsfwmb3000.txt
[03;34mCommand:[0m mrcat crude_csf.mif crude_gm.mif crude_wm.mif crude.mif -axis 3
[03;34mCommand:[0m mrcat refined_csf.mif refined_gm.mif refined_wm.mif refined.mif -axis 3
[03;34mCommand:[0m mrcat voxels_csf.mif voxels_gm.mif voxels_sfwm.mif voxels.mif -axis 3
dwi2response: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_042/preproc)[0m
dwi2response: [03;32mDeleting temporary directory /tmp/dwi2response-tmp-16JVCR/[0m
