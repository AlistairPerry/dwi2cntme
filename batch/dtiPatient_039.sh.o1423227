dwipreproc_cust: [03;32m[0m
dwipreproc_cust: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
dwipreproc_cust: [03;32m[0m
dwipreproc_cust: [03;32mGenerated temporary directory: /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_039/preproc/dwipreproc_cust-tmp-S1QKWP/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_039/preproc/rawdataAPdn.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_039/preproc/dwipreproc_cust-tmp-S1QKWP/series.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_039/preproc/AP7b0s.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_039/preproc/dwipreproc_cust-tmp-S1QKWP/pair1.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_039/preproc/rawdataPAdn.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_039/preproc/dwipreproc_cust-tmp-S1QKWP/pair2.mif
dwipreproc_cust: [03;32mChanging to temporary directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_039/preproc/dwipreproc_cust-tmp-S1QKWP/)[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 102[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -dwgrad' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult:           0           0           0           0
          0           0           0           0
  -0.999993 -0.00234445 -0.00301378        3000
  0.0255911   -0.744203   -0.667464        3000
-0.00361646    0.517427     0.85572        3000
   0.272661    0.827798   -0.490312        3000
  -0.651582    0.404413   -0.641787        3000
   0.507366    0.261341    0.821146        3000
   0.959371    0.279718   0.0369457        3000
   0.534802    0.379944   -0.754738        3000
  -0.317034    0.128037   -0.939732        3000
          0           0           0           0
   0.504934   -0.590421   -0.629639        3000
    0.60026   0.0894531   -0.794787        3000
  -0.953704   -0.155754   -0.257274        3000
  -0.527903   -0.742263    0.412751        3000
    0.19418   -0.924825    0.327096        3000
  -0.365341    0.925704  -0.0979741        3000
   0.259502    0.930335    0.259106        3000
  0.0245347    0.509767   -0.859963        3000
  -0.614625    0.788241  -0.0301894        3000
          0           0           0           0
     0.8723   0.0375472    0.487528        3000
  -0.743922   -0.229466    0.627635        3000
    0.48774    0.676051    0.552327        3000
  -0.451575   -0.890468  -0.0561027        3000
  -0.662047   -0.431133    -0.61304        3000
  -0.853844    0.236344    -0.46378        3000
  -0.438926   -0.505746   -0.742674        3000
   0.957431   -0.139821   -0.252538        3000
  -0.703228   -0.594403   -0.390072        3000
          0           0           0           0
  -0.387424   -0.179663    0.904226        3000
   0.143378   -0.680663     0.71843        3000
  -0.803135    -0.59552   0.0181645        3000
  -0.288556   -0.136949   -0.947618        3000
   0.963168   -0.127937    0.236516        3000
  -0.151435   -0.695732    0.702157        3000
 -0.0180116   -0.982855   -0.183497        3000
  -0.377094   -0.897224    0.229758        3000
   0.668419     0.72829    0.151029        3000
          0           0           0           0
  -0.290598   -0.465138    0.836182        3000
  -0.721519   -0.163385   -0.672842        3000
   0.717492   -0.657959    0.228682        3000
   0.428595   -0.580428    0.692394        3000
   0.958967   -0.282309  -0.0261359        3000
   0.493432    -0.29563    0.818002        3000
  -0.894755     0.39736   -0.203761        3000
   0.203545    0.978734  -0.0254919        3000
  -0.231019    0.965471    0.120397        3000
          0           0           0           0
   0.739924    0.599359    -0.30542        3000
   0.844209     0.33537   -0.418138        3000
   0.105094   -0.283435    0.953216        3000
   0.239616    0.398922    0.885125        3000
   0.614073    0.777891   -0.133415        3000
  -0.266783     0.45626   -0.848913        3000
  -0.658507   -0.512467    0.551132        3000
   0.256779   -0.895068    -0.36458        3000
  -0.249712   -0.820055    -0.51493        3000
          0           0           0           0
  -0.573236     0.65847   -0.487666        3000
 -0.0215736   -0.248154    -0.96848        3000
  -0.224371    0.320569    0.920268        3000
   0.836866    0.322589    0.442258        3000
   0.860692    0.464874    0.207608        3000
  -0.487716   -0.809672   -0.326443        3000
    0.10634    0.947308   -0.302158        3000
  -0.542115  0.00447982   -0.840293        3000
   0.250518   -0.576145   -0.778009        3000
          0           0           0           0
   0.228826  -0.0498634    -0.97219        3000
   0.215939    0.652376    0.726482        3000
  -0.961662   -0.144532    0.233057        3000
  -0.311899    0.788157   -0.530591        3000
   0.870514     -0.4293   -0.240637        3000
  -0.844641     0.26386    0.465789        3000
   -0.89482   -0.410923    0.174468        3000
   0.703384   -0.678203   -0.212819        3000
   0.666199   -0.350753   -0.658142        3000
          0           0           0           0
  -0.516984    0.749062    0.414287        3000
   0.719914   -0.128405    0.682082        3000
  0.0403368  -0.0154535    0.999067        3000
  -0.827628     0.56123  0.00722654        3000
  -0.452441    0.385356    0.804238        3000
   0.879369     0.02932   -0.475238        3000
   0.148536    0.245763   -0.957882        3000
   0.768206   -0.483079    0.420112        3000
   0.478824   -0.134099   -0.867609        3000
          0           0           0           0
  -0.717341     0.53232    0.449508        3000
   0.482723   -0.821899    0.302424        3000
  -0.281614    0.761325    0.584019        3000
 -0.0172735    0.846885   -0.531495        3000
  0.0654048   -0.993202   0.0962862        3000
   0.421551    0.633151   -0.649164        3000
  -0.732911   0.0978378    0.673253        3000
 0.00119177    0.896237    0.443573        3000
   0.476069   -0.861869    -0.17476        3000
          0           0           0           0[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -stride' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 1 2 3 4[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair1.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair2.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
[03;34mCommand:[0m mrconvert series.mif dwi_pre_topup.nii -stride -1,+2,+3,+4
[03;34mCommand:[0m mrcat pair1.mif pair2.mif - -axis 3 | mrconvert - topup_in.nii -stride -1,+2,+3,+4
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair1.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair2.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
dwipreproc_cust: [03;32mCreating phase-encoding configuration file[0m
[03;34mCommand:[0m topup --imain=topup_in.nii --datain=config.txt --out=field --fout=field_map.nii.gz --config=/software/fsl/fsl-5.0.9_eddy/fsl/etc/flirtsch/b02b0.cnf
[03;34mCommand:[0m applytopup --imain=dwi_pre_topup.nii --datain=config.txt --inindex=1 --topup=field --out=dwi_post_topup.nii.gz --method=jac
[03;34mCommand:[0m mrconvert series.mif - -stride -1,+2,+3,+4 | mrinfo - -export_grad_fsl bvecs bvals
[03;34mCommand:[0m mrconvert dwi_post_topup.nii.gz -fslgrad bvecs bvals - | dwi2mask - - | maskfilter - dilate - | mrconvert - mask.nii -datatype float32 -stride -1,+2,+3
[03;34mCommand:[0m eddy_openmp --imain=dwi_pre_topup.nii --mask=mask.nii --index=indices.txt --acqp=config.txt --bvecs=bvecs --bvals=bvals --repol --topup=field --out=dwi_post_eddy
[03;34mCommand:[0m mrconvert dwi_post_eddy.nii.gz result.mif -stride 1,2,3,4 -fslgrad dwi_post_eddy.eddy_rotated_bvecs bvals
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_039/preproc/eddycorr.mif -export_grad_mrtrix /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_039/preproc/adjencoding.b
dwipreproc_cust: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_039/preproc)[0m
dwipreproc_cust: [03;32mDeleting temporary directory /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_039/preproc/dwipreproc_cust-tmp-S1QKWP/[0m
dwibiascorrect: [03;32m[0m
dwibiascorrect: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
dwibiascorrect: [03;32m[0m
dwibiascorrect: [03;32mGenerated temporary directory: /tmp/dwibiascorrect-tmp-ZHC2L1/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_039/preproc/eddycorr.mif /tmp/dwibiascorrect-tmp-ZHC2L1/in.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_039/preproc/eddymeanb0bet_mask.nii.gz /tmp/dwibiascorrect-tmp-ZHC2L1/mask.mif
dwibiascorrect: [03;32mChanging to temporary directory (/tmp/dwibiascorrect-tmp-ZHC2L1/)[0m
[03;34mCommand:[0m dwiextract in.mif - -bzero | mrmath - mean mean_bzero.mif -axis 3
[03;34mCommand:[0m mrcalc mean_bzero.mif mask.mif -mult - | mrconvert - mean_bzero_masked.nii -stride -1,+2,+3
[03;34mCommand:[0m fast -t 2 -o fast -n 3 -b mean_bzero_masked.nii
[03;34mCommand:[0m mrcalc in.mif fast_bias.nii.gz -div result.mif
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_039/preproc/biascorr.mif
dwibiascorrect: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_039/preproc)[0m
dwibiascorrect: [03;32mDeleting temporary directory /tmp/dwibiascorrect-tmp-ZHC2L1/[0m
Extracting mean of the b=0 shell.
Extracting mean of the b=3000 shell.
Extracting mean of the b=0 shell.
Extracting mean of the b=3000 shell.
8391
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mGenerated temporary directory: /tmp/labelsgmfix-tmp-8P5KRM/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_039/preproc/parctempstr.nii /tmp/labelsgmfix-tmp-8P5KRM/parc.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_039/preproc/brainFS.nii /tmp/labelsgmfix-tmp-8P5KRM/T1.nii -stride -1,+2,+3
labelsgmfix: [03;32mChanging to temporary directory (/tmp/labelsgmfix-tmp-8P5KRM/)[0m
[03;34mCommand:[0m run_first_all -s R_Thal,L_Puta,R_Caud,R_Hipp,L_Amyg,R_Pall,R_Amyg,L_Caud,L_Pall,L_Thal,L_Hipp,R_Accu,L_Accu,R_Puta -i T1.nii -b -o first
[03;34mCommand:[0m mrcalc parc.mif 0 -min sgm.mif
[03;34mCommand:[0m meshconvert first-R_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Thal_mask.mif 6 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Puta_mask.mif 3 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Caud_mask.mif 7 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Hipp_mask.mif 13 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Amyg_mask.mif 12 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Pall_mask.mif 9 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Amyg_mask.mif 14 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Caud_mask.mif 2 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Pall_mask.mif 4 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Thal_mask.mif 1 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Hipp_mask.mif 11 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Accu_mask.mif 10 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Accu_mask.mif 5 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Puta_mask.mif 8 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m mrmath R_Thal_mask.mif L_Puta_mask.mif R_Caud_mask.mif R_Hipp_mask.mif L_Amyg_mask.mif R_Pall_mask.mif R_Amyg_mask.mif L_Caud_mask.mif L_Pall_mask.mif L_Thal_mask.mif L_Hipp_mask.mif R_Accu_mask.mif L_Accu_mask.mif R_Puta_mask.mif sum - | mrcalc - 1 -gt sgm_overlap_mask.mif
[03;34mCommand:[0m mrcalc sgm_overlap_mask.mif 0 sgm.mif -if sgm_masked.mif
[03;34mCommand:[0m labelconvert sgm_masked.mif /software/mrtrix3/mrtrix3-AP/scripts/data/FreeSurferSGM.txt /software/mrtrix3/mrtrix3-AP/src/connectome/tables/fs_a2009s.txt sgm_new_labels.mif
[03;34mCommand:[0m mrcalc parc.mif 83 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 78 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 84 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 87 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 81 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 86 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 88 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 77 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 79 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 76 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 80 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 89 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 82 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 85 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc sgm_new_labels.mif 0.5 -gt sgm_new_labels.mif parc.mif -if result.mif -datatype uint32
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_039/preproc/parc_fixsubcort.nii
labelsgmfix: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_039/preproc)[0m
labelsgmfix: [03;32mDeleting temporary directory /tmp/labelsgmfix-tmp-8P5KRM/[0m
tmp ./tmp.bbregister.58793
Log file is register.dat.log
Sat Mar 18 06:55:12 AEST 2017

setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/Park/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_039/preproc
/software/freesurfer/freesurfer-6.0.0/bin/bbregister --s Patient_039 --mov biasmeanb0bet.nii.gz --init-fsl --reg register.dat --dti --fslmat diff2FS.mat

$Id: bbregister,v 1.75 2016/05/10 20:02:28 greve Exp $
Linux hpcnode060.adqimr.ad.lan 3.10.0-327.3.1.el7.x86_64 #1 SMP Wed Dec 9 14:09:15 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
FREESURFER_HOME /software/freesurfer/freesurfer-6.0.0
mri_convert biasmeanb0bet.nii.gz ./tmp.bbregister.58793/template.nii
mri_convert.bin biasmeanb0bet.nii.gz ./tmp.bbregister.58793/template.nii 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from biasmeanb0bet.nii.gz...
TR=1000.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (0.999501, -0.0269142, 0.0165593)
j_ras = (0.0235546, 0.983863, 0.177365)
k_ras = (-0.0210657, -0.176886, 0.984006)
writing to ./tmp.bbregister.58793/template.nii...
fslregister --s Patient_039 --mov ./tmp.bbregister.58793/template.nii --reg ./tmp.bbregister.58793/reg.init.dat --niters 1 --maxangle 90 --tmp ./tmp.bbregister.58793/fslregister --dof 6 --fsvol brainmask.mgz --nobetmov

Log file is ./tmp.bbregister.58793/reg.init.dat.fslregister.log

Sat Mar 18 06:55:13 AEST 2017
--s Patient_039 --mov ./tmp.bbregister.58793/template.nii --reg ./tmp.bbregister.58793/reg.init.dat --niters 1 --maxangle 90 --tmp ./tmp.bbregister.58793/fslregister --dof 6 --fsvol brainmask.mgz --nobetmov
$Id: fslregister,v 1.40 2016/02/12 21:43:15 zkaufman Exp $
hpcnode060.adqimr.ad.lan
Linux hpcnode060.adqimr.ad.lan 3.10.0-327.3.1.el7.x86_64 #1 SMP Wed Dec 9 14:09:15 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
nIters 1
--------------------------------------
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_039/preproc
mri_convert /working/lab_michaebr/alistaiP/Park/FS/Patient_039/mri/brainmask.mgz ./tmp.bbregister.58793/fslregister/refvol.fslregister.nii
mri_convert.bin /working/lab_michaebr/alistaiP/Park/FS/Patient_039/mri/brainmask.mgz ./tmp.bbregister.58793/fslregister/refvol.fslregister.nii 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from /working/lab_michaebr/alistaiP/Park/FS/Patient_039/mri/brainmask.mgz...
TR=0.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (-1, 1.86265e-09, -1.86265e-09)
j_ras = (0, -1.49012e-08, -1)
k_ras = (-1.86265e-09, 1, 0)
writing to ./tmp.bbregister.58793/fslregister/refvol.fslregister.nii...
--------------------------------------
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_039/preproc
mri_convert ./tmp.bbregister.58793/template.nii ./tmp.bbregister.58793/fslregister/movvol.fslregister.nii --frame 0
mri_convert.bin ./tmp.bbregister.58793/template.nii ./tmp.bbregister.58793/fslregister/movvol.fslregister.nii --frame 0 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from ./tmp.bbregister.58793/template.nii...
TR=1000.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (0.999501, -0.0269142, 0.0165593)
j_ras = (0.0235546, 0.983863, 0.177365)
k_ras = (-0.0210657, -0.176886, 0.984006)
keeping frame 0
writing to ./tmp.bbregister.58793/fslregister/movvol.fslregister.nii...
Mov determinant is 5.02197
Swapping dims for pos det
WARNING:: Flipping Left/Right orientation (as det < 0)
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
target  volume ./tmp.bbregister.58793/fslregister/movvol.fslregister.nii
movable volume ./tmp.bbregister.58793/template.nii
reg file       ./tmp.bbregister.58793/fslregister/swapreg.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target ./tmp.bbregister.58793/fslregister/movvol.fslregister.nii
INFO: target does not conform to COR format, so I'm going to
reslice to COR. This will not affect the final registration.
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.58793/template.nii
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 1, float2int = 0
Computing reg from header (and possibly input matrix)
---- Input registration matrix (computed) --------
-0.99950   0.02691  -0.01656   1.71872;
-0.02107  -0.17689   0.98401   0.00000;
-0.02355  -0.98386  -0.17736  -0.00002;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
-0.99950   0.02691  -0.01656   1.71872;
-0.02107  -0.17689   0.98401   0.00000;
-0.02355  -0.98386  -0.17736  -0.00002;
 0.00000   0.00000   0.00000   1.00000;
Determinant -1
subject = subject-unknown
RegMat ---------------------------
-1.00000   0.00000   0.00000   1.71872;
 0.00000   1.00000   0.00000   0.00000;
-0.00000  -0.00000   1.00000  -0.00002;
 0.00000   0.00000   0.00000   1.00000;
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_039/preproc
tkregister2_cmdl --mov ./tmp.bbregister.58793/fslregister/movvol.fslregister.nii --reg ./tmp.bbregister.58793/fslregister/reg0.58833.dat --regheader --fslregout ./tmp.bbregister.58793/reg.init.dat.fsl.mat0 --s Patient_039 --noedit
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume ./tmp.bbregister.58793/fslregister/movvol.fslregister.nii
reg file       ./tmp.bbregister.58793/fslregister/reg0.58833.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target /working/lab_michaebr/alistaiP/Park/FS/Patient_039/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.58793/fslregister/movvol.fslregister.nii
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 1, float2int = 0
Computing reg from header (and possibly input matrix)
---- Input registration matrix (computed) --------
 0.99950  -0.02691   0.01656   0.64815;
-0.02107  -0.17689   0.98401  -2.50861;
-0.02355  -0.98386  -0.17736  -11.26428;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
 0.99950  -0.02691   0.01656   0.64815;
-0.02107  -0.17689   0.98401  -2.50861;
-0.02355  -0.98386  -0.17736  -11.26428;
 0.00000   0.00000   0.00000   1.00000;
Determinant 1
subject = Patient_039
RegMat ---------------------------
 0.99950  -0.02691   0.01656   0.64815;
-0.02107  -0.17689   0.98401  -2.50861;
-0.02355  -0.98386  -0.17736  -11.26428;
 0.00000   0.00000   0.00000   1.00000;
FSLOUTPUTTYPE NIFTI 
tkreg2FSL: mov det = -5.02197, ref det = -1
Sat Mar 18 06:55:15 AEST 2017
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_039/preproc
flirt.fsl -ref ./tmp.bbregister.58793/fslregister/refvol.fslregister.nii -in ./tmp.bbregister.58793/fslregister/movvol.fslregister.nii -bins 256 -cost corratio -dof 6 -searchrx -90 90 -searchry -90 90 -searchrz -90 90 -verbose 0 -omat ./tmp.bbregister.58793/fslregister/fslmat0.trans.mat -schedule /software/freesurfer/freesurfer-6.0.0/bin/fsl.5.0.2.xyztrans.sch -init ./tmp.bbregister.58793/reg.init.dat.fsl.mat0
Sat Mar 18 06:55:48 AEST 2017
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_039/preproc
flirt.fsl -ref ./tmp.bbregister.58793/fslregister/refvol.fslregister.nii -in ./tmp.bbregister.58793/fslregister/movvol.fslregister.nii -bins 256 -cost corratio -dof 6 -searchrx -90 90 -searchry -90 90 -searchrz -90 90 -verbose 0 -omat ./tmp.bbregister.58793/reg.init.dat.fsl.mat -init ./tmp.bbregister.58793/fslregister/fslmat0.trans.mat -schedule /software/freesurfer/freesurfer-6.0.0/bin/flirt.newdefault.20080811.sch
tkregister2_cmdl --s Patient_039 --mov ./tmp.bbregister.58793/fslregister/movvol.fslregister.nii --reg ./tmp.bbregister.58793/reg.init.dat --fslreg ./tmp.bbregister.58793/reg.init.dat.fsl.mat --noedit
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
---- FSL registration matrix --------
 0.99936  -0.02028   0.02934   19.45680;
 0.02602  -0.14796  -0.98865   221.13499;
 0.02439   0.98879  -0.14733   17.51720;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume ./tmp.bbregister.58793/fslregister/movvol.fslregister.nii
reg file       ./tmp.bbregister.58793/reg.init.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target /working/lab_michaebr/alistaiP/Park/FS/Patient_039/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.58793/fslregister/movvol.fslregister.nii
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 0, float2int = 0
FSLOUTPUTTYPE NIFTI 
fsl2TkReg: mov det = -5.02197, ref det = -1
---- Input registration matrix (computed) --------
 0.99936  -0.02439   0.02602   1.25462;
-0.02934  -0.14733   0.98865   2.48492;
-0.02028  -0.98879  -0.14795  -10.82229;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
 0.99936  -0.02439   0.02602   1.25462;
-0.02934  -0.14733   0.98865   2.48492;
-0.02028  -0.98879  -0.14795  -10.82229;
 0.00000   0.00000   0.00000   1.00000;
Determinant 1
subject = Patient_039
RegMat ---------------------------
 0.99936  -0.02439   0.02602   1.25462;
-0.02934  -0.14733   0.98865   2.48492;
-0.02028  -0.98879  -0.14795  -10.82229;
 0.00000   0.00000   0.00000   1.00000;
mri_matrix_multiply -im ./tmp.bbregister.58793/fslregister/swapreg.dat -im ./tmp.bbregister.58793/reg.init.dat -om ./tmp.bbregister.58793/reg.init.dat
(standard_in) 1: illegal character: P
 
Started at Sat Mar 18 06:55:13 AEST 2017 
Ended   at Sat Mar 18 06:57:12 AEST 2017
 
fslregister Done
 
To check results, run:
tkregister2 --mov ./tmp.bbregister.58793/template.nii --reg ./tmp.bbregister.58793/reg.init.dat --surf orig
 
mri_segreg --mov ./tmp.bbregister.58793/template.nii --init-reg ./tmp.bbregister.58793/reg.init.dat --out-reg ./tmp.bbregister.58793/bbr.pass1.dat --subsamp-brute 100 --subsamp 100 --tol 1e-4 --tol1d 1e-3 --brute -4 4 4 --surf white --gm-proj-frac 0.5 --gm-gt-wm 0.5
$Id: mri_segreg.c,v 1.113 2016/05/10 03:23:20 greve Exp $
setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/Park/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_039/preproc
mri_segreg --mov ./tmp.bbregister.58793/template.nii --init-reg ./tmp.bbregister.58793/reg.init.dat --out-reg ./tmp.bbregister.58793/bbr.pass1.dat --subsamp-brute 100 --subsamp 100 --tol 1e-4 --tol1d 1e-3 --brute -4 4 4 --surf white --gm-proj-frac 0.5 --gm-gt-wm 0.5 
sysname  Linux
hostname hpcnode060.adqimr.ad.lan
machine  x86_64
user     alistaiP
movvol ./tmp.bbregister.58793/template.nii
regfile ./tmp.bbregister.58793/reg.init.dat
subject Patient_039
dof 6
outregfile ./tmp.bbregister.58793/bbr.pass1.dat
UseMask 0
UseLH 1
UseRH 1
nsubsamp 100
PenaltySign  -1
PenaltySlope 0.500000
PenaltyCenter 0.000000
surfname white
GMProjFrac 0.500000
WMProjAbs 2.000000
lhcostfile (null)
rhcostfile (null)
interp  trilinear (1)
frame  0
TolPowell 0.000100
nMaxItersPowell 36
n1dmin  3
Profile   0
Gdiag_no  -1
AddNoise  0 (0)
SynthSeed 1490112740
TransRandMax 0.000000
RotRandMax 0.000000
Translations 0.000000 0.000000 0.000000
Rotations   0.000000 0.000000 0.000000
Input reg
-0.99936   0.02439  -0.02602   0.46410;
-0.02934  -0.14733   0.98865   2.48493;
-0.02028  -0.98879  -0.14795  -10.82230;
 0.00000   0.00000   0.00000   1.00000;

Loading mov
Projecting LH Surfs
Loading lh.white surf
Loading lh.thickness for GM
GM Proj: 1 0.500000 2.000000
WM Proj: 0 0.500000 2.000000
Projecting RH Surfs
Loading rh.white surf
Loading rh.thickness for GM
Projecting RH Surfs
Using lh.cortex.label
Using rh.cortex.label
Computing relative cost
 0  -25.0 -25.0 -25.0   1.039108
 1  -25.0 -25.0  25.0   1.029107
 2  -25.0  25.0 -25.0   1.012704
 3  -25.0  25.0  25.0   1.048762
 4   25.0 -25.0 -25.0   0.994742
 5   25.0 -25.0  25.0   0.967079
 6   25.0  25.0 -25.0   1.001197
 7   25.0  25.0  25.0   1.010527
REL:  8  0.299244    8.103227  1.012903 rel = 0.295432 
Initial costs ----------------
Number of surface hits 2816
WM  Intensity   382.3994 +/- 103.8421
Ctx Intensity   568.6219 +/- 234.2746
Pct Contrast     33.7721 +/-  36.7091
Cost   0.2992
RelCost   0.2954

------------------------------------
Brute force preopt -4 4 4, n = 729
     0  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000      0.9474   0.9474  0.0
     3  -4.0000  -4.0000  -4.0000  -4.0000   0.0000  -4.0000      0.9387   0.9387  0.0
     6  -4.0000  -4.0000  -4.0000  -4.0000   4.0000  -4.0000      0.9238   0.9238  0.0
     7  -4.0000  -4.0000  -4.0000  -4.0000   4.0000   0.0000      0.9101   0.9101  0.0
    12  -4.0000  -4.0000  -4.0000   0.0000   0.0000  -4.0000      0.9087   0.9087  0.0
    15  -4.0000  -4.0000  -4.0000   0.0000   4.0000  -4.0000      0.8347   0.8347  0.0
    19  -4.0000  -4.0000  -4.0000   4.0000  -4.0000   0.0000      0.8306   0.8306  0.0
    39  -4.0000  -4.0000   0.0000   0.0000   0.0000  -4.0000      0.7966   0.7966  0.0
   120  -4.0000   0.0000   0.0000   0.0000   0.0000  -4.0000      0.6974   0.6974  0.0
   283   0.0000  -4.0000   0.0000   0.0000   0.0000   0.0000      0.6035   0.6035  0.0
   364   0.0000   0.0000   0.0000   0.0000   0.0000   0.0000      0.2992   0.2992  0.0
Brute Force --------------------------
Min cost was 0.299244
Number of iterations   729
Search time 3.782000 sec
Parameters at best (transmm, rotdeg)
  0.000   0.000   0.000  0.000  0.000  0.000 
--------------------------------------------

Starting Powell Minimization
Init Powel Params dof = 6
0 0
1 0
2 0
3 0
4 0
5 0
fs_powell::minimize
  nparams 6
  maxfev 36
  ftol   0.000100
  linmin_xtol_   0.001000
  powell nthiter 0: fret = 0.299244
   7 -0.027  0.000  0.000  0.000  0.000  0.000   0.2984339126
   8 -0.253  0.000  0.000  0.000  0.000  0.000   0.2980379315
   9 -0.148  0.000  0.000  0.000  0.000  0.000   0.2971048274
  10 -0.150  0.000  0.000  0.000  0.000  0.000   0.2970746998
  11 -0.181  0.000  0.000  0.000  0.000  0.000   0.2968018363
  12 -0.209  0.000  0.000  0.000  0.000  0.000   0.2967173394
  15 -0.206  0.000  0.000  0.000  0.000  0.000   0.2967138077
  20 -0.206 -1.618  0.000  0.000  0.000  0.000   0.1284379915
  24 -0.206 -1.382  0.000  0.000  0.000  0.000   0.1260825368
  26 -0.206 -1.302  0.000  0.000  0.000  0.000   0.1241177011
  29 -0.206 -1.286  0.000  0.000  0.000  0.000   0.1240663964
  33 -0.206 -1.285  0.000  0.000  0.000  0.000   0.1240659180
  43 -0.206 -1.285 -0.015  0.000  0.000  0.000   0.1240626035
  44 -0.206 -1.285 -0.008  0.000  0.000  0.000   0.1240427641
  58 -0.206 -1.285 -0.008 -0.003  0.000  0.000   0.1240403403
  67 -0.206 -1.285 -0.008 -0.003  0.003  0.000   0.1239875508
  70 -0.206 -1.285 -0.008 -0.003  0.011  0.000   0.1239408174
  71 -0.206 -1.285 -0.008 -0.003  0.010  0.000   0.1239402538
  78 -0.206 -1.285 -0.008 -0.003  0.010  0.382   0.1184632744
  79 -0.206 -1.285 -0.008 -0.003  0.010  0.318   0.1179791608
  80 -0.206 -1.285 -0.008 -0.003  0.010  0.295   0.1177978545
  83 -0.206 -1.285 -0.008 -0.003  0.010  0.275   0.1175833734
  84 -0.206 -1.285 -0.008 -0.003  0.010  0.274   0.1175786201
  86 -0.206 -1.285 -0.008 -0.003  0.010  0.271   0.1175719269
  powell nthiter 1: fret = 0.117572
  95  0.176 -1.285 -0.008 -0.003  0.010  0.271   0.1066515120
  96  0.108 -1.285 -0.008 -0.003  0.010  0.271   0.1065222285
  99  0.062 -1.285 -0.008 -0.003  0.010  0.271   0.1061578671
 101  0.079 -1.285 -0.008 -0.003  0.010  0.271   0.1060464686
 102  0.077 -1.285 -0.008 -0.003  0.010  0.271   0.1060442919
 114  0.077 -1.294 -0.008 -0.003  0.010  0.271   0.1060014698
 116  0.077 -1.295 -0.008 -0.003  0.010  0.271   0.1059999220
 127  0.077 -1.295  0.048 -0.003  0.010  0.271   0.1059788442
 128  0.077 -1.295  0.023 -0.003  0.010  0.271   0.1059012957
 130  0.077 -1.295  0.026 -0.003  0.010  0.271   0.1058992207
 132  0.077 -1.295  0.027 -0.003  0.010  0.271   0.1058991455
 142  0.077 -1.295  0.027 -0.045  0.010  0.271   0.1057143022
 143  0.077 -1.295  0.027 -0.035  0.010  0.271   0.1055823248
 154  0.077 -1.295  0.027 -0.035 -0.008  0.271   0.1055418127
 156  0.077 -1.295  0.027 -0.035 -0.001  0.271   0.1055349942
 158  0.077 -1.295  0.027 -0.035 -0.004  0.271   0.1055282355
 159  0.077 -1.295  0.027 -0.035 -0.005  0.271   0.1055259538
 166  0.077 -1.295  0.027 -0.035 -0.005  0.653   0.1019580213
 167  0.077 -1.295  0.027 -0.035 -0.005  0.565   0.1003621199
 170  0.077 -1.295  0.027 -0.035 -0.005  0.551   0.1002814169
 172  0.077 -1.295  0.027 -0.035 -0.005  0.554   0.1002724621
 173  0.077 -1.295  0.027 -0.035 -0.005  0.555   0.1002712896
  powell nthiter 2: fret = 0.100271
 182  0.153 -1.295  0.027 -0.035 -0.005  0.555   0.1000689911
 183  0.126 -1.295  0.027 -0.035 -0.005  0.555   0.0998172837
 185  0.132 -1.295  0.027 -0.035 -0.005  0.555   0.0997848265
 195  0.132 -1.236  0.027 -0.035 -0.005  0.555   0.0994149614
 197  0.132 -1.255  0.027 -0.035 -0.005  0.555   0.0993237322
 198  0.132 -1.254  0.027 -0.035 -0.005  0.555   0.0993146185
 199  0.132 -1.249  0.027 -0.035 -0.005  0.555   0.0992917019
 209  0.132 -1.249 -0.033 -0.035 -0.005  0.555   0.0990369463
 210  0.132 -1.249 -0.023 -0.035 -0.005  0.555   0.0989788084
 211  0.132 -1.249 -0.013 -0.035 -0.005  0.555   0.0989515498
 213  0.132 -1.249 -0.012 -0.035 -0.005  0.555   0.0989503963
 226  0.132 -1.249 -0.012 -0.030 -0.005  0.555   0.0989338467
 228  0.132 -1.249 -0.012 -0.031 -0.005  0.555   0.0989334949
 238  0.132 -1.249 -0.012 -0.031 -0.018  0.555   0.0988665562
 240  0.132 -1.249 -0.012 -0.031 -0.017  0.555   0.0988654600
 241  0.132 -1.249 -0.012 -0.031 -0.016  0.555   0.0988654218
 255  0.132 -1.249 -0.012 -0.031 -0.016  0.557   0.0988630788
  powell nthiter 3: fret = 0.098863
 267  0.140 -1.249 -0.012 -0.031 -0.016  0.557   0.0987989644
 279  0.140 -1.255 -0.012 -0.031 -0.016  0.557   0.0987850328
 280  0.140 -1.253 -0.012 -0.031 -0.016  0.557   0.0987798101
 289  0.140 -1.253 -0.048 -0.031 -0.016  0.557   0.0987151943
 290  0.140 -1.253 -0.038 -0.031 -0.016  0.557   0.0987103903
 293  0.140 -1.253 -0.035 -0.031 -0.016  0.557   0.0987097224
 303  0.140 -1.253 -0.033 -0.030 -0.016  0.557   0.0987020912
 306  0.140 -1.253 -0.033 -0.027 -0.016  0.557   0.0986924621
 317  0.140 -1.253 -0.033 -0.027 -0.020  0.557   0.0986654191
 318  0.140 -1.253 -0.033 -0.027 -0.023  0.557   0.0986568813
 329  0.140 -1.253 -0.033 -0.027 -0.023  0.571   0.0986568396
 330  0.140 -1.253 -0.033 -0.027 -0.023  0.564   0.0986259031
 331  0.140 -1.253 -0.033 -0.027 -0.023  0.563   0.0986257492
 333  0.149 -1.257 -0.055 -0.023 -0.030  0.569   0.0983661528
 336  0.163 -1.264 -0.091 -0.016 -0.041  0.580   0.0977679176
 341  0.167 -1.266 -0.102 -0.014 -0.044  0.583   0.0977556261
 342  0.167 -1.266 -0.101 -0.014 -0.044  0.582   0.0977550747
 343  0.166 -1.265 -0.099 -0.015 -0.043  0.582   0.0977507878
 344  0.165 -1.265 -0.096 -0.015 -0.042  0.581   0.0977437851
 346  0.165 -1.265 -0.096 -0.015 -0.042  0.581   0.0977435261
 349  0.165 -1.265 -0.096 -0.015 -0.042  0.581   0.0977434836
  powell nthiter 4: fret = 0.097743
 358  0.223 -1.265 -0.096 -0.015 -0.042  0.581   0.0976674143
 359  0.199 -1.265 -0.096 -0.015 -0.042  0.581   0.0975038893
 361  0.200 -1.265 -0.096 -0.015 -0.042  0.581   0.0975033220
 362  0.202 -1.265 -0.096 -0.015 -0.042  0.581   0.0975030155
 375  0.202 -1.255 -0.096 -0.015 -0.042  0.581   0.0974992037
 376  0.202 -1.260 -0.096 -0.015 -0.042  0.581   0.0974828736
 388  0.202 -1.260 -0.096 -0.015 -0.042  0.576   0.0974736840
 391  0.202 -1.260 -0.096 -0.015 -0.042  0.575   0.0974725120
 392  0.202 -1.260 -0.096 -0.015 -0.042  0.572   0.0974698685
 416  0.202 -1.260 -0.096 -0.015 -0.003  0.572   0.0972555716
 418  0.202 -1.260 -0.096 -0.015 -0.012  0.572   0.0972383205
 420  0.202 -1.260 -0.096 -0.015 -0.010  0.572   0.0972373002
 426  0.196 -1.257 -0.083 -0.018 -0.006  0.568   0.0972013965
 428  0.198 -1.258 -0.087 -0.017 -0.007  0.569   0.0971997443
 429  0.197 -1.258 -0.086 -0.017 -0.007  0.568   0.0971983163
 430  0.197 -1.258 -0.085 -0.017 -0.007  0.568   0.0971982064
 432  0.197 -1.258 -0.085 -0.017 -0.007  0.568   0.0971981511
 433  0.197 -1.258 -0.085 -0.017 -0.007  0.568   0.0971980891
  powell nthiter 5: fret = 0.097198
 448  0.200 -1.258 -0.085 -0.017 -0.007  0.568   0.0971901290
 449  0.201 -1.258 -0.085 -0.017 -0.007  0.568   0.0971900161
 461  0.201 -1.247 -0.085 -0.017 -0.007  0.568   0.0971801029
 462  0.201 -1.252 -0.085 -0.017 -0.007  0.568   0.0971639083
 477  0.201 -1.252 -0.085 -0.017 -0.007  0.567   0.0971633604
 488  0.201 -1.252 -0.085 -0.026 -0.007  0.567   0.0971312469
 490  0.201 -1.252 -0.085 -0.024 -0.007  0.567   0.0971284705
 500  0.201 -1.252 -0.085 -0.024  0.008  0.567   0.0970881805
 502  0.201 -1.252 -0.085 -0.024  0.005  0.567   0.0970850646
 511  0.200 -1.251 -0.083 -0.024  0.006  0.567   0.0970813560
 512  0.199 -1.251 -0.082 -0.025  0.006  0.566   0.0970812670
 513  0.200 -1.251 -0.082 -0.025  0.006  0.566   0.0970811349
 514  0.200 -1.251 -0.082 -0.025  0.006  0.566   0.0970809474
 516  0.200 -1.251 -0.082 -0.025  0.006  0.566   0.0970808752
 518  0.200 -1.251 -0.082 -0.025  0.006  0.566   0.0970808701
 520  0.202 -1.245 -0.080 -0.032  0.018  0.564   0.0970804305
  powell nthiter 6: fret = 0.097081
 530  0.202 -1.251 -0.082 -0.025  0.006  0.566   0.0970727098
 531  0.203 -1.251 -0.082 -0.025  0.006  0.566   0.0970718328
 544  0.203 -1.250 -0.082 -0.025  0.006  0.566   0.0970708853
 552  0.203 -1.250 -0.082 -0.025  0.006  0.598   0.0970035150
 555  0.203 -1.250 -0.082 -0.025  0.006  0.594   0.0969891278
 556  0.203 -1.250 -0.082 -0.025  0.006  0.593   0.0969889469
 567  0.203 -1.250 -0.082 -0.030  0.006  0.593   0.0969841010
 568  0.203 -1.250 -0.082 -0.028  0.006  0.593   0.0969803341
 569  0.203 -1.250 -0.082 -0.027  0.006  0.593   0.0969797022
 578  0.203 -1.250 -0.082 -0.027  0.015  0.593   0.0969309520
 581  0.203 -1.250 -0.082 -0.027  0.014  0.593   0.0969304179
 590  0.204 -1.250 -0.084 -0.027  0.014  0.593   0.0969304060
 595  0.204 -1.250 -0.083 -0.027  0.014  0.593   0.0969303275
 596  0.204 -1.250 -0.083 -0.027  0.014  0.593   0.0969302963
 597  0.203 -1.250 -0.083 -0.027  0.014  0.593   0.0969302591
 599  0.203 -1.250 -0.083 -0.027  0.014  0.593   0.0969302303
 600  0.203 -1.250 -0.083 -0.027  0.014  0.593   0.0969300767
  powell nthiter 7: fret = 0.096930
 611  0.204 -1.250 -0.083 -0.027  0.014  0.593   0.0969212874
 612  0.209 -1.250 -0.083 -0.027  0.014  0.593   0.0969129911
 614  0.208 -1.250 -0.083 -0.027  0.014  0.593   0.0969094457
 627  0.208 -1.246 -0.083 -0.027  0.014  0.593   0.0969092011
 628  0.208 -1.248 -0.083 -0.027  0.014  0.593   0.0969054875
 641  0.208 -1.248 -0.083 -0.027  0.014  0.592   0.0969048002
 653  0.208 -1.248 -0.083 -0.028  0.014  0.592   0.0969033745
 654  0.208 -1.248 -0.083 -0.029  0.014  0.592   0.0969032922
 663  0.208 -1.248 -0.083 -0.029  0.017  0.592   0.0968855757
 666  0.208 -1.248 -0.083 -0.029  0.019  0.592   0.0968836510
 674  0.207 -1.248 -0.081 -0.030  0.020  0.592   0.0968806342
 675  0.207 -1.247 -0.081 -0.030  0.020  0.591   0.0968800489
 683  0.210 -1.245 -0.078 -0.032  0.026  0.590   0.0968572710
 690  0.210 -1.244 -0.078 -0.033  0.027  0.589   0.0968571739
 696  0.210 -1.244 -0.078 -0.033  0.027  0.589   0.0968571456
 700  0.210 -1.244 -0.078 -0.033  0.027  0.589   0.0968571241
 701  0.210 -1.244 -0.078 -0.033  0.027  0.589   0.0968570582
  powell nthiter 8: fret = 0.096857
 733  0.210 -1.244 -0.078 -0.033  0.027  0.586   0.0968546985
 734  0.210 -1.244 -0.078 -0.033  0.027  0.587   0.0968534941
 746  0.210 -1.244 -0.078 -0.034  0.027  0.587   0.0968534109
 756  0.210 -1.244 -0.078 -0.034  0.026  0.587   0.0968520827
 764  0.210 -1.244 -0.078 -0.033  0.026  0.587   0.0968518936
 765  0.210 -1.244 -0.078 -0.033  0.026  0.587   0.0968518261
 767  0.210 -1.244 -0.078 -0.033  0.026  0.587   0.0968517554
Powell done niters = 8
Computing relative cost
 0  -25.0 -25.0 -25.0   1.031968
 1  -25.0 -25.0  25.0   0.998463
 2  -25.0  25.0 -25.0   0.991532
 3  -25.0  25.0  25.0   1.046432
 4   25.0 -25.0 -25.0   1.003714
 5   25.0 -25.0  25.0   0.997079
 6   25.0  25.0 -25.0   0.966317
 7   25.0  25.0  25.0   0.996141
REL:  8  0.096852    8.031645  1.003956 rel = 0.0964702 
Number of iterations     8
Min cost was 0.096852
Number of FunctionCalls   772
TolPowell 0.000100
nMaxItersPowell 36
OptimizationTime 3.915000 sec
Parameters at optimum (transmm)  0.20997 -1.24432 -0.07815
Parameters at optimum (rotdeg) -0.03332  0.02572  0.58714 
Final costs ----------------
Number of surface hits 2816
WM  Intensity   363.8465 +/-  83.7409
Ctx Intensity   539.4368 +/- 146.6109
Pct Contrast     37.0762 +/-  26.6312
Cost   0.0969
RelCost   0.2954
Reg at min cost was 
-0.99902   0.02546  -0.03622   0.64378;
-0.03959  -0.14765   0.98825   1.23889;
-0.01981  -0.98871  -0.14852  -10.90210;
 0.00000   0.00000   0.00000   1.00000;

Writing optimal reg to ./tmp.bbregister.58793/bbr.pass1.dat, type = 14 
Original Reg 
-0.99936   0.02439  -0.02602   0.46410;
-0.02934  -0.14733   0.98865   2.48493;
-0.02028  -0.98879  -0.14795  -10.82230;
 0.00000   0.00000   0.00000   1.00000;

Original Reg - Optimal Reg
-0.00034  -0.00107   0.01020  -0.17968;
 0.01025   0.00032   0.00041   1.24603;
-0.00047  -0.00008   0.00056   0.07980;
 0.00000   0.00000   0.00000   0.00000;

Computing change in lh position
LH rmsDiffMean 0.968315
Computing change in rh position
Surface-RMS-Diff-mm 1.249689 0.329745 1.906944
mri_segreg done
mri_segreg --mov ./tmp.bbregister.58793/template.nii --init-reg ./tmp.bbregister.58793/bbr.pass1.dat --out-reg register.dat --interp trilinear --wm-proj-abs 2 --tol 1e-8 --tol1d 1e-3 --c0 0 --mincost register.dat.mincost --dof 6 --nmax 36 --param register.dat.param --surf white --brute -0.1 0.1 0.1 --cur-reg ./tmp.bbregister.58793/reg.curopt.dat --gm-proj-frac 0.5 --nsub 1 --gm-gt-wm 0.5
$Id: mri_segreg.c,v 1.113 2016/05/10 03:23:20 greve Exp $
setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/Park/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_039/preproc
mri_segreg --mov ./tmp.bbregister.58793/template.nii --init-reg ./tmp.bbregister.58793/bbr.pass1.dat --out-reg register.dat --interp trilinear --wm-proj-abs 2 --tol 1e-8 --tol1d 1e-3 --c0 0 --mincost register.dat.mincost --dof 6 --nmax 36 --param register.dat.param --surf white --brute -0.1 0.1 0.1 --cur-reg ./tmp.bbregister.58793/reg.curopt.dat --gm-proj-frac 0.5 --nsub 1 --gm-gt-wm 0.5 
sysname  Linux
hostname hpcnode060.adqimr.ad.lan
machine  x86_64
user     alistaiP
movvol ./tmp.bbregister.58793/template.nii
regfile ./tmp.bbregister.58793/bbr.pass1.dat
subject Patient_039
dof 6
outregfile register.dat
UseMask 0
UseLH 1
UseRH 1
nsubsamp 1
PenaltySign  -1
PenaltySlope 0.500000
PenaltyCenter 0.000000
surfname white
GMProjFrac 0.500000
WMProjAbs 2.000000
lhcostfile (null)
rhcostfile (null)
interp  trilinear (1)
frame  0
TolPowell 0.000000
nMaxItersPowell 36
n1dmin  3
Profile   0
Gdiag_no  -1
AddNoise  0 (0)
SynthSeed 1490391012
TransRandMax 0.000000
RotRandMax 0.000000
Translations 0.000000 0.000000 0.000000
Rotations   0.000000 0.000000 0.000000
Input reg
-0.99902   0.02546  -0.03622   0.64378;
-0.03959  -0.14765   0.98825   1.23889;
-0.01981  -0.98871  -0.14852  -10.90210;
 0.00000   0.00000   0.00000   1.00000;

Loading mov
Projecting LH Surfs
Loading lh.white surf
Loading lh.thickness for GM
GM Proj: 1 0.500000 2.000000
WM Proj: 0 0.500000 2.000000
Projecting RH Surfs
Loading rh.white surf
Loading rh.thickness for GM
Projecting RH Surfs
Using lh.cortex.label
Using rh.cortex.label
Computing relative cost
 0  -25.0 -25.0 -25.0   1.010276
 1  -25.0 -25.0  25.0   0.998213
 2  -25.0  25.0 -25.0   0.988665
 3  -25.0  25.0  25.0   1.030240
 4   25.0 -25.0 -25.0   0.985249
 5   25.0 -25.0  25.0   1.006028
 6   25.0  25.0 -25.0   0.985373
 7   25.0  25.0  25.0   1.002249
REL:  8  0.096385    8.006294  1.000787 rel = 0.0963093 
Initial costs ----------------
Number of surface hits 280206
WM  Intensity   361.4621 +/-  83.1127
Ctx Intensity   539.0189 +/- 144.4546
Pct Contrast     37.7294 +/-  25.5159
Cost   0.0964
RelCost   0.0963

------------------------------------
Brute force preopt -0.1 0.1 0.1, n = 729
     0  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000      0.1068   0.1068  0.0
     1  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000   0.0000      0.1067   0.1067  0.0
     9  -0.1000  -0.1000  -0.1000   0.0000  -0.1000  -0.1000      0.1014   0.1014  0.0
    10  -0.1000  -0.1000  -0.1000   0.0000  -0.1000   0.0000      0.0996   0.0996  0.0
   279   0.0000  -0.1000   0.0000   0.0000  -0.1000  -0.1000      0.0990   0.0990  0.0
   280   0.0000  -0.1000   0.0000   0.0000  -0.1000   0.0000      0.0983   0.0983  0.0
   361   0.0000   0.0000   0.0000   0.0000  -0.1000   0.0000      0.0981   0.0981  0.0
   364   0.0000   0.0000   0.0000   0.0000   0.0000   0.0000      0.0969   0.0969  0.0
Brute Force --------------------------
Min cost was 0.096852
Number of iterations   729
Search time 3.641000 sec
Parameters at best (transmm, rotdeg)
  0.000   0.000   0.000  0.000  0.000  0.000 
--------------------------------------------

Starting Powell Minimization
Init Powel Params dof = 6
0 0
1 0
2 0
3 0
4 0
5 0
fs_powell::minimize
  nparams 6
  maxfev 36
  ftol   0.000000
  linmin_xtol_   0.001000
  powell nthiter 0: fret = 0.096385
   7  0.130  0.000  0.000  0.000  0.000  0.000   0.0951669281
   8  0.119  0.000  0.000  0.000  0.000  0.000   0.0951207458
   9  0.106  0.000  0.000  0.000  0.000  0.000   0.0951026649
  18  0.106 -0.122  0.000  0.000  0.000  0.000   0.0936969318
  20  0.106 -0.155  0.000  0.000  0.000  0.000   0.0936823306
  22  0.106 -0.141  0.000  0.000  0.000  0.000   0.0936617682
  24  0.106 -0.139  0.000  0.000  0.000  0.000   0.0936614840
  26  0.106 -0.138  0.000  0.000  0.000  0.000   0.0936614692
  34  0.106 -0.138  0.117  0.000  0.000  0.000   0.0930975562
  35  0.106 -0.138  0.099  0.000  0.000  0.000   0.0930827723
  36  0.106 -0.138  0.101  0.000  0.000  0.000   0.0930824817
  37  0.106 -0.138  0.102  0.000  0.000  0.000   0.0930823216
  40  0.106 -0.138  0.103  0.000  0.000  0.000   0.0930822922
  47  0.106 -0.138  0.103  0.112  0.000  0.000   0.0924560873
  48  0.106 -0.138  0.103  0.093  0.000  0.000   0.0924521319
  50  0.106 -0.138  0.103  0.094  0.000  0.000   0.0924517179
  51  0.106 -0.138  0.103  0.096  0.000  0.000   0.0924513847
  53  0.106 -0.138  0.103  0.095  0.000  0.000   0.0924513145
  60  0.106 -0.138  0.103  0.095 -0.081  0.000   0.0919472350
  61  0.106 -0.138  0.103  0.095 -0.078  0.000   0.0919427352
  63  0.106 -0.138  0.103  0.095 -0.076  0.000   0.0919412450
  64  0.106 -0.138  0.103  0.095 -0.075  0.000   0.0919410842
  72  0.106 -0.138  0.103  0.095 -0.075 -0.095   0.0914970205
  75  0.106 -0.138  0.103  0.095 -0.075 -0.100   0.0914938050
  powell nthiter 1: fret = 0.091494
  86  0.091 -0.138  0.103  0.095 -0.075 -0.100   0.0914866658
  88  0.097 -0.138  0.103  0.095 -0.075 -0.100   0.0914823404
  98  0.097 -0.130  0.103  0.095 -0.075 -0.100   0.0914739948
 107  0.097 -0.130  0.069  0.095 -0.075 -0.100   0.0912736578
 108  0.097 -0.130  0.032  0.095 -0.075 -0.100   0.0912447369
 109  0.097 -0.130  0.045  0.095 -0.075 -0.100   0.0912288991
 118  0.097 -0.130  0.045  0.145 -0.075 -0.100   0.0911241264
 119  0.097 -0.130  0.045  0.133 -0.075 -0.100   0.0911132487
 121  0.097 -0.130  0.045  0.134 -0.075 -0.100   0.0911131658
 130  0.097 -0.130  0.045  0.134 -0.074 -0.100   0.0911120124
 131  0.097 -0.130  0.045  0.134 -0.068 -0.100   0.0911091341
 133  0.097 -0.130  0.045  0.134 -0.069 -0.100   0.0911089879
 142  0.097 -0.130  0.045  0.134 -0.069 -0.120   0.0910768689
 147  0.088 -0.123 -0.013  0.173 -0.062 -0.140   0.0910130301
 153  0.091 -0.126  0.009  0.158 -0.065 -0.132   0.0909874898
  powell nthiter 2: fret = 0.090987
 167  0.090 -0.126  0.009  0.158 -0.065 -0.132   0.0909869784
 168  0.089 -0.126  0.009  0.158 -0.065 -0.132   0.0909867273
 177  0.089 -0.125  0.009  0.158 -0.065 -0.132   0.0909852438
 178  0.089 -0.119  0.009  0.158 -0.065 -0.132   0.0909813863
 189  0.089 -0.119  0.009  0.158 -0.065 -0.120   0.0909775934
 190  0.089 -0.119  0.009  0.158 -0.065 -0.122   0.0909764787
 191  0.089 -0.119  0.009  0.158 -0.065 -0.124   0.0909760826
 193  0.089 -0.119  0.009  0.158 -0.065 -0.125   0.0909758538
 203  0.089 -0.119  0.009  0.157 -0.065 -0.125   0.0909758023
 221  0.089 -0.119  0.005  0.160 -0.064 -0.126   0.0909754450
 222  0.089 -0.119  0.007  0.159 -0.065 -0.126   0.0909754433
 223  0.089 -0.119  0.006  0.159 -0.064 -0.126   0.0909754282
  powell nthiter 3: fret = 0.090975
 235  0.090 -0.119  0.006  0.159 -0.064 -0.126   0.0909753751
 256  0.090 -0.119  0.006  0.159 -0.064 -0.124   0.0909753259
 284  0.090 -0.119  0.006  0.160 -0.064 -0.124   0.0909752861
 285  0.090 -0.119  0.005  0.160 -0.064 -0.124   0.0909752498
  powell nthiter 4: fret = 0.090975
 306  0.090 -0.118  0.005  0.160 -0.064 -0.124   0.0909751162
 349  0.090 -0.118  0.006  0.160 -0.064 -0.124   0.0909751104
  powell nthiter 5: fret = 0.090975
Powell done niters = 5
Computing relative cost
 0  -25.0 -25.0 -25.0   1.008248
 1  -25.0 -25.0  25.0   0.996757
 2  -25.0  25.0 -25.0   0.987216
 3  -25.0  25.0  25.0   1.028246
 4   25.0 -25.0 -25.0   0.984363
 5   25.0 -25.0  25.0   1.008618
 6   25.0  25.0 -25.0   0.983120
 7   25.0  25.0  25.0   1.000759
REL:  8  0.090975    7.997326  0.999666 rel = 0.0910055 
Number of iterations     5
Min cost was 0.090975
Number of FunctionCalls   412
TolPowell 0.000000
nMaxItersPowell 36
OptimizationTime 75.695000 sec
Parameters at optimum (transmm)  0.08959 -0.11766  0.00548
Parameters at optimum (rotdeg)  0.15990 -0.06441 -0.12425 
Final costs ----------------
Number of surface hits 280206
WM  Intensity   360.4033 +/-  82.2946
Ctx Intensity   536.3453 +/- 138.7274
Pct Contrast     37.7296 +/-  24.9653
Cost   0.0910
RelCost   0.0963
Reg at min cost was 
-0.99908   0.02626  -0.03391   0.74838;
-0.03737  -0.14495   0.98873   1.15022;
-0.02105  -0.98909  -0.14580  -10.89239;
 0.00000   0.00000   0.00000   1.00000;

Writing optimal reg to register.dat, type = 14 
Original Reg 
-0.99902   0.02546  -0.03622   0.64378;
-0.03959  -0.14765   0.98825   1.23889;
-0.01981  -0.98871  -0.14852  -10.90210;
 0.00000   0.00000   0.00000   1.00000;

Original Reg - Optimal Reg
 0.00006  -0.00080  -0.00231  -0.10460;
-0.00222  -0.00270  -0.00049   0.08867;
 0.00123   0.00038  -0.00272  -0.00971;
 0.00000   0.00000   0.00000   0.00000;

Computing change in lh position
LH rmsDiffMean 0.294943
Computing change in rh position
Surface-RMS-Diff-mm 0.250625 0.083538 0.435785
mri_segreg done
MinCost: 0.090975 360.403255 536.345333 37.729647 
tkregister2_cmdl --mov biasmeanb0bet.nii.gz --reg register.dat --noedit --fslregout diff2FS.mat
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume biasmeanb0bet.nii.gz
reg file       register.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
---- Input registration matrix --------
-0.99908   0.02626  -0.03391   0.74838;
-0.03737  -0.14495   0.98873   1.15022;
-0.02105  -0.98909  -0.14580  -10.89239;
 0.00000   0.00000   0.00000   1.00000;
float2int = 0
---------------------------------------
INFO: loading target /working/lab_michaebr/alistaiP/Park/FS/Patient_039/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable biasmeanb0bet.nii.gz
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 0, float2int = 0
---- Input registration matrix --------
-0.99908   0.02626  -0.03391   0.74838;
-0.03737  -0.14495   0.98873   1.15022;
-0.02105  -0.98909  -0.14580  -10.89239;
 0.00000   0.00000   0.00000   1.00000;
Determinant -1
subject = Patient_039
RegMat ---------------------------
-0.99908   0.02626  -0.03391   0.74838;
-0.03737  -0.14495   0.98873   1.15022;
-0.02105  -0.98909  -0.14580  -10.89239;
 0.00000   0.00000   0.00000   1.00000;
FSLOUTPUTTYPE NIFTI_GZ 
tkreg2FSL: mov det = 5.02197, ref det = -1
INFO: FSL2FreeSurfer: Mov volume is NIFTI with positive det,
      applying LR flip to registration matrix.
Cleaning up
 
Started at Sat Mar 18 06:55:12 AEST 2017 
Ended   at Sat Mar 18 06:59:11 AEST 2017
BBR-Run-Time-Sec 239
 
bbregister Done
To check results, run:
tkregisterfv --mov biasmeanb0bet.nii.gz --reg register.dat --surfs 
 
dwi2response: [03;32m[0m
dwi2response: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation. Please consult the help page (-help option) for more information.[0m
dwi2response: [03;32m[0m
dwi2response: [03;32mGenerated temporary directory: /tmp/dwi2response-tmp-6UYZDX/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_039/preproc/biascorr.mif /tmp/dwi2response-tmp-6UYZDX/dwi.mif -stride 0,0,0,1
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_039/preproc/biasmeanb0bet_mask.nii.gz /tmp/dwi2response-tmp-6UYZDX/mask.mif -datatype bit
dwi2response: [03;32mChanging to temporary directory (/tmp/dwi2response-tmp-6UYZDX/)[0m
dwi2response: [03;32m2 unique b-value(s) detected: 0,3000 with 12,90 volumes.[0m
[03;34mCommand:[0m maskfilter mask.mif erode eroded_mask.mif -npass 3
[03;34mCommand:[0m dwiextract dwi.mif -shell 0 dwi_b0.mif
[03;34mCommand:[0m mrmath dwi_b0.mif mean mean_b0.mif -axis 3
[03;34mCommand:[0m mrcalc mean_b0.mif -finite mean_b0.mif 0 -if 0 -le err_b0.mif -datatype bit
[03;34mCommand:[0m dwiextract dwi.mif -shell 3000 dwi_b3000.mif
[03;34mCommand:[0m mrmath dwi_b3000.mif mean mean_b3000.mif -axis 3
[03;34mCommand:[0m mrcalc mean_b3000.mif -finite mean_b3000.mif 0 -if 0 -le err_b3000.mif -datatype bit
[03;34mCommand:[0m mrcalc mean_b0.mif mean_b3000.mif -divide -log sdm_b3000.mif
[03;34mCommand:[0m mrcalc sdm_b3000.mif 90 -mult 90 -divide full_sdm.mif
[03;34mCommand:[0m mrcalc full_sdm.mif -finite full_sdm.mif 0 -if 0 -le err_sdm.mif -datatype bit
[03;34mCommand:[0m mrcalc err_b0.mif err_b3000.mif -add err_sdm.mif -add 0 eroded_mask.mif -if safe_mask.mif -datatype bit
[03;34mCommand:[0m mrcalc safe_mask.mif full_sdm.mif 0 -if 10 -min safe_sdm.mif
[03;34mCommand:[0m dwi2tensor dwi.mif - -mask safe_mask.mif | tensor2metric - -fa safe_fa.mif -vector safe_vecs.mif -modulate none -mask safe_mask.mif
[03;34mCommand:[0m mrcalc safe_mask.mif safe_fa.mif 0 -if 0.2 -gt crude_wm.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_wm.mif 0 safe_mask.mif -if _crudenonwm.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudenonwm.mif safe_sdm.mif 2.20438 -subtract 0 -if - | mrthreshold - - -mask _crudenonwm.mif | mrcalc _crudenonwm.mif - 0 -if crude_csf.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_csf.mif 0 _crudenonwm.mif -if crude_gm.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_wm.mif safe_sdm.mif 0 -if 1.44416 -gt _crudewmhigh.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudewmhigh.mif 0 crude_wm.mif -if _crudewmlow.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_wm.mif safe_sdm.mif 0 -if 1.88828 -gt _crudewmoutliers.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudewmoutliers.mif 0 crude_wm.mif -if refined_wm.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_gm.mif safe_sdm.mif 0 -if 1.91896 -gt _crudegmhigh.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmhigh.mif 0 crude_gm.mif -if _crudegmlow.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmhigh.mif safe_sdm.mif 1.91896 -subtract 0 -if - | mrthreshold - - -mask _crudegmhigh.mif -invert | mrcalc _crudegmhigh.mif - 0 -if _crudegmhighselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmlow.mif safe_sdm.mif 1.91896 -subtract -neg 0 -if - | mrthreshold - - -mask _crudegmlow.mif -invert | mrcalc _crudegmlow.mif - 0 -if _crudegmlowselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmhighselect.mif 1 _crudegmlowselect.mif -if refined_gm.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudewmoutliers.mif safe_sdm.mif 0 -if 2.86392 -gt 1 crude_csf.mif -if _crudecsfextra.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudecsfextra.mif safe_sdm.mif 2.86392 -subtract 0 -if - | mrthreshold - - -mask _crudecsfextra.mif | mrcalc _crudecsfextra.mif - 0 -if refined_csf.mif -datatype bit
dwi2response: [03;32mRunning 'tournier' algorithm to select 569 single-fibre WM voxels.[0m
[03;34mCommand:[0m dwi2response tournier dwi.mif _respsfwmss.txt -sf_voxels 569 -iter_voxels 5690 -mask refined_wm.mif -voxels voxels_sfwm.mif -quiet -tempdir /tmp/dwi2response-tmp-6UYZDX/
[03;34mCommand:[0m mrcalc refined_gm.mif safe_sdm.mif 0 -if 1.91539 -gt _refinedgmhigh.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmhigh.mif 0 refined_gm.mif -if _refinedgmlow.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmhigh.mif safe_sdm.mif 0 -if - | mrthreshold - - -bottom 651 -ignorezero | mrcalc _refinedgmhigh.mif - 0 -if _refinedgmhighselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmlow.mif safe_sdm.mif 0 -if - | mrthreshold - - -top 651 -ignorezero | mrcalc _refinedgmlow.mif - 0 -if _refinedgmlowselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmhighselect.mif 1 _refinedgmlowselect.mif -if voxels_gm.mif -datatype bit
[03;34mCommand:[0m mrcalc refined_csf.mif safe_sdm.mif 0 -if - | mrthreshold - - -top 2086 -ignorezero | mrcalc refined_csf.mif - 0 -if voxels_csf.mif -datatype bit
dwi2response: [03;32mSummary of voxel counts:[0m
dwi2response: [03;32mMask: 340691 --> 276995 --> 276947[0m
dwi2response: [03;32mWM: 121380 --> 113899 --> 569 (SF)[0m
dwi2response: [03;32mGM: 108132 --> 65113 --> 1302[0m
dwi2response: [03;32mCSF: 47435 --> 20864 --> 2086[0m
[03;34mCommand:[0m amp2sh dwi_b0.mif - | sh2response - voxels_sfwm.mif safe_vecs.mif _respsfwmb0.txt
[03;34mCommand:[0m amp2sh dwi_b3000.mif - | sh2response - voxels_sfwm.mif safe_vecs.mif _respsfwmb3000.txt
[03;34mCommand:[0m mrcat crude_csf.mif crude_gm.mif crude_wm.mif crude.mif -axis 3
[03;34mCommand:[0m mrcat refined_csf.mif refined_gm.mif refined_wm.mif refined.mif -axis 3
[03;34mCommand:[0m mrcat voxels_csf.mif voxels_gm.mif voxels_sfwm.mif voxels.mif -axis 3
dwi2response: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_039/preproc)[0m
dwi2response: [03;32mDeleting temporary directory /tmp/dwi2response-tmp-6UYZDX/[0m
