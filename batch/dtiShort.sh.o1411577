dwipreproc_mb: [03;32m[0m
dwipreproc_mb: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
dwipreproc_mb: [03;32m[0m
dwipreproc_mb: [03;32mGenerated temporary directory: /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc/dwipreproc_mb-tmp-TJL6EZ/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc/rawdataAPdn.mif /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc/dwipreproc_mb-tmp-TJL6EZ/series.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc/APb0s.mif /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc/dwipreproc_mb-tmp-TJL6EZ/pair1.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc/rawdataPAdn.mif /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc/dwipreproc_mb-tmp-TJL6EZ/pair2.mif
dwipreproc_mb: [03;32mChanging to temporary directory (/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc/dwipreproc_mb-tmp-TJL6EZ/)[0m
dwipreproc_mb: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -size' (piping data to local storage)[0m
dwipreproc_mb: [03;32mResult: 122 122 70 88[0m
dwipreproc_mb: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -dwgrad' (piping data to local storage)[0m
dwipreproc_mb: [03;32mResult:          0          0          0          0
 -0.984645  -0.161046  0.0673713       3000
  0.978043  -0.190745 -0.0839578       1000
  0.200904  -0.969652   0.139332       3000
 0.0334588   0.272543   0.961562       2950
  0.185169   0.566578  -0.802933       3000
 0.0802031 -0.0431843   0.995843       1000
  0.461676   0.837347   0.292755       3000
  0.648488  -0.504254  -0.570255       3000
 -0.682219   0.190668   -0.70585       3000
 -0.282998  -0.958471 -0.0352819       1000
  0.897028  -0.435666  0.0744042       3000
  0.691667   0.663111  -0.286148       3000
         0          0          0          0
 0.0386403  -0.757244  -0.651988       3000
  -0.74537   0.529431  -0.405126       1000
  -0.50923 -0.0398937   0.859705       2950
 -0.773072  -0.349962  -0.529043       3000
   0.43384  -0.716112   0.546778       3000
  0.097931  -0.529752   -0.84248       1000
 -0.394862   0.912404   0.107713       3000
 0.0970376  -0.388638   0.916266       2950
         0          0          0          0
  0.917606  0.0254028  -0.396678       3000
  0.727917   0.621129  -0.290407       1000
  0.487491   0.439265   0.754585       2950
  0.422361   0.860734  -0.284164       3000
 -0.808908   0.542531   0.226558       3000
  -0.66846   0.483507   0.565139       1000
  0.765666   0.595992   0.241972       3000
 -0.466371   0.345654   0.814261       2950
  0.868646  -0.302912   0.392043       3000
 -0.228213   0.608033  -0.760404       1000
  0.146596   0.821343  -0.551276       3000
  0.405906  -0.151036   0.901348       2950
         0          0          0          0
  0.135578   0.915724   0.378243       3000
 -0.509306  -0.369681  -0.777138       1000
  0.675657   0.479916  -0.559614       3000
 -0.725984   0.621613  -0.294186       3000
-0.0824646  0.0571122  -0.994956       3000
   0.28818  -0.929461   0.230334       1000
  0.222846  -0.889367  -0.399207       3000
 -0.929701  -0.280504   -0.23869       3000
         0          0          0          0
 -0.744491  -0.173268   0.644757       2950
 -0.383571  -0.448402   0.807347       1000
 -0.114184  -0.965431   0.234318       3000
   0.17877  -0.501006  -0.846779       3000
 -0.399745   0.460462  -0.792577       3000
   0.77079   0.596244   0.224445       1000
 -0.299806  -0.737219  -0.605495       3000
  0.973172  -0.193698  -0.124168       3000
 -0.616066  -0.787601 -0.0121452       3000
 -0.238341   0.900884    0.36277       1000
 -0.210737  -0.233231   0.949312       2950
  0.673984  -0.738413 -0.0221912       3000
         0          0          0          0
  0.868587  0.0304847   0.494599       2950
 -0.927023   -0.10283   -0.36063       1000
 -0.163569   0.876216  -0.453312       3000
  -0.34483  -0.183635  -0.920527       3000
  0.711914  -0.164633  -0.682697       3000
 -0.861081  -0.144194   0.487593       1000
  -0.37273   0.677477   0.634111       3000
 -0.435719  -0.689395   0.578691       3000
         0          0          0          0
 -0.875509  -0.352898   0.330072       3000
  0.603181  -0.172537   0.778719       1000
 0.0298968  -0.992278  -0.120378       3000
 -0.980277  0.0721193  -0.184001       3000
  0.173003   0.534373   0.827355       2950
  0.466004 -0.0911901  -0.880071       1000
  0.128699  -0.675339   0.726191       2950
  -0.48193   0.841923  -0.242712       3000
  0.248216  -0.123827  -0.960758       3000
  0.217542   0.844483  -0.489412       1000
  0.866327    0.49814 -0.0365353       3000
  0.640219   0.132865   0.756615       2950
         0          0          0          0
   0.55685   -0.75097  -0.354912       3000
  0.697684  -0.711106 -0.0869792       1000
  0.299629   0.953237  0.0395222       3000
  0.467835   0.382694  -0.796666       3000
  -0.85973   0.293622   0.417912       3000
  0.300581   0.797252   0.523488       1000
 -0.591164  -0.623877  -0.511178       3000
 -0.656176   0.482015  -0.580599       3000[0m
dwipreproc_mb: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -stride' (piping data to local storage)[0m
dwipreproc_mb: [03;32mResult: 1 2 3 4[0m
dwipreproc_mb: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair1.mif -size' (piping data to local storage)[0m
dwipreproc_mb: [03;32mResult: 122 122 70 8[0m
dwipreproc_mb: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair2.mif -size' (piping data to local storage)[0m
dwipreproc_mb: [03;32mResult: 122 122 70 8[0m
[03;34mCommand:[0m mrconvert series.mif dwi_pre_topup.nii -stride -1,+2,+3,+4
[03;34mCommand:[0m mrcat pair1.mif pair2.mif - -axis 3 | mrconvert - topup_in.nii -stride -1,+2,+3,+4
dwipreproc_mb: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair1.mif -size' (piping data to local storage)[0m
dwipreproc_mb: [03;32mResult: 122 122 70 8[0m
dwipreproc_mb: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair2.mif -size' (piping data to local storage)[0m
dwipreproc_mb: [03;32mResult: 122 122 70 8[0m
dwipreproc_mb: [03;32mCreating phase-encoding configuration file[0m
[03;34mCommand:[0m topup --imain=topup_in.nii --datain=config.txt --out=field --fout=field_map.nii.gz --config=/software/fsl/fsl-5.0.9_eddy/fsl/etc/flirtsch/b02b0.cnf
[03;34mCommand:[0m applytopup --imain=dwi_pre_topup.nii --datain=config.txt --inindex=1 --topup=field --out=dwi_post_topup.nii.gz --method=jac
[03;34mCommand:[0m mrconvert series.mif - -stride -1,+2,+3,+4 | mrinfo - -export_grad_fsl bvecs bvals
[03;34mCommand:[0m mrconvert dwi_post_topup.nii.gz -fslgrad bvecs bvals - | dwi2mask - - | maskfilter - dilate - | mrconvert - mask.nii -datatype float32 -stride -1,+2,+3
[03;34mCommand:[0m eddy_openmp --imain=dwi_pre_topup.nii --mask=mask.nii --index=indices.txt --acqp=config.txt --bvecs=bvecs --bvals=bvals --repol --data_is_shelled --mb=2 --ol_type=gw --topup=field --out=dwi_post_eddy
[03;34mCommand:[0m mrconvert dwi_post_eddy.nii.gz result.mif -stride 1,2,3,4 -fslgrad dwi_post_eddy.eddy_rotated_bvecs bvals
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc/eddycorr.mif -export_grad_mrtrix /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc/adjencoding.b
dwipreproc_mb: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc)[0m
dwipreproc_mb: [03;32mDeleting temporary directory /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc/dwipreproc_mb-tmp-TJL6EZ/[0m
dwibiascorrect: [03;32m[0m
dwibiascorrect: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
dwibiascorrect: [03;32m[0m
dwibiascorrect: [03;32mGenerated temporary directory: /tmp/dwibiascorrect-tmp-K5ZSNO/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc/eddycorr.mif /tmp/dwibiascorrect-tmp-K5ZSNO/in.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc/eddymeanb0bet_mask.nii.gz /tmp/dwibiascorrect-tmp-K5ZSNO/mask.mif
dwibiascorrect: [03;32mChanging to temporary directory (/tmp/dwibiascorrect-tmp-K5ZSNO/)[0m
[03;34mCommand:[0m dwiextract in.mif - -bzero | mrmath - mean mean_bzero.mif -axis 3
[03;34mCommand:[0m mrcalc mean_bzero.mif mask.mif -mult - | mrconvert - mean_bzero_masked.nii -stride -1,+2,+3
[03;34mCommand:[0m fast -t 2 -o fast -n 3 -b mean_bzero_masked.nii
[03;34mCommand:[0m mrcalc in.mif fast_bias.nii.gz -div result.mif
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc/biascorr.mif
dwibiascorrect: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc)[0m
dwibiascorrect: [03;32mDeleting temporary directory /tmp/dwibiascorrect-tmp-K5ZSNO/[0m
Extracting mean of the b=0 shell.
Extracting mean of the b=1000 shell.
Extracting mean of the b=2990 shell.
5ttgen: [03;32m[0m
5ttgen: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
5ttgen: [03;32m[0m
5ttgen: [03;32mGenerated temporary directory: /tmp/5ttgen-tmp-YLGHGX/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc/T1betFSmasked.nii.gz /tmp/5ttgen-tmp-YLGHGX/input.mif
5ttgen: [03;32mChanging to temporary directory (/tmp/5ttgen-tmp-YLGHGX/)[0m
[03;34mCommand:[0m mrconvert input.mif T1.nii -stride -1,+2,+3
[03;34mCommand:[0m fast T1.nii
[03;34mCommand:[0m run_first_all -s L_Accu,R_Accu,L_Caud,R_Caud,L_Pall,R_Pall,L_Puta,R_Puta,L_Thal,R_Thal,L_Amyg,R_Amyg,L_Hipp,R_Hipp -i T1.nii -o first -b
[03;34mCommand:[0m meshconvert first-L_Accu_first.vtk L_Accu.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve L_Accu.vtk T1.nii mesh2pve_L_Accu.mif
[03;34mCommand:[0m meshconvert first-R_Accu_first.vtk R_Accu.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve R_Accu.vtk T1.nii mesh2pve_R_Accu.mif
[03;34mCommand:[0m meshconvert first-L_Caud_first.vtk L_Caud.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve L_Caud.vtk T1.nii mesh2pve_L_Caud.mif
[03;34mCommand:[0m meshconvert first-R_Caud_first.vtk R_Caud.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve R_Caud.vtk T1.nii mesh2pve_R_Caud.mif
[03;34mCommand:[0m meshconvert first-L_Pall_first.vtk L_Pall.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve L_Pall.vtk T1.nii mesh2pve_L_Pall.mif
[03;34mCommand:[0m meshconvert first-R_Pall_first.vtk R_Pall.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve R_Pall.vtk T1.nii mesh2pve_R_Pall.mif
[03;34mCommand:[0m meshconvert first-L_Puta_first.vtk L_Puta.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve L_Puta.vtk T1.nii mesh2pve_L_Puta.mif
[03;34mCommand:[0m meshconvert first-R_Puta_first.vtk R_Puta.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve R_Puta.vtk T1.nii mesh2pve_R_Puta.mif
[03;34mCommand:[0m meshconvert first-L_Thal_first.vtk L_Thal.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve L_Thal.vtk T1.nii mesh2pve_L_Thal.mif
[03;34mCommand:[0m meshconvert first-R_Thal_first.vtk R_Thal.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve R_Thal.vtk T1.nii mesh2pve_R_Thal.mif
[03;34mCommand:[0m meshconvert first-L_Amyg_first.vtk L_Amyg.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve L_Amyg.vtk T1.nii mesh2pve_L_Amyg.mif
[03;34mCommand:[0m meshconvert first-R_Amyg_first.vtk R_Amyg.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve R_Amyg.vtk T1.nii mesh2pve_R_Amyg.mif
[03;34mCommand:[0m meshconvert first-L_Hipp_first.vtk L_Hipp.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve L_Hipp.vtk T1.nii mesh2pve_L_Hipp.mif
[03;34mCommand:[0m meshconvert first-R_Hipp_first.vtk R_Hipp.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve R_Hipp.vtk T1.nii mesh2pve_R_Hipp.mif
[03;34mCommand:[0m mrmath mesh2pve_L_Accu.mif mesh2pve_R_Accu.mif mesh2pve_L_Caud.mif mesh2pve_R_Caud.mif mesh2pve_L_Pall.mif mesh2pve_R_Pall.mif mesh2pve_L_Puta.mif mesh2pve_R_Puta.mif mesh2pve_L_Thal.mif mesh2pve_R_Thal.mif mesh2pve_L_Amyg.mif mesh2pve_R_Amyg.mif mesh2pve_L_Hipp.mif mesh2pve_R_Hipp.mif sum - | mrcalc - 1.0 -min all_sgms.mif
[03;34mCommand:[0m mrthreshold T1_pve_2.nii.gz - -abs 0.001 | maskfilter - connect wm_mask.mif -largest
[03;34mCommand:[0m mrconvert T1_pve_0.nii.gz csf.mif
[03;34mCommand:[0m mrcalc 1.0 csf.mif -sub all_sgms.mif -min sgm.mif
[03;34mCommand:[0m mrcalc 1.0 csf.mif sgm.mif -add -sub T1_pve_1.nii.gz T1_pve_2.nii.gz -add -div multiplier.mif
[03;34mCommand:[0m mrcalc multiplier.mif -finite multiplier.mif 0.0 -if multiplier_noNAN.mif
[03;34mCommand:[0m mrcalc T1_pve_1.nii.gz multiplier_noNAN.mif -mult cgm.mif
[03;34mCommand:[0m mrcalc T1_pve_2.nii.gz multiplier_noNAN.mif -mult wm_mask.mif -mult wm.mif
[03;34mCommand:[0m mrcalc 0 wm.mif -min path.mif
[03;34mCommand:[0m mrcat cgm.mif sgm.mif wm.mif csf.mif path.mif - -axis 3 | mrconvert - combined_precrop.mif -stride +2,+3,+4,+1
[03;34mCommand:[0m mrconvert combined_precrop.mif result.mif
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc/5TTFSmasked.nii
5ttgen: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc)[0m
5ttgen: [03;32mDeleting temporary directory /tmp/5ttgen-tmp-YLGHGX/[0m
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mGenerated temporary directory: /tmp/labelsgmfix-tmp-XPWAX8/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc/parcFSLtempstr.nii.gz /tmp/labelsgmfix-tmp-XPWAX8/parc.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc/T1betFSmasked_restore.nii.gz /tmp/labelsgmfix-tmp-XPWAX8/T1.nii -stride -1,+2,+3
labelsgmfix: [03;32mChanging to temporary directory (/tmp/labelsgmfix-tmp-XPWAX8/)[0m
[03;34mCommand:[0m run_first_all -s R_Thal,L_Puta,R_Caud,R_Hipp,L_Amyg,R_Pall,R_Amyg,L_Caud,L_Pall,L_Thal,L_Hipp,R_Accu,L_Accu,R_Puta -i T1.nii -b -o first
[03;34mCommand:[0m mrcalc parc.mif 0 -min sgm.mif
[03;34mCommand:[0m meshconvert first-R_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Thal_mask.mif 6 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Puta_mask.mif 3 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Caud_mask.mif 7 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Hipp_mask.mif 13 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Amyg_mask.mif 12 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Pall_mask.mif 9 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Amyg_mask.mif 14 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Caud_mask.mif 2 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Pall_mask.mif 4 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Thal_mask.mif 1 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Hipp_mask.mif 11 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Accu_mask.mif 10 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Accu_mask.mif 5 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Puta_mask.mif 8 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m mrmath R_Thal_mask.mif L_Puta_mask.mif R_Caud_mask.mif R_Hipp_mask.mif L_Amyg_mask.mif R_Pall_mask.mif R_Amyg_mask.mif L_Caud_mask.mif L_Pall_mask.mif L_Thal_mask.mif L_Hipp_mask.mif R_Accu_mask.mif L_Accu_mask.mif R_Puta_mask.mif sum - | mrcalc - 1 -gt sgm_overlap_mask.mif
[03;34mCommand:[0m mrcalc sgm_overlap_mask.mif 0 sgm.mif -if sgm_masked.mif
[03;34mCommand:[0m labelconvert sgm_masked.mif /software/mrtrix3/mrtrix3-AP/scripts/data/FreeSurferSGM.txt /software/mrtrix3/mrtrix3-AP/src/connectome/tables/fs_a2009s.txt sgm_new_labels.mif
[03;34mCommand:[0m mrcalc parc.mif 83 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 78 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 84 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 87 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 81 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 86 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 88 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 77 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 79 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 76 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 80 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 89 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 82 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 85 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc sgm_new_labels.mif 0.5 -gt sgm_new_labels.mif parc.mif -if result.mif -datatype uint32
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc/parc_fixsubcort.nii
labelsgmfix: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc)[0m
labelsgmfix: [03;32mDeleting temporary directory /tmp/labelsgmfix-tmp-XPWAX8/[0m
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mGenerated temporary directory: /tmp/labelsgmfix-tmp-HA1AWM/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc/parcFSLtempstr.nii.gz /tmp/labelsgmfix-tmp-HA1AWM/parc.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc/T1betFSmasked_restore.nii.gz /tmp/labelsgmfix-tmp-HA1AWM/T1.nii -stride -1,+2,+3
labelsgmfix: [03;32mChanging to temporary directory (/tmp/labelsgmfix-tmp-HA1AWM/)[0m
[03;34mCommand:[0m run_first_all -s R_Thal,L_Puta,R_Caud,R_Hipp,L_Amyg,R_Pall,R_Amyg,L_Caud,L_Pall,L_Thal,L_Hipp,R_Accu,L_Accu,R_Puta -i T1.nii -b -o first
[03;34mCommand:[0m mrcalc parc.mif 0 -min sgm.mif
[03;34mCommand:[0m meshconvert first-R_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Thal_mask.mif 6 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Puta_mask.mif 3 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Caud_mask.mif 7 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Hipp_mask.mif 13 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Amyg_mask.mif 12 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Pall_mask.mif 9 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Amyg_mask.mif 14 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Caud_mask.mif 2 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Pall_mask.mif 4 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Thal_mask.mif 1 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Hipp_mask.mif 11 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Accu_mask.mif 10 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Accu_mask.mif 5 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Puta_mask.mif 8 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m mrmath R_Thal_mask.mif L_Puta_mask.mif R_Caud_mask.mif R_Hipp_mask.mif L_Amyg_mask.mif R_Pall_mask.mif R_Amyg_mask.mif L_Caud_mask.mif L_Pall_mask.mif L_Thal_mask.mif L_Hipp_mask.mif R_Accu_mask.mif L_Accu_mask.mif R_Puta_mask.mif sum - | mrcalc - 1 -gt sgm_overlap_mask.mif
[03;34mCommand:[0m mrcalc sgm_overlap_mask.mif 0 sgm.mif -if sgm_masked.mif
[03;34mCommand:[0m labelconvert sgm_masked.mif /software/mrtrix3/mrtrix3-AP/scripts/data/FreeSurferSGM.txt /software/mrtrix3/mrtrix3-AP/src/connectome/tables/fs_default.txt sgm_new_labels.mif
[03;34mCommand:[0m mrcalc parc.mif 43 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 38 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 44 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 47 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 41 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 46 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 48 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 37 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 39 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 36 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 40 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 49 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 42 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 45 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc sgm_new_labels.mif 0.5 -gt sgm_new_labels.mif parc.mif -if result.mif -datatype uint32
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc/parc_fixsubcort.nii
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc)[0m
labelsgmfix: [00;31mScript failed while executing the command: mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc/parc_fixsubcort.nii[0m
labelsgmfix: [00;31mFor debugging, inspect contents of temporary directory: /tmp/labelsgmfix-tmp-HA1AWM/[0m
Log file is register.dat.log
Thu Mar 16 01:56:10 AEST 2017

setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc
/software/freesurfer/freesurfer-5.3.0/bin/bbregister --s Short --mov biasmeanb0bet.nii.gz --init-fsl --reg register.dat --dti --fslmat diff2FS.mat

$Id: bbregister,v 1.49.2.3 2013/03/25 18:04:53 greve Exp $
Linux hpcnode041.adqimr.ad.lan 3.10.0-327.3.1.el7.x86_64 #1 SMP Wed Dec 9 14:09:15 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
FREESURFER_HOME /software/freesurfer/freesurfer-5.3.0
mri_convert biasmeanb0bet.nii.gz ./tmp.bbregister.65345/template.nii
mri_convert biasmeanb0bet.nii.gz ./tmp.bbregister.65345/template.nii 
$Id: mri_convert.c,v 1.179.2.7 2012/09/05 21:55:16 mreuter Exp $
reading from biasmeanb0bet.nii.gz...
TR=1000.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (0.999313, 0.0299168, 0.0218859)
j_ras = (-0.0317539, 0.99552, 0.0890652)
k_ras = (-0.0191233, -0.0896989, 0.995785)
writing to ./tmp.bbregister.65345/template.nii...
fslregister --s Short --mov ./tmp.bbregister.65345/template.nii --reg ./tmp.bbregister.65345/reg.init.dat --niters 1 --maxangle 90 --nobetmov --tmp ./tmp.bbregister.65345/fslregister --dof 6 --fsvol brainmask.mgz

Log file is ./tmp.bbregister.65345/reg.init.dat.fslregister.log

Thu Mar 16 01:56:10 AEST 2017
--s Short --mov ./tmp.bbregister.65345/template.nii --reg ./tmp.bbregister.65345/reg.init.dat --niters 1 --maxangle 90 --nobetmov --tmp ./tmp.bbregister.65345/fslregister --dof 6 --fsvol brainmask.mgz
$Id: fslregister,v 1.34.2.2 2012/11/08 16:18:56 greve Exp $
hpcnode041.adqimr.ad.lan
Linux hpcnode041.adqimr.ad.lan 3.10.0-327.3.1.el7.x86_64 #1 SMP Wed Dec 9 14:09:15 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
nIters 1
--------------------------------------
/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc
mri_convert /working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/FS/Short/mri/brainmask.mgz ./tmp.bbregister.65345/fslregister/refvol.fslregister.nii
mri_convert /working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/FS/Short/mri/brainmask.mgz ./tmp.bbregister.65345/fslregister/refvol.fslregister.nii 
$Id: mri_convert.c,v 1.179.2.7 2012/09/05 21:55:16 mreuter Exp $
reading from /working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/FS/Short/mri/brainmask.mgz...
TR=0.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (-1, 1.16415e-10, -1.86265e-09)
j_ras = (-9.31323e-10, 2.98023e-08, -1)
k_ras = (0, 1, 1.49012e-08)
writing to ./tmp.bbregister.65345/fslregister/refvol.fslregister.nii...
--------------------------------------
/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc
mri_convert ./tmp.bbregister.65345/template.nii ./tmp.bbregister.65345/fslregister/movvol.fslregister.nii --frame 0
mri_convert ./tmp.bbregister.65345/template.nii ./tmp.bbregister.65345/fslregister/movvol.fslregister.nii --frame 0 
$Id: mri_convert.c,v 1.179.2.7 2012/09/05 21:55:16 mreuter Exp $
reading from ./tmp.bbregister.65345/template.nii...
TR=1000.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (0.999313, 0.0299168, 0.0218859)
j_ras = (-0.0317539, 0.99552, 0.0890652)
k_ras = (-0.0191233, -0.0896989, 0.995785)
keeping frame 0
writing to ./tmp.bbregister.65345/fslregister/movvol.fslregister.nii...
Mov determinant is 8
Swapping dims for pos det
WARNING:: Flipping Left/Right orientation (as det < 0)
tkregister_tcl /software/freesurfer/freesurfer-5.3.0/tktools/tkregister2.tcl
target  volume ./tmp.bbregister.65345/fslregister/movvol.fslregister.nii
movable volume ./tmp.bbregister.65345/template.nii
reg file       ./tmp.bbregister.65345/fslregister/swapreg.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.121.2.1 2011/03/28 20:25:16 greve Exp $
Diagnostic Level -1
INFO: loading target ./tmp.bbregister.65345/fslregister/movvol.fslregister.nii
INFO: target does not conform to COR format, so I'm going to
reslice to COR. This will not affect the final registration.
Ttarg: --------------------
-1.000   0.000   0.000   128.000;
 0.000   0.000   1.000  -128.000;
 0.000  -1.000   0.000   128.000;
 0.000   0.000   0.000   1.000;
INFO: loading movable ./tmp.bbregister.65345/template.nii
Tmov: --------------------
-2.000   0.000   0.000   122.000;
 0.000   0.000   2.000  -70.000;
 0.000  -2.000   0.000   122.000;
 0.000   0.000   0.000   1.000;
mkheaderreg = 1, float2int = 0
Computing reg from header (and possibly input matrix)
---- Input registration matrix (computed) --------
-0.999  -0.030  -0.022   2.000;
-0.019  -0.090   0.996  -0.000;
 0.032  -0.996  -0.089  -0.000;
 0.000   0.000   0.000   1.000;
---------------------------------------
---- Input registration matrix --------
-0.999  -0.030  -0.022   2.000;
-0.019  -0.090   0.996  -0.000;
 0.032  -0.996  -0.089  -0.000;
 0.000   0.000   0.000   1.000;
Determinant -1
subject = subject-unknown
RegMat ---------------------------
-1.000   0.000   0.000   2.000;
 0.000   1.000  -0.000  -0.000;
-0.000  -0.000   1.000  -0.000;
 0.000   0.000   0.000   1.000;
/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc
tkregister2_cmdl --mov ./tmp.bbregister.65345/fslregister/movvol.fslregister.nii --reg ./tmp.bbregister.65345/fslregister/reg0.65434.dat --regheader --fslregout ./tmp.bbregister.65345/reg.init.dat.fsl.mat0 --s Short --noedit
tkregister_tcl /software/freesurfer/freesurfer-5.3.0/tktools/tkregister2.tcl
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume ./tmp.bbregister.65345/fslregister/movvol.fslregister.nii
reg file       ./tmp.bbregister.65345/fslregister/reg0.65434.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.121.2.1 2011/03/28 20:25:16 greve Exp $
Diagnostic Level -1
INFO: loading target /working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/FS/Short/mri/orig.mgz
Ttarg: --------------------
-1.000   0.000   0.000   128.000;
 0.000   0.000   1.000  -128.000;
 0.000  -1.000   0.000   128.000;
 0.000   0.000   0.000   1.000;
INFO: loading movable ./tmp.bbregister.65345/fslregister/movvol.fslregister.nii
Tmov: --------------------
-2.000   0.000   0.000   122.000;
 0.000   0.000   2.000  -70.000;
 0.000  -2.000   0.000   122.000;
 0.000   0.000   0.000   1.000;
mkheaderreg = 1, float2int = 0
Computing reg from header (and possibly input matrix)
---- Input registration matrix (computed) --------
 0.999   0.030   0.022   3.480;
-0.019  -0.090   0.996  -4.311;
 0.032  -0.996  -0.089  -16.017;
 0.000   0.000   0.000   1.000;
---------------------------------------
---- Input registration matrix --------
 0.999   0.030   0.022   3.480;
-0.019  -0.090   0.996  -4.311;
 0.032  -0.996  -0.089  -16.017;
 0.000   0.000   0.000   1.000;
Determinant 1
subject = Short
RegMat ---------------------------
 0.999   0.030   0.022   3.480;
-0.019  -0.090   0.996  -4.311;
 0.032  -0.996  -0.089  -16.017;
 0.000   0.000   0.000   1.000;
FSLOUTPUTTYPE NIFTI 
tkreg2FSL: mov det = -8, ref det = -1
Thu Mar 16 01:56:14 AEST 2017
/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc
flirt.fsl -ref ./tmp.bbregister.65345/fslregister/refvol.fslregister.nii -in ./tmp.bbregister.65345/fslregister/movvol.fslregister.nii -bins 256 -cost corratio -dof 6 -searchrx -90 90 -searchry -90 90 -searchrz -90 90 -verbose 0 -omat ./tmp.bbregister.65345/fslregister/fslmat0.trans.mat -schedule /software/fsl/fsl-5.0.9_eddy/fsl/etc/flirtsch/xyztrans.sch -init ./tmp.bbregister.65345/reg.init.dat.fsl.mat0
Thu Mar 16 01:56:30 AEST 2017
/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc
flirt.fsl -ref ./tmp.bbregister.65345/fslregister/refvol.fslregister.nii -in ./tmp.bbregister.65345/fslregister/movvol.fslregister.nii -bins 256 -cost corratio -dof 6 -searchrx -90 90 -searchry -90 90 -searchrz -90 90 -verbose 0 -omat ./tmp.bbregister.65345/reg.init.dat.fsl.mat -init ./tmp.bbregister.65345/fslregister/fslmat0.trans.mat -schedule /software/freesurfer/freesurfer-5.3.0/bin/flirt.newdefault.20080811.sch
tkregister2_cmdl --s Short --mov ./tmp.bbregister.65345/fslregister/movvol.fslregister.nii --reg ./tmp.bbregister.65345/reg.init.dat --fslreg ./tmp.bbregister.65345/reg.init.dat.fsl.mat --noedit
tkregister_tcl /software/freesurfer/freesurfer-5.3.0/tktools/tkregister2.tcl
---- FSL registration matrix --------
 0.999  -0.039  -0.017   12.181;
-0.011   0.148  -0.989   156.975;
 0.041   0.988   0.147  -19.722;
 0.000   0.000   0.000   1.000;
---------------------------------------
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume ./tmp.bbregister.65345/fslregister/movvol.fslregister.nii
reg file       ./tmp.bbregister.65345/reg.init.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.121.2.1 2011/03/28 20:25:16 greve Exp $
Diagnostic Level -1
INFO: loading target /working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/FS/Short/mri/orig.mgz
Ttarg: --------------------
-1.000   0.000   0.000   128.000;
 0.000   0.000   1.000  -128.000;
 0.000  -1.000   0.000   128.000;
 0.000   0.000   0.000   1.000;
INFO: loading movable ./tmp.bbregister.65345/fslregister/movvol.fslregister.nii
Tmov: --------------------
-2.000   0.000   0.000   122.000;
 0.000   0.000   2.000  -70.000;
 0.000  -2.000   0.000   122.000;
 0.000   0.000   0.000   1.000;
mkheaderreg = 0, float2int = 0
FSLOUTPUTTYPE NIFTI 
fsl2TkReg: mov det = -8, ref det = -1
---- Input registration matrix (computed) --------
 0.999  -0.041  -0.011  -0.111;
 0.017   0.147   0.989  -21.607;
-0.039  -0.988   0.148  -15.194;
 0.000   0.000   0.000   1.000;
---------------------------------------
---- Input registration matrix --------
 0.999  -0.041  -0.011  -0.111;
 0.017   0.147   0.989  -21.607;
-0.039  -0.988   0.148  -15.194;
 0.000   0.000   0.000   1.000;
Determinant 1
subject = Short
RegMat ---------------------------
 0.999  -0.041  -0.011  -0.111;
 0.017   0.147   0.989  -21.607;
-0.039  -0.988   0.148  -15.194;
 0.000   0.000   0.000   1.000;
mri_matrix_multiply -im ./tmp.bbregister.65345/fslregister/swapreg.dat -im ./tmp.bbregister.65345/reg.init.dat -om ./tmp.bbregister.65345/reg.init.dat
(standard_in) 1: illegal character: S
 
Started at Thu Mar 16 01:56:11 AEST 2017 
Ended   at Thu Mar 16 01:56:47 AEST 2017
 
fslregister Done
 
To check results, run:
tkregister2 --mov ./tmp.bbregister.65345/template.nii --reg ./tmp.bbregister.65345/reg.init.dat --surf orig
 
mri_segreg --mov ./tmp.bbregister.65345/template.nii --init-reg ./tmp.bbregister.65345/reg.init.dat --out-reg ./tmp.bbregister.65345/bbr.pass1.dat --subsamp-brute 100 --subsamp 100 --tol 1e-4 --tol1d 1e-3 --brute -4 4 4 --surf white --gm-proj-frac 0.5 --gm-gt-wm 0.5
$Id: mri_segreg.c,v 1.103.2.1 2011/10/07 19:14:42 greve Exp $
setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc
mri_segreg --mov ./tmp.bbregister.65345/template.nii --init-reg ./tmp.bbregister.65345/reg.init.dat --out-reg ./tmp.bbregister.65345/bbr.pass1.dat --subsamp-brute 100 --subsamp 100 --tol 1e-4 --tol1d 1e-3 --brute -4 4 4 --surf white --gm-proj-frac 0.5 --gm-gt-wm 0.5 
sysname  Linux
hostname hpcnode041.adqimr.ad.lan
machine  x86_64
user     alistaiP
movvol ./tmp.bbregister.65345/template.nii
regfile ./tmp.bbregister.65345/reg.init.dat
subject Short
dof 6
outregfile ./tmp.bbregister.65345/bbr.pass1.dat
UseMask 0
UseLH 1
UseRH 1
nsubsamp 100
PenaltySign  -1
PenaltySlope 0.500000
PenaltyCenter 0.000000
surfname white
GMProjFrac 0.500000
WMProjAbs 2.000000
lhcostfile (null)
rhcostfile (null)
interp  trilinear (1)
frame  0
TolPowell 0.000100
nMaxItersPowell 36
n1dmin  3
Profile   0
Gdiag_no  -1
AddNoise  0 (0)
SynthSeed 1489785809
TransRandMax 0.000000
RotRandMax 0.000000
Translations 0.000000 0.000000 0.000000
Rotations   0.000000 0.000000 0.000000
Input reg
-0.999   0.041   0.011   2.111;
 0.017   0.147   0.989  -21.607;
-0.039  -0.988   0.148  -15.194;
 0.000   0.000   0.000   1.000;

Loading mov
Projecting LH Surfs
Loading lh.white surf
Loading lh.thickness for GM
GM Proj: 1 0.500000 2.000000
WM Proj: 0 0.500000 2.000000
Projecting RH Surfs
Loading rh.white surf
Loading rh.thickness
Projecting RH Surfs
Computing relative cost
 0  -25.0 -25.0 -25.0   1.029515
 1  -25.0 -25.0  25.0   1.035960
 2  -25.0  25.0 -25.0   0.990453
 3  -25.0  25.0  25.0   0.974313
 4   25.0 -25.0 -25.0   1.050743
 5   25.0 -25.0  25.0   0.981696
 6   25.0  25.0 -25.0   1.005863
 7   25.0  25.0  25.0   1.022134
REL:  8  0.921482    8.090677  1.011335 rel = 0.911154 
Initial costs ----------------
Number of surface hits 2399
WM  Intensity   420.3079 +/- 164.4227
Ctx Intensity   441.4611 +/- 174.0133
Pct Contrast      4.2989 +/-  31.0305
Cost   0.9215
RelCost   0.9112

------------------------------------
Brute force preopt -4 4 4, n = 729
     0  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000      0.9382   0.9382  0.0
     3  -4.0000  -4.0000  -4.0000  -4.0000   0.0000  -4.0000      0.9181   0.9181  0.0
    30  -4.0000  -4.0000   0.0000  -4.0000   0.0000  -4.0000      0.9044   0.9044  0.0
   244   0.0000  -4.0000  -4.0000  -4.0000  -4.0000   0.0000      0.9023   0.9023  0.0
   256   0.0000  -4.0000  -4.0000   0.0000   0.0000   0.0000      0.8968   0.8968  0.0
   262   0.0000  -4.0000  -4.0000   4.0000  -4.0000   0.0000      0.8904   0.8904  0.0
   355   0.0000   0.0000   0.0000  -4.0000   0.0000   0.0000      0.8880   0.8880  0.0
   365   0.0000   0.0000   0.0000   0.0000   0.0000   4.0000      0.8757   0.8757  0.0
Brute Force --------------------------
Min cost was 0.875700
Number of iterations   729
Search time 1.260000 sec
Parameters at best (transmm, rotdeg)
  0.000   0.000   0.000  0.000  0.000  4.000 
--------------------------------------------

Starting Powell Minimization
Init Powel Params dof = 6
0 0
1 0
2 0
3 0
4 0
5 4
   9 -0.090  0.000  0.000  0.000  0.000  4.000   0.8740672519
  11 -0.070  0.000  0.000  0.000  0.000  4.000   0.8739893379
  12 -0.074  0.000  0.000  0.000  0.000  4.000   0.8739783719
  23 -0.074  0.043  0.000  0.000  0.000  4.000   0.8730328716
  25 -0.074  0.041  0.000  0.000  0.000  4.000   0.8730323861
  27 -0.074  0.042  0.000  0.000  0.000  4.000   0.8730320765
  34 -0.074  0.042  0.021  0.000  0.000  4.000   0.8728426521
  36 -0.074  0.042  0.045  0.000  0.000  4.000   0.8726620010
  38 -0.074  0.042  0.048  0.000  0.000  4.000   0.8726571775
  39 -0.074  0.042  0.049  0.000  0.000  4.000   0.8726564377
  51 -0.074  0.042  0.049 -0.009  0.000  4.000   0.8726158631
  65 -0.074  0.042  0.049 -0.009  0.022  4.000   0.8724466848
  68 -0.074  0.042  0.049 -0.009  0.021  4.000   0.8724463607
  79 -0.074  0.042  0.049 -0.009  0.021  3.988   0.8724288208
  80 -0.074  0.042  0.049 -0.009  0.021  3.992   0.8724146796
  81 -0.074  0.042  0.049 -0.009  0.021  3.993   0.8724141759
  93 -0.076  0.042  0.049 -0.009  0.021  3.993   0.8723917113
  95 -0.082  0.042  0.049 -0.009  0.021  3.993   0.8723653002
  96 -0.083  0.042  0.049 -0.009  0.021  3.993   0.8723651585
 106 -0.083  0.053  0.049 -0.009  0.021  3.993   0.8723369522
 107 -0.083  0.051  0.049 -0.009  0.021  3.993   0.8723306665
 108 -0.083  0.050  0.049 -0.009  0.021  3.993   0.8723299084
 119 -0.083  0.050  0.061 -0.009  0.021  3.993   0.8722662307
 133 -0.083  0.050  0.061 -0.010  0.021  3.993   0.8722660754
 146 -0.083  0.050  0.061 -0.010  0.044  3.993   0.8722521674
 148 -0.083  0.050  0.061 -0.010  0.033  3.993   0.8721989998
 160 -0.083  0.050  0.061 -0.010  0.033  3.988   0.8721842204
 175 -0.086  0.050  0.061 -0.010  0.033  3.988   0.8721741835
 176 -0.087  0.050  0.061 -0.010  0.033  3.988   0.8721739087
 187 -0.087  0.051  0.061 -0.010  0.033  3.988   0.8721732293
 197 -0.087  0.051  0.067 -0.010  0.033  3.988   0.8721696996
 198 -0.087  0.051  0.065 -0.010  0.033  3.988   0.8721674765
 211 -0.087  0.051  0.065 -0.011  0.033  3.988   0.8721671214
 225 -0.087  0.051  0.065 -0.011  0.036  3.988   0.8721621509
 226 -0.087  0.051  0.065 -0.011  0.037  3.988   0.8721611047
 239 -0.087  0.051  0.065 -0.011  0.037  3.985   0.8721573214
Powell done niters = 2
Computing relative cost
 0  -25.0 -25.0 -25.0   0.953754
 1  -25.0 -25.0  25.0   1.011942
 2  -25.0  25.0 -25.0   0.995753
 3  -25.0  25.0  25.0   1.011486
 4   25.0 -25.0 -25.0   1.052359
 5   25.0 -25.0  25.0   1.054092
 6   25.0  25.0 -25.0   0.976357
 7   25.0  25.0  25.0   0.997528
REL:  8  0.872157    8.053273  1.006659 rel = 0.866388 
Number of iterations     2
Min cost was 0.872157
Number of FunctionCalls   242
TolPowell 0.000100
nMaxItersPowell 36
OptimizationTime 0.324000 sec
Parameters at optimum (transmm) -0.08675  0.05070  0.06457
Parameters at optimum (rotdeg) -0.01146  0.03700  3.98520 
Final costs ----------------
Number of surface hits 2399
WM  Intensity   421.5661 +/- 166.8754
Ctx Intensity   441.6335 +/- 176.1689
Pct Contrast      4.0512 +/-  30.3749
Cost   0.8722
RelCost   0.9112
Reg at min cost was 
-0.998   0.030  -0.057   3.512;
-0.052   0.149   0.987  -21.361;
-0.038  -0.988   0.147  -15.127;
 0.000   0.000   0.000   1.000;

Writing optimal reg to ./tmp.bbregister.65345/bbr.pass1.dat, type = 14 
Original Reg 
-0.999   0.041   0.011   2.111;
 0.017   0.147   0.989  -21.607;
-0.039  -0.988   0.148  -15.194;
 0.000   0.000   0.000   1.000;

Original Reg - Optimal Reg
-0.001   0.011   0.069  -1.400;
 0.069  -0.002   0.002  -0.246;
-0.001   0.000   0.000  -0.068;
 0.000   0.000   0.000   0.000;

Computing change in lh position
LH rmsDiffMean 2.768508
Computing change in rh position
Surface RMS Diff (mm) 2.660285 4.648463
mri_segreg done
mri_segreg --mov ./tmp.bbregister.65345/template.nii --init-reg ./tmp.bbregister.65345/bbr.pass1.dat --out-reg register.dat --brute -0.1 0.1 0.1 --interp trilinear --wm-proj-abs 2 --tol 1e-8 --tol1d 1e-3 --c0 0 --mincost register.dat.mincost --dof 6 --nmax 36 --param register.dat.param --surf white --cur-reg ./tmp.bbregister.65345/reg.curopt.dat --gm-proj-frac 0.5 --nsub 1 --gm-gt-wm 0.5
$Id: mri_segreg.c,v 1.103.2.1 2011/10/07 19:14:42 greve Exp $
setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc
mri_segreg --mov ./tmp.bbregister.65345/template.nii --init-reg ./tmp.bbregister.65345/bbr.pass1.dat --out-reg register.dat --brute -0.1 0.1 0.1 --interp trilinear --wm-proj-abs 2 --tol 1e-8 --tol1d 1e-3 --c0 0 --mincost register.dat.mincost --dof 6 --nmax 36 --param register.dat.param --surf white --cur-reg ./tmp.bbregister.65345/reg.curopt.dat --gm-proj-frac 0.5 --nsub 1 --gm-gt-wm 0.5 
sysname  Linux
hostname hpcnode041.adqimr.ad.lan
machine  x86_64
user     alistaiP
movvol ./tmp.bbregister.65345/template.nii
regfile ./tmp.bbregister.65345/bbr.pass1.dat
subject Short
dof 6
outregfile register.dat
UseMask 0
UseLH 1
UseRH 1
nsubsamp 1
PenaltySign  -1
PenaltySlope 0.500000
PenaltyCenter 0.000000
surfname white
GMProjFrac 0.500000
WMProjAbs 2.000000
lhcostfile (null)
rhcostfile (null)
interp  trilinear (1)
frame  0
TolPowell 0.000000
nMaxItersPowell 36
n1dmin  3
Profile   0
Gdiag_no  -1
AddNoise  0 (0)
SynthSeed 1490141308
TransRandMax 0.000000
RotRandMax 0.000000
Translations 0.000000 0.000000 0.000000
Rotations   0.000000 0.000000 0.000000
Input reg
-0.998   0.030  -0.057   3.512;
-0.052   0.149   0.987  -21.361;
-0.038  -0.988   0.147  -15.127;
 0.000   0.000   0.000   1.000;

Loading mov
Projecting LH Surfs
Loading lh.white surf
Loading lh.thickness for GM
GM Proj: 1 0.500000 2.000000
WM Proj: 0 0.500000 2.000000
Projecting RH Surfs
Loading rh.white surf
Loading rh.thickness
Projecting RH Surfs
Computing relative cost
 0  -25.0 -25.0 -25.0   1.000418
 1  -25.0 -25.0  25.0   1.002067
 2  -25.0  25.0 -25.0   1.016805
 3  -25.0  25.0  25.0   1.012293
 4   25.0 -25.0 -25.0   1.025982
 5   25.0 -25.0  25.0   1.009404
 6   25.0  25.0 -25.0   0.981257
 7   25.0  25.0  25.0   1.016929
REL:  8  0.908245    8.065155  1.008144 rel = 0.900908 
Initial costs ----------------
Number of surface hits 239607
WM  Intensity   425.7816 +/- 167.7940
Ctx Intensity   443.0419 +/- 175.9013
Pct Contrast      3.4870 +/-  30.7381
Cost   0.9082
RelCost   0.9009

------------------------------------
Brute force preopt -0.1 0.1 0.1, n = 729
     0  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000      0.8777   0.8777  0.0
    27  -0.1000  -0.1000   0.0000  -0.1000  -0.1000  -0.1000      0.8770   0.8770  0.0
    30  -0.1000  -0.1000   0.0000  -0.1000   0.0000  -0.1000      0.8769   0.8769  0.0
    54  -0.1000  -0.1000   0.1000  -0.1000  -0.1000  -0.1000      0.8761   0.8761  0.0
    57  -0.1000  -0.1000   0.1000  -0.1000   0.0000  -0.1000      0.8752   0.8752  0.0
   244   0.0000  -0.1000  -0.1000  -0.1000  -0.1000   0.0000      0.8745   0.8745  0.0
   270   0.0000  -0.1000   0.0000  -0.1000  -0.1000  -0.1000      0.8743   0.8743  0.0
   271   0.0000  -0.1000   0.0000  -0.1000  -0.1000   0.0000      0.8736   0.8736  0.0
   303   0.0000  -0.1000   0.1000  -0.1000   0.1000  -0.1000      0.8733   0.8733  0.0
   355   0.0000   0.0000   0.0000  -0.1000   0.0000   0.0000      0.8729   0.8729  0.0
   358   0.0000   0.0000   0.0000  -0.1000   0.1000   0.0000      0.8724   0.8724  0.0
   364   0.0000   0.0000   0.0000   0.0000   0.0000   0.0000      0.8722   0.8722  0.0
   488   0.1000  -0.1000  -0.1000  -0.1000  -0.1000   0.1000      0.8720   0.8720  0.0
   515   0.1000  -0.1000   0.0000  -0.1000  -0.1000   0.1000      0.8719   0.8719  0.0
   626   0.1000   0.0000   0.1000  -0.1000   0.0000   0.1000      0.8718   0.8718  0.0
   636   0.1000   0.0000   0.1000   0.0000   0.1000  -0.1000      0.8717   0.8717  0.0
   707   0.1000   0.1000   0.1000  -0.1000   0.0000   0.1000      0.8716   0.8716  0.0
   716   0.1000   0.1000   0.1000   0.0000   0.0000   0.1000      0.8711   0.8711  0.0
   719   0.1000   0.1000   0.1000   0.0000   0.1000   0.1000      0.8707   0.8707  0.0
Brute Force --------------------------
Min cost was 0.870710
Number of iterations   729
Search time 0.856000 sec
Parameters at best (transmm, rotdeg)
  0.100   0.100   0.100  0.000  0.100  0.100 
--------------------------------------------

Starting Powell Minimization
Init Powel Params dof = 6
0 0.1
1 0.1
2 0.1
3 0
4 0.1
5 0.1
   2  1.100  0.100  0.100  0.000  0.100  0.100   0.8993503098
   3  2.718  0.100  0.100  0.000  0.100  0.100   0.8952257954
   4  2.368  0.100  0.100  0.000  0.100  0.100   0.8936373213
   7  2.183  0.100  0.100  0.000  0.100  0.100   0.8932145000
   8  2.208  0.100  0.100  0.000  0.100  0.100   0.8932092078
  10  2.269  0.100  0.100  0.000  0.100  0.100   0.8931879942
  12  2.246  0.100  0.100  0.000  0.100  0.100   0.8931612985
  14  2.250  0.100  0.100  0.000  0.100  0.100   0.8931598372
  19  2.251 -1.518  0.100  0.000  0.100  0.100   0.8796459616
  20  2.251 -1.613  0.100  0.000  0.100  0.100   0.8795747011
  21  2.251 -1.650  0.100  0.000  0.100  0.100   0.8794791080
  22  2.251 -1.709  0.100  0.000  0.100  0.100   0.8793529420
  23  2.251 -1.890  0.100  0.000  0.100  0.100   0.8790805909
  26  2.251 -1.962  0.100  0.000  0.100  0.100   0.8790687544
  28  2.251 -1.931  0.100  0.000  0.100  0.100   0.8790546676
  30  2.251 -1.915  0.100  0.000  0.100  0.100   0.8790545041
  31  2.251 -1.923  0.100  0.000  0.100  0.100   0.8790533913
  42  2.251 -1.921 -0.110  0.000  0.100  0.100   0.8789425470
  43  2.251 -1.921 -0.073  0.000  0.100  0.100   0.8788863071
  44  2.251 -1.921 -0.028  0.000  0.100  0.100   0.8788593571
  46  2.251 -1.921 -0.038  0.000  0.100  0.100   0.8788567709
  47  2.251 -1.921 -0.037  0.000  0.100  0.100   0.8788567636
  50  2.251 -1.921 -0.037  1.000  0.100  0.100   0.8776465780
  54  2.251 -1.921 -0.037  0.618  0.100  0.100   0.8757197002
  58  2.251 -1.921 -0.037  0.619  0.100  0.100   0.8757196111
  68  2.251 -1.921 -0.037  0.621 -0.518  0.100   0.8752379251
  70  2.251 -1.921 -0.037  0.621 -0.289  0.100   0.8747454772
  71  2.251 -1.921 -0.037  0.621 -0.261  0.100   0.8747086166
  73  2.251 -1.921 -0.037  0.621 -0.230  0.100   0.8746684997
  75  2.251 -1.921 -0.037  0.621 -0.221  0.100   0.8746607252
  76  2.251 -1.921 -0.037  0.621 -0.216  0.100   0.8746598544
  85  2.251 -1.921 -0.037  0.621 -0.216 -0.060   0.8745713593
  86  2.251 -1.921 -0.037  0.621 -0.216 -0.030   0.8745317849
  88  2.251 -1.921 -0.037  0.621 -0.216 -0.021   0.8745274842
  89  2.251 -1.921 -0.037  0.621 -0.216 -0.019   0.8745272890
  90  2.251 -1.921 -0.037  0.621 -0.216 -0.017   0.8745272590
  93  2.251 -1.921 -0.037  0.621 -0.216 -0.018   0.8745272521
 100  2.633 -1.921 -0.037  0.621 -0.216 -0.018   0.8740093701
 102  2.632 -1.921 -0.037  0.621 -0.216 -0.018   0.8740088042
 103  2.606 -1.921 -0.037  0.621 -0.216 -0.018   0.8739944551
 104  2.588 -1.921 -0.037  0.621 -0.216 -0.018   0.8739940045
 105  2.596 -1.921 -0.037  0.621 -0.216 -0.018   0.8739907755
 113  2.597 -1.539 -0.037  0.621 -0.216 -0.018   0.8737871815
 114  2.597 -1.690 -0.037  0.621 -0.216 -0.018   0.8736052199
 116  2.597 -1.671 -0.037  0.621 -0.216 -0.018   0.8735952491
 117  2.597 -1.620 -0.037  0.621 -0.216 -0.018   0.8735824305
 121  2.597 -1.616 -0.037  0.621 -0.216 -0.018   0.8735815957
 133  2.597 -1.616 -0.039  0.621 -0.216 -0.018   0.8735812415
 134  2.597 -1.616 -0.040  0.621 -0.216 -0.018   0.8735812049
 143  2.597 -1.616 -0.040  0.726 -0.216 -0.018   0.8734919138
 145  2.597 -1.616 -0.040  0.688 -0.216 -0.018   0.8734541350
 146  2.597 -1.616 -0.040  0.689 -0.216 -0.018   0.8734538138
 147  2.597 -1.616 -0.040  0.693 -0.216 -0.018   0.8734531820
 157  2.597 -1.616 -0.040  0.692 -0.324 -0.018   0.8733643106
 161  2.597 -1.616 -0.040  0.692 -0.315 -0.018   0.8733504519
 162  2.597 -1.616 -0.040  0.692 -0.306 -0.018   0.8733476516
 163  2.597 -1.616 -0.040  0.692 -0.308 -0.018   0.8733474583
 165  2.597 -1.616 -0.040  0.692 -0.307 -0.018   0.8733474554
 173  2.597 -1.616 -0.040  0.692 -0.307 -0.005   0.8733335047
 174  2.597 -1.616 -0.040  0.692 -0.307  0.009   0.8733302610
 175  2.597 -1.616 -0.040  0.692 -0.307  0.006   0.8733300054
 176  2.597 -1.616 -0.040  0.692 -0.307  0.007   0.8733299803
 187  2.594 -1.616 -0.040  0.692 -0.307  0.007   0.8733257093
 188  2.579 -1.616 -0.040  0.692 -0.307  0.007   0.8733253980
 190  2.586 -1.616 -0.040  0.692 -0.307  0.007   0.8733229855
 202  2.585 -1.617 -0.040  0.692 -0.307  0.007   0.8733229822
 212  2.585 -1.617 -0.059  0.692 -0.307  0.007   0.8733105607
 213  2.585 -1.617 -0.056  0.692 -0.307  0.007   0.8733099248
 226  2.585 -1.617 -0.056  0.691 -0.307  0.007   0.8733097305
 236  2.585 -1.617 -0.056  0.691 -0.295  0.007   0.8733032329
 237  2.585 -1.617 -0.056  0.691 -0.296  0.007   0.8733027122
 238  2.585 -1.617 -0.056  0.691 -0.298  0.007   0.8733024485
 249  2.585 -1.617 -0.056  0.691 -0.298  0.006   0.8733024429
 250  2.585 -1.617 -0.056  0.691 -0.298  0.005   0.8733024227
 263  2.580 -1.617 -0.056  0.691 -0.298  0.005   0.8733007499
 275  2.580 -1.614 -0.056  0.691 -0.298  0.005   0.8733001400
 287  2.580 -1.614 -0.057  0.691 -0.298  0.005   0.8733000132
 309  2.580 -1.614 -0.057  0.691 -0.297  0.005   0.8732996624
 313  2.580 -1.614 -0.057  0.691 -0.296  0.005   0.8732994860
 323  2.580 -1.614 -0.057  0.691 -0.296  0.004   0.8732994327
 331  2.578 -1.613 -0.058  0.691 -0.295  0.003   0.8732992344
 363  2.579 -1.615 -0.058  0.691 -0.295  0.005   0.8732992329
 403  2.577 -1.614 -0.059  0.691 -0.294  0.004   0.8732991610
 404  2.577 -1.614 -0.059  0.691 -0.294  0.005   0.8732991511
 406  2.577 -1.614 -0.059  0.691 -0.294  0.005   0.8732991350
 407  2.577 -1.614 -0.059  0.691 -0.294  0.004   0.8732991240
 414  2.577 -1.614 -0.059  0.691 -0.294  0.004   0.8732991203
 482  2.577 -1.614 -0.059  0.691 -0.294  0.005   0.8732991089
Powell done niters = 5
Computing relative cost
 0  -25.0 -25.0 -25.0   1.021844
 1  -25.0 -25.0  25.0   1.025125
 2  -25.0  25.0 -25.0   1.014357
 3  -25.0  25.0  25.0   1.018048
 4   25.0 -25.0 -25.0   1.037543
 5   25.0 -25.0  25.0   1.004478
 6   25.0  25.0 -25.0   0.991394
 7   25.0  25.0  25.0   1.027586
REL:  8  0.873299    8.140374  1.017547 rel = 0.85824 
Number of iterations     5
Min cost was 0.873299
Number of FunctionCalls   492
TolPowell 0.000000
nMaxItersPowell 36
OptimizationTime 37.456000 sec
Parameters at optimum (transmm)  2.57680 -1.61363 -0.05897
Parameters at optimum (rotdeg)  0.69077 -0.29397  0.00447 
Final costs ----------------
Number of surface hits 239600
WM  Intensity   416.0786 +/- 160.1845
Ctx Intensity   438.2472 +/- 172.6552
Pct Contrast      4.5406 +/-  30.9904
Cost   0.8733
RelCost   0.9009
Reg at min cost was 
-0.998   0.035  -0.058   6.169;
-0.052   0.161   0.986  -22.790;
-0.044  -0.986   0.159  -15.424;
 0.000   0.000   0.000   1.000;

Writing optimal reg to register.dat, type = 14 
Original Reg 
-0.998   0.030  -0.057   3.512;
-0.052   0.149   0.987  -21.361;
-0.038  -0.988   0.147  -15.127;
 0.000   0.000   0.000   1.000;

Original Reg - Optimal Reg
-0.000  -0.005   0.001  -2.657;
-0.000  -0.012   0.002   1.429;
 0.006  -0.002  -0.012   0.297;
 0.000   0.000   0.000   0.000;

Computing change in lh position
LH rmsDiffMean 3.132050
Computing change in rh position
Surface RMS Diff (mm) 3.126080 3.402348
mri_segreg done
tkregister2_cmdl --mov biasmeanb0bet.nii.gz --reg register.dat --noedit --fslregout diff2FS.mat
tkregister_tcl /software/freesurfer/freesurfer-5.3.0/tktools/tkregister2.tcl
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume biasmeanb0bet.nii.gz
reg file       register.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.121.2.1 2011/03/28 20:25:16 greve Exp $
Diagnostic Level -1
---- Input registration matrix --------
-0.998   0.035  -0.058   6.169;
-0.052   0.161   0.986  -22.790;
-0.044  -0.986   0.159  -15.424;
 0.000   0.000   0.000   1.000;
float2int = 0
---------------------------------------
INFO: loading target /working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/FS/Short/mri/orig.mgz
Ttarg: --------------------
-1.000   0.000   0.000   128.000;
 0.000   0.000   1.000  -128.000;
 0.000  -1.000   0.000   128.000;
 0.000   0.000   0.000   1.000;
INFO: loading movable biasmeanb0bet.nii.gz
Tmov: --------------------
-2.000   0.000   0.000   122.000;
 0.000   0.000   2.000  -70.000;
 0.000  -2.000   0.000   122.000;
 0.000   0.000   0.000   1.000;
mkheaderreg = 0, float2int = 0
---- Input registration matrix --------
-0.998   0.035  -0.058   6.169;
-0.052   0.161   0.986  -22.790;
-0.044  -0.986   0.159  -15.424;
 0.000   0.000   0.000   1.000;
Determinant -0.999999
subject = Short
RegMat ---------------------------
-0.998   0.035  -0.058   6.169;
-0.052   0.161   0.986  -22.790;
-0.044  -0.986   0.159  -15.424;
 0.000   0.000   0.000   1.000;
FSLOUTPUTTYPE NIFTI_GZ 
tkreg2FSL: mov det = 8, ref det = -1
INFO: FSL2FreeSurfer: Mov volume is NIFTI with positive det,
      applying LR flip to registration matrix.
Cleaning up
 
Started at Thu Mar 16 01:56:10 AEST 2017 
Ended   at Thu Mar 16 01:57:47 AEST 2017
BBR-Run-Time-Sec 97
 
bbregister Done
To check results, run:
tkregister2 --mov biasmeanb0bet.nii.gz --reg register.dat --surf
 
dwi2response: [03;32m[0m
dwi2response: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation. Please consult the help page (-help option) for more information.[0m
dwi2response: [03;32m[0m
dwi2response: [03;32mGenerated temporary directory: /tmp/dwi2response-tmp-D8W12P/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc/biascorr.mif /tmp/dwi2response-tmp-D8W12P/dwi.mif -stride 0,0,0,1
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc/biasmeanb0bet_mask.nii.gz /tmp/dwi2response-tmp-D8W12P/mask.mif -datatype bit
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc/r5TT.nii /tmp/dwi2response-tmp-D8W12P/5tt.mif
dwi2response: [03;32mChanging to temporary directory (/tmp/dwi2response-tmp-D8W12P/)[0m
[03;34mCommand:[0m dwi2tensor dwi.mif - -mask mask.mif | tensor2metric - -fa fa.mif -vector vector.mif
[03;34mCommand:[0m mrtransform 5tt.mif 5tt_regrid.mif -template fa.mif -interp linear
[03;34mCommand:[0m mrconvert 5tt_regrid.mif - -coord 3 2 -axes 0,1,2 | mrcalc - 0.95 -gt mask.mif -mult wm_mask.mif
[03;34mCommand:[0m mrconvert 5tt_regrid.mif - -coord 3 0 -axes 0,1,2 | mrcalc - 0.95 -gt fa.mif 0.2 -lt -mult mask.mif -mult gm_mask.mif
[03;34mCommand:[0m mrconvert 5tt_regrid.mif - -coord 3 3 -axes 0,1,2 | mrcalc - 0.95 -gt fa.mif 0.2 -lt -mult mask.mif -mult csf_mask.mif
dwi2response: [03;32mCalling dwi2response recursively to select WM single-fibre voxels using 'tournier' algorithm[0m
[03;34mCommand:[0m dwi2response tournier dwi.mif wm_ss_response.txt -mask wm_mask.mif -voxels wm_sf_mask.mif -quiet -tempdir /tmp/dwi2response-tmp-D8W12P/
[03;34mCommand:[0m dwiextract dwi.mif -shell 0 dwi_b0.mif
[03;34mCommand:[0m amp2sh dwi_b0.mif - | sh2response - wm_sf_mask.mif dirs.mif wm_response_b0.txt
[03;34mCommand:[0m mrmath dwi_b0.mif mean dwi_b0_mean.mif -axis 3
[03;34mCommand:[0m dwiextract dwi.mif -shell 1000 dwi_b1000.mif
[03;34mCommand:[0m amp2sh dwi_b1000.mif - | sh2response - wm_sf_mask.mif dirs.mif wm_response_b1000.txt
[03;34mCommand:[0m mrmath dwi_b1000.mif mean dwi_b1000_mean.mif -axis 3
[03;34mCommand:[0m dwiextract dwi.mif -shell 2990 dwi_b2990.mif
[03;34mCommand:[0m amp2sh dwi_b2990.mif - | sh2response - wm_sf_mask.mif dirs.mif wm_response_b2990.txt
[03;34mCommand:[0m mrmath dwi_b2990.mif mean dwi_b2990_mean.mif -axis 3
[03;34mCommand:[0m mrcat csf_mask.mif gm_mask.mif wm_sf_mask.mif voxels.mif -axis 3
dwi2response: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Short/preproc)[0m
dwi2response: [03;32mDeleting temporary directory /tmp/dwi2response-tmp-D8W12P/[0m
