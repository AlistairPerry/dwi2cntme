dwipreproc_cust: [03;32m[0m
dwipreproc_cust: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
dwipreproc_cust: [03;32m[0m
dwipreproc_cust: [03;32mGenerated temporary directory: /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_032/preproc/dwipreproc_cust-tmp-KOMNUG/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_032/preproc/rawdataAPdn.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_032/preproc/dwipreproc_cust-tmp-KOMNUG/series.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_032/preproc/AP7b0s.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_032/preproc/dwipreproc_cust-tmp-KOMNUG/pair1.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_032/preproc/rawdataPAdn.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_032/preproc/dwipreproc_cust-tmp-KOMNUG/pair2.mif
dwipreproc_cust: [03;32mChanging to temporary directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_032/preproc/dwipreproc_cust-tmp-KOMNUG/)[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 102[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -dwgrad' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult:           0           0           0           0
          0           0           0           0
  -0.999993  0.00267821 -0.00267821        3000
  0.0267659   -0.744215   -0.667404        3000
-0.00494091    0.517283      0.8558        3000
   0.272036     0.82792   -0.490454        3000
  -0.651736    0.404454   -0.641605        3000
   0.507432    0.260982    0.821219        3000
   0.959264    0.280162   0.0363499        3000
    0.53411    0.380341   -0.755028        3000
  -0.317285    0.133313   -0.938913        3000
          0           0           0           0
   0.505399   -0.590012   -0.629649        3000
   0.599872   0.0947372   -0.794467        3000
  -0.953919   -0.155213   -0.256801        3000
  -0.527159   -0.742463    0.413341        3000
   0.194669   -0.924661    0.327269        3000
  -0.365791    0.925465  -0.0985436        3000
   0.259387    0.930462    0.258766        3000
  0.0227156    0.509807   -0.859989        3000
  -0.614368    0.788182  -0.0363358        3000
          0           0           0           0
   0.872815   0.0317035    0.487021        3000
  -0.743377   -0.229606    0.628229        3000
   0.487774     0.67606    0.552286        3000
  -0.451364   -0.890955  -0.0496972        3000
  -0.662322   -0.430907   -0.612902        3000
  -0.853721    0.236749   -0.463799        3000
  -0.439127   -0.505476   -0.742739        3000
   0.957664   -0.139473   -0.251846        3000
  -0.703523   -0.594169   -0.389896        3000
          0           0           0           0
  -0.386735   -0.179908    0.904472        3000
   0.143686   -0.680659    0.718371        3000
  -0.802651   -0.596158   0.0186448        3000
  -0.288564   -0.136392   -0.947696        3000
   0.963061   -0.128132    0.236847        3000
  -0.150741   -0.695811    0.702228        3000
 -0.0169294   -0.982956   -0.183059        3000
  -0.376458   -0.897388    0.230161        3000
   0.668401    0.728358    0.150781        3000
          0           0           0           0
  -0.289954   -0.465303    0.836313        3000
  -0.721758   -0.162629   -0.672768        3000
   0.717355   -0.657923    0.229215        3000
   0.428972   -0.580535    0.692071        3000
    0.95895   -0.282885  -0.0197834        3000
    0.49378   -0.296172    0.817596        3000
   -0.89465    0.397566    -0.20382        3000
   0.202749    0.978891  -0.0258084        3000
  -0.231163    0.966209    0.114038        3000
          0           0           0           0
   0.739309    0.599883   -0.305879        3000
   0.843754    0.335989   -0.418558        3000
   0.105708   -0.283878    0.953016        3000
    0.23955    0.398721    0.885233        3000
   0.613222    0.778483   -0.133876        3000
  -0.267376     0.45668   -0.848501        3000
   -0.65795   -0.512904     0.55139        3000
   0.257108   -0.895076   -0.364328        3000
  -0.249597   -0.820166   -0.514809        3000
          0           0           0           0
  -0.573466    0.658401   -0.487488        3000
 -0.0216013    -0.24774   -0.968586        3000
  -0.224686    0.320495    0.920217        3000
   0.837019    0.322427    0.442087        3000
   0.860899     0.46468    0.207183        3000
  -0.487762    -0.80974   -0.326204        3000
   0.105547    0.947276   -0.302536        3000
  -0.542739   0.0101567    -0.83984        3000
   0.250904   -0.575934   -0.778041        3000
          0           0           0           0
   0.228964  -0.0494766   -0.972177        3000
   0.215765    0.652466    0.726453        3000
  -0.962212   -0.139465    0.233876        3000
  -0.312285    0.788182   -0.530327        3000
   0.870866   -0.428902   -0.240075        3000
   -0.84505    0.263516    0.465242        3000
  -0.894443   -0.411469    0.175112        3000
   0.703904   -0.677796   -0.212395        3000
   0.666758   -0.350313    -0.65781        3000
          0           0           0           0
  -0.517387    0.749069    0.413771        3000
   0.719974   -0.134012    0.680939        3000
  0.0407161  -0.0208648    0.998953        3000
  -0.827424    0.561577  0.00120283        3000
  -0.452968    0.385008    0.804108        3000
   0.879579   0.0299021   -0.474813        3000
   0.148062    0.245997   -0.957895        3000
   0.768143   -0.483153    0.420142        3000
   0.479243   -0.133395   -0.867486        3000
          0           0           0           0
  -0.717813    0.532018    0.449113        3000
    0.48291    -0.82181    0.302368        3000
  -0.282041    0.761327     0.58381        3000
  -0.019088    0.846779   -0.531603        3000
  0.0667325   -0.993086   0.0965737        3000
   0.420694    0.633433   -0.649446        3000
  -0.733188   0.0976134    0.672984        3000
 0.00029914      0.8963    0.443449        3000
   0.476561   -0.861658   -0.174458        3000
          0           0           0           0[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -stride' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 1 2 3 4[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair1.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair2.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
[03;34mCommand:[0m mrconvert series.mif dwi_pre_topup.nii -stride -1,+2,+3,+4
[03;34mCommand:[0m mrcat pair1.mif pair2.mif - -axis 3 | mrconvert - topup_in.nii -stride -1,+2,+3,+4
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair1.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair2.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
dwipreproc_cust: [03;32mCreating phase-encoding configuration file[0m
[03;34mCommand:[0m topup --imain=topup_in.nii --datain=config.txt --out=field --fout=field_map.nii.gz --config=/software/fsl/fsl-5.0.9_eddy/fsl/etc/flirtsch/b02b0.cnf
[03;34mCommand:[0m applytopup --imain=dwi_pre_topup.nii --datain=config.txt --inindex=1 --topup=field --out=dwi_post_topup.nii.gz --method=jac
[03;34mCommand:[0m mrconvert series.mif - -stride -1,+2,+3,+4 | mrinfo - -export_grad_fsl bvecs bvals
[03;34mCommand:[0m mrconvert dwi_post_topup.nii.gz -fslgrad bvecs bvals - | dwi2mask - - | maskfilter - dilate - | mrconvert - mask.nii -datatype float32 -stride -1,+2,+3
[03;34mCommand:[0m eddy_openmp --imain=dwi_pre_topup.nii --mask=mask.nii --index=indices.txt --acqp=config.txt --bvecs=bvecs --bvals=bvals --repol --topup=field --out=dwi_post_eddy
[03;34mCommand:[0m mrconvert dwi_post_eddy.nii.gz result.mif -stride 1,2,3,4 -fslgrad dwi_post_eddy.eddy_rotated_bvecs bvals
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_032/preproc/eddycorr.mif -export_grad_mrtrix /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_032/preproc/adjencoding.b
dwipreproc_cust: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_032/preproc)[0m
dwipreproc_cust: [03;32mDeleting temporary directory /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_032/preproc/dwipreproc_cust-tmp-KOMNUG/[0m
dwibiascorrect: [03;32m[0m
dwibiascorrect: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
dwibiascorrect: [03;32m[0m
dwibiascorrect: [03;32mGenerated temporary directory: /tmp/dwibiascorrect-tmp-PJ6TL0/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_032/preproc/eddycorr.mif /tmp/dwibiascorrect-tmp-PJ6TL0/in.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_032/preproc/eddymeanb0bet_mask.nii.gz /tmp/dwibiascorrect-tmp-PJ6TL0/mask.mif
dwibiascorrect: [03;32mChanging to temporary directory (/tmp/dwibiascorrect-tmp-PJ6TL0/)[0m
[03;34mCommand:[0m dwiextract in.mif - -bzero | mrmath - mean mean_bzero.mif -axis 3
[03;34mCommand:[0m mrcalc mean_bzero.mif mask.mif -mult - | mrconvert - mean_bzero_masked.nii -stride -1,+2,+3
[03;34mCommand:[0m fast -t 2 -o fast -n 3 -b mean_bzero_masked.nii
[03;34mCommand:[0m mrcalc in.mif fast_bias.nii.gz -div result.mif
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_032/preproc/biascorr.mif
dwibiascorrect: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_032/preproc)[0m
dwibiascorrect: [03;32mDeleting temporary directory /tmp/dwibiascorrect-tmp-PJ6TL0/[0m
Extracting mean of the b=0 shell.
Extracting mean of the b=3000 shell.
Extracting mean of the b=0 shell.
Extracting mean of the b=3000 shell.
65959
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mGenerated temporary directory: /tmp/labelsgmfix-tmp-SMVFR3/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_032/preproc/parctempstr.nii /tmp/labelsgmfix-tmp-SMVFR3/parc.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_032/preproc/brainFS.nii /tmp/labelsgmfix-tmp-SMVFR3/T1.nii -stride -1,+2,+3
labelsgmfix: [03;32mChanging to temporary directory (/tmp/labelsgmfix-tmp-SMVFR3/)[0m
[03;34mCommand:[0m run_first_all -s R_Thal,L_Puta,R_Caud,R_Hipp,L_Amyg,R_Pall,R_Amyg,L_Caud,L_Pall,L_Thal,L_Hipp,R_Accu,L_Accu,R_Puta -i T1.nii -b -o first
[03;34mCommand:[0m mrcalc parc.mif 0 -min sgm.mif
[03;34mCommand:[0m meshconvert first-R_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Thal_mask.mif 6 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Puta_mask.mif 3 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Caud_mask.mif 7 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Hipp_mask.mif 13 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Amyg_mask.mif 12 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Pall_mask.mif 9 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Amyg_mask.mif 14 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Caud_mask.mif 2 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Pall_mask.mif 4 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Thal_mask.mif 1 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Hipp_mask.mif 11 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Accu_mask.mif 10 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Accu_mask.mif 5 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Puta_mask.mif 8 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m mrmath R_Thal_mask.mif L_Puta_mask.mif R_Caud_mask.mif R_Hipp_mask.mif L_Amyg_mask.mif R_Pall_mask.mif R_Amyg_mask.mif L_Caud_mask.mif L_Pall_mask.mif L_Thal_mask.mif L_Hipp_mask.mif R_Accu_mask.mif L_Accu_mask.mif R_Puta_mask.mif sum - | mrcalc - 1 -gt sgm_overlap_mask.mif
[03;34mCommand:[0m mrcalc sgm_overlap_mask.mif 0 sgm.mif -if sgm_masked.mif
[03;34mCommand:[0m labelconvert sgm_masked.mif /software/mrtrix3/mrtrix3-AP/scripts/data/FreeSurferSGM.txt /software/mrtrix3/mrtrix3-AP/src/connectome/tables/fs_a2009s.txt sgm_new_labels.mif
[03;34mCommand:[0m mrcalc parc.mif 83 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 78 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 84 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 87 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 81 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 86 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 88 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 77 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 79 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 76 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 80 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 89 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 82 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 85 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc sgm_new_labels.mif 0.5 -gt sgm_new_labels.mif parc.mif -if result.mif -datatype uint32
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_032/preproc/parc_fixsubcort.nii
labelsgmfix: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_032/preproc)[0m
labelsgmfix: [03;32mDeleting temporary directory /tmp/labelsgmfix-tmp-SMVFR3/[0m
tmp ./tmp.bbregister.139002
Log file is register.dat.log
Sat Mar 18 00:13:50 AEST 2017

setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/Park/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_032/preproc
/software/freesurfer/freesurfer-6.0.0/bin/bbregister --s Patient_032 --mov biasmeanb0bet.nii.gz --init-fsl --reg register.dat --dti --fslmat diff2FS.mat

$Id: bbregister,v 1.75 2016/05/10 20:02:28 greve Exp $
Linux hpcnode017.adqimr.ad.lan 3.10.0-327.3.1.el7.x86_64 #1 SMP Wed Dec 9 14:09:15 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
FREESURFER_HOME /software/freesurfer/freesurfer-6.0.0
mri_convert biasmeanb0bet.nii.gz ./tmp.bbregister.139002/template.nii
mri_convert.bin biasmeanb0bet.nii.gz ./tmp.bbregister.139002/template.nii 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from biasmeanb0bet.nii.gz...
TR=1000.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (0.984662, 0.151803, 0.086005)
j_ras = (-0.151554, 0.988404, -0.00946036)
k_ras = (-0.0864438, -0.00371914, 0.99625)
writing to ./tmp.bbregister.139002/template.nii...
fslregister --s Patient_032 --mov ./tmp.bbregister.139002/template.nii --reg ./tmp.bbregister.139002/reg.init.dat --niters 1 --maxangle 90 --tmp ./tmp.bbregister.139002/fslregister --dof 6 --fsvol brainmask.mgz --nobetmov

Log file is ./tmp.bbregister.139002/reg.init.dat.fslregister.log

Sat Mar 18 00:13:50 AEST 2017
--s Patient_032 --mov ./tmp.bbregister.139002/template.nii --reg ./tmp.bbregister.139002/reg.init.dat --niters 1 --maxangle 90 --tmp ./tmp.bbregister.139002/fslregister --dof 6 --fsvol brainmask.mgz --nobetmov
$Id: fslregister,v 1.40 2016/02/12 21:43:15 zkaufman Exp $
hpcnode017.adqimr.ad.lan
Linux hpcnode017.adqimr.ad.lan 3.10.0-327.3.1.el7.x86_64 #1 SMP Wed Dec 9 14:09:15 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
nIters 1
--------------------------------------
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_032/preproc
mri_convert /working/lab_michaebr/alistaiP/Park/FS/Patient_032/mri/brainmask.mgz ./tmp.bbregister.139002/fslregister/refvol.fslregister.nii
mri_convert.bin /working/lab_michaebr/alistaiP/Park/FS/Patient_032/mri/brainmask.mgz ./tmp.bbregister.139002/fslregister/refvol.fslregister.nii 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from /working/lab_michaebr/alistaiP/Park/FS/Patient_032/mri/brainmask.mgz...
TR=0.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (-1, -3.95812e-09, 7.45058e-09)
j_ras = (0, -1.16415e-09, -1)
k_ras = (1.88011e-08, 1, 1.62981e-09)
writing to ./tmp.bbregister.139002/fslregister/refvol.fslregister.nii...
--------------------------------------
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_032/preproc
mri_convert ./tmp.bbregister.139002/template.nii ./tmp.bbregister.139002/fslregister/movvol.fslregister.nii --frame 0
mri_convert.bin ./tmp.bbregister.139002/template.nii ./tmp.bbregister.139002/fslregister/movvol.fslregister.nii --frame 0 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from ./tmp.bbregister.139002/template.nii...
TR=1000.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (0.984662, 0.151803, 0.086005)
j_ras = (-0.151554, 0.988404, -0.00946036)
k_ras = (-0.0864438, -0.00371914, 0.99625)
keeping frame 0
writing to ./tmp.bbregister.139002/fslregister/movvol.fslregister.nii...
Mov determinant is 5.02197
Swapping dims for pos det
WARNING:: Flipping Left/Right orientation (as det < 0)
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
target  volume ./tmp.bbregister.139002/fslregister/movvol.fslregister.nii
movable volume ./tmp.bbregister.139002/template.nii
reg file       ./tmp.bbregister.139002/fslregister/swapreg.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target ./tmp.bbregister.139002/fslregister/movvol.fslregister.nii
INFO: target does not conform to COR format, so I'm going to
reslice to COR. This will not affect the final registration.
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.139002/template.nii
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 1, float2int = 0
Computing reg from header (and possibly input matrix)
---- Input registration matrix (computed) --------
-0.98466  -0.15180  -0.08601   1.71874;
-0.08644  -0.00372   0.99625   0.00002;
 0.15155  -0.98840   0.00946   0.00000;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
-0.98466  -0.15180  -0.08601   1.71874;
-0.08644  -0.00372   0.99625   0.00002;
 0.15155  -0.98840   0.00946   0.00000;
 0.00000   0.00000   0.00000   1.00000;
Determinant -1
subject = subject-unknown
RegMat ---------------------------
-1.00000  -0.00000  -0.00000   1.71874;
 0.00000   1.00000   0.00000   0.00002;
-0.00000  -0.00000   1.00000   0.00000;
 0.00000   0.00000   0.00000   1.00000;
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_032/preproc
tkregister2_cmdl --mov ./tmp.bbregister.139002/fslregister/movvol.fslregister.nii --reg ./tmp.bbregister.139002/fslregister/reg0.139074.dat --regheader --fslregout ./tmp.bbregister.139002/reg.init.dat.fsl.mat0 --s Patient_032 --noedit
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume ./tmp.bbregister.139002/fslregister/movvol.fslregister.nii
reg file       ./tmp.bbregister.139002/fslregister/reg0.139074.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target /working/lab_michaebr/alistaiP/Park/FS/Patient_032/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.139002/fslregister/movvol.fslregister.nii
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 1, float2int = 0
Computing reg from header (and possibly input matrix)
---- Input registration matrix (computed) --------
 0.98466   0.15180   0.08601   1.04939;
-0.08644  -0.00372   0.99625  -5.10594;
 0.15155  -0.98840   0.00946  -6.43288;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
 0.98466   0.15180   0.08601   1.04939;
-0.08644  -0.00372   0.99625  -5.10594;
 0.15155  -0.98840   0.00946  -6.43288;
 0.00000   0.00000   0.00000   1.00000;
Determinant 0.999999
subject = Patient_032
RegMat ---------------------------
 0.98466   0.15180   0.08601   1.04939;
-0.08644  -0.00372   0.99625  -5.10594;
 0.15155  -0.98840   0.00946  -6.43288;
 0.00000   0.00000   0.00000   1.00000;
FSLOUTPUTTYPE NIFTI 
tkreg2FSL: mov det = -5.02197, ref det = -1
Sat Mar 18 00:13:52 AEST 2017
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_032/preproc
flirt.fsl -ref ./tmp.bbregister.139002/fslregister/refvol.fslregister.nii -in ./tmp.bbregister.139002/fslregister/movvol.fslregister.nii -bins 256 -cost corratio -dof 6 -searchrx -90 90 -searchry -90 90 -searchrz -90 90 -verbose 0 -omat ./tmp.bbregister.139002/fslregister/fslmat0.trans.mat -schedule /software/freesurfer/freesurfer-6.0.0/bin/fsl.5.0.2.xyztrans.sch -init ./tmp.bbregister.139002/reg.init.dat.fsl.mat0
Sat Mar 18 00:14:04 AEST 2017
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_032/preproc
flirt.fsl -ref ./tmp.bbregister.139002/fslregister/refvol.fslregister.nii -in ./tmp.bbregister.139002/fslregister/movvol.fslregister.nii -bins 256 -cost corratio -dof 6 -searchrx -90 90 -searchry -90 90 -searchrz -90 90 -verbose 0 -omat ./tmp.bbregister.139002/reg.init.dat.fsl.mat -init ./tmp.bbregister.139002/fslregister/fslmat0.trans.mat -schedule /software/freesurfer/freesurfer-6.0.0/bin/flirt.newdefault.20080811.sch
tkregister2_cmdl --s Patient_032 --mov ./tmp.bbregister.139002/fslregister/movvol.fslregister.nii --reg ./tmp.bbregister.139002/reg.init.dat --fslreg ./tmp.bbregister.139002/reg.init.dat.fsl.mat --noedit
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
---- FSL registration matrix --------
 0.98638   0.14318   0.08098  -2.37454;
 0.07986   0.01357  -0.99671   188.71800;
-0.14381   0.98960   0.00195   27.79560;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume ./tmp.bbregister.139002/fslregister/movvol.fslregister.nii
reg file       ./tmp.bbregister.139002/reg.init.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target /working/lab_michaebr/alistaiP/Park/FS/Patient_032/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.139002/fslregister/movvol.fslregister.nii
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 0, float2int = 0
FSLOUTPUTTYPE NIFTI 
fsl2TkReg: mov det = -5.02197, ref det = -1
---- Input registration matrix (computed) --------
 0.98638   0.14381   0.07986   0.66029;
-0.08098   0.00195   0.99671  -5.22769;
 0.14318  -0.98960   0.01357  -7.00519;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
 0.98638   0.14381   0.07986   0.66029;
-0.08098   0.00195   0.99671  -5.22769;
 0.14318  -0.98960   0.01357  -7.00519;
 0.00000   0.00000   0.00000   1.00000;
Determinant 1
subject = Patient_032
RegMat ---------------------------
 0.98638   0.14381   0.07986   0.66029;
-0.08098   0.00195   0.99671  -5.22769;
 0.14318  -0.98960   0.01357  -7.00519;
 0.00000   0.00000   0.00000   1.00000;
mri_matrix_multiply -im ./tmp.bbregister.139002/fslregister/swapreg.dat -im ./tmp.bbregister.139002/reg.init.dat -om ./tmp.bbregister.139002/reg.init.dat
(standard_in) 1: illegal character: P
 
Started at Sat Mar 18 00:13:50 AEST 2017 
Ended   at Sat Mar 18 00:14:24 AEST 2017
 
fslregister Done
 
To check results, run:
tkregister2 --mov ./tmp.bbregister.139002/template.nii --reg ./tmp.bbregister.139002/reg.init.dat --surf orig
 
mri_segreg --mov ./tmp.bbregister.139002/template.nii --init-reg ./tmp.bbregister.139002/reg.init.dat --out-reg ./tmp.bbregister.139002/bbr.pass1.dat --subsamp-brute 100 --subsamp 100 --tol 1e-4 --tol1d 1e-3 --brute -4 4 4 --surf white --gm-proj-frac 0.5 --gm-gt-wm 0.5
$Id: mri_segreg.c,v 1.113 2016/05/10 03:23:20 greve Exp $
setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/Park/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_032/preproc
mri_segreg --mov ./tmp.bbregister.139002/template.nii --init-reg ./tmp.bbregister.139002/reg.init.dat --out-reg ./tmp.bbregister.139002/bbr.pass1.dat --subsamp-brute 100 --subsamp 100 --tol 1e-4 --tol1d 1e-3 --brute -4 4 4 --surf white --gm-proj-frac 0.5 --gm-gt-wm 0.5 
sysname  Linux
hostname hpcnode017.adqimr.ad.lan
machine  x86_64
user     alistaiP
movvol ./tmp.bbregister.139002/template.nii
regfile ./tmp.bbregister.139002/reg.init.dat
subject Patient_032
dof 6
outregfile ./tmp.bbregister.139002/bbr.pass1.dat
UseMask 0
UseLH 1
UseRH 1
nsubsamp 100
PenaltySign  -1
PenaltySlope 0.500000
PenaltyCenter 0.000000
surfname white
GMProjFrac 0.500000
WMProjAbs 2.000000
lhcostfile (null)
rhcostfile (null)
interp  trilinear (1)
frame  0
TolPowell 0.000100
nMaxItersPowell 36
n1dmin  3
Profile   0
Gdiag_no  -1
AddNoise  0 (0)
SynthSeed 1490708494
TransRandMax 0.000000
RotRandMax 0.000000
Translations 0.000000 0.000000 0.000000
Rotations   0.000000 0.000000 0.000000
Input reg
-0.98638  -0.14381  -0.07986   1.05846;
-0.08098   0.00195   0.99671  -5.22768;
 0.14318  -0.98960   0.01357  -7.00519;
 0.00000   0.00000   0.00000   1.00000;

Loading mov
Projecting LH Surfs
Loading lh.white surf
Loading lh.thickness for GM
GM Proj: 1 0.500000 2.000000
WM Proj: 0 0.500000 2.000000
Projecting RH Surfs
Loading rh.white surf
Loading rh.thickness for GM
Projecting RH Surfs
Using lh.cortex.label
Using rh.cortex.label
Computing relative cost
 0  -25.0 -25.0 -25.0   1.009613
 1  -25.0 -25.0  25.0   1.008722
 2  -25.0  25.0 -25.0   0.995167
 3  -25.0  25.0  25.0   1.040844
 4   25.0 -25.0 -25.0   1.042227
 5   25.0 -25.0  25.0   0.988486
 6   25.0  25.0 -25.0   0.999611
 7   25.0  25.0  25.0   0.980669
REL:  8  0.133834    8.065339  1.008167 rel = 0.13275 
Initial costs ----------------
Number of surface hits 2647
WM  Intensity   315.0761 +/-  69.6916
Ctx Intensity   510.1739 +/- 161.4263
Pct Contrast     43.5493 +/-  30.7540
Cost   0.1338
RelCost   0.1327

------------------------------------
Brute force preopt -4 4 4, n = 729
     0  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000      1.0005   1.0005  0.0
     1  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000   0.0000      0.9786   0.9786  0.0
     4  -4.0000  -4.0000  -4.0000  -4.0000   0.0000   0.0000      0.9713   0.9713  0.0
     5  -4.0000  -4.0000  -4.0000  -4.0000   0.0000   4.0000      0.9546   0.9546  0.0
     6  -4.0000  -4.0000  -4.0000  -4.0000   4.0000  -4.0000      0.9528   0.9528  0.0
     7  -4.0000  -4.0000  -4.0000  -4.0000   4.0000   0.0000      0.8983   0.8983  0.0
    15  -4.0000  -4.0000  -4.0000   0.0000   4.0000  -4.0000      0.8203   0.8203  0.0
    33  -4.0000  -4.0000   0.0000  -4.0000   4.0000  -4.0000      0.8113   0.8113  0.0
    34  -4.0000  -4.0000   0.0000  -4.0000   4.0000   0.0000      0.8041   0.8041  0.0
   120  -4.0000   0.0000   0.0000   0.0000   0.0000  -4.0000      0.7238   0.7238  0.0
   274   0.0000  -4.0000   0.0000  -4.0000   0.0000   0.0000      0.6748   0.6748  0.0
   363   0.0000   0.0000   0.0000   0.0000   0.0000  -4.0000      0.5946   0.5946  0.0
   364   0.0000   0.0000   0.0000   0.0000   0.0000   0.0000      0.1338   0.1338  0.0
Brute Force --------------------------
Min cost was 0.133834
Number of iterations   729
Search time 1.003000 sec
Parameters at best (transmm, rotdeg)
  0.000   0.000   0.000  0.000  0.000  0.000 
--------------------------------------------

Starting Powell Minimization
Init Powel Params dof = 6
0 0
1 0
2 0
3 0
4 0
5 0
fs_powell::minimize
  nparams 6
  maxfev 36
  ftol   0.000100
  linmin_xtol_   0.001000
  powell nthiter 0: fret = 0.133834
   7  0.071  0.000  0.000  0.000  0.000  0.000   0.1319749178
   8  0.105  0.000  0.000  0.000  0.000  0.000   0.1301912001
  10  0.131  0.000  0.000  0.000  0.000  0.000   0.1299974335
  11  0.123  0.000  0.000  0.000  0.000  0.000   0.1299235037
  12  0.122  0.000  0.000  0.000  0.000  0.000   0.1299118392
  13  0.115  0.000  0.000  0.000  0.000  0.000   0.1299039380
  14  0.118  0.000  0.000  0.000  0.000  0.000   0.1298912100
  21  0.118 -0.618  0.000  0.000  0.000  0.000   0.0781793870
  24  0.118 -0.641  0.000  0.000  0.000  0.000   0.0778014809
  25  0.118 -0.645  0.000  0.000  0.000  0.000   0.0777494262
  27  0.118 -0.650  0.000  0.000  0.000  0.000   0.0777335606
  36  0.118 -0.650 -0.178  0.000  0.000  0.000   0.0775255779
  38  0.118 -0.650 -0.346  0.000  0.000  0.000   0.0768122485
  41  0.118 -0.650 -0.314  0.000  0.000  0.000   0.0765633712
  43  0.118 -0.650 -0.315  0.000  0.000  0.000   0.0765632708
  52  0.118 -0.650 -0.315  0.044  0.000  0.000   0.0764545984
  53  0.118 -0.650 -0.315  0.034  0.000  0.000   0.0764491056
  55  0.118 -0.650 -0.315  0.021  0.000  0.000   0.0764402867
  57  0.118 -0.650 -0.315  0.022  0.000  0.000   0.0764401999
  58  0.118 -0.650 -0.315  0.023  0.000  0.000   0.0764401209
  60  0.118 -0.650 -0.315  0.024  0.000  0.000   0.0764399637
  68  0.118 -0.650 -0.315  0.024 -0.037  0.000   0.0763281007
  72  0.118 -0.650 -0.315  0.024 -0.069  0.000   0.0759147842
  75  0.118 -0.650 -0.315  0.024 -0.074  0.000   0.0758698169
  85  0.118 -0.650 -0.315  0.024 -0.074  0.090   0.0749177751
  89  0.118 -0.650 -0.315  0.024 -0.074  0.092   0.0749039383
  90  0.118 -0.650 -0.315  0.024 -0.074  0.102   0.0748879189
 101  0.123 -0.674 -0.327  0.025 -0.077  0.106   0.0747026891
 102  0.125 -0.689 -0.334  0.025 -0.079  0.108   0.0745746158
 105  0.127 -0.696 -0.337  0.026 -0.079  0.109   0.0745223924
 107  0.127 -0.700 -0.339  0.026 -0.080  0.110   0.0745126155
  powell nthiter 1: fret = 0.074513
 116  0.131 -0.700 -0.339  0.026 -0.080  0.110   0.0744967370
 117  0.143 -0.700 -0.339  0.026 -0.080  0.110   0.0744859690
 119  0.139 -0.700 -0.339  0.026 -0.080  0.110   0.0744858056
 121  0.140 -0.700 -0.339  0.026 -0.080  0.110   0.0744856199
 130  0.140 -0.700 -0.339  0.026 -0.080  0.126   0.0739309107
 133  0.140 -0.700 -0.339  0.026 -0.080  0.137   0.0737075414
 135  0.140 -0.700 -0.339  0.026 -0.080  0.141   0.0736819799
 136  0.140 -0.700 -0.339  0.026 -0.080  0.142   0.0736810846
 148  0.140 -0.700 -0.336  0.026 -0.080  0.142   0.0736782582
 160  0.140 -0.700 -0.336  0.021 -0.080  0.142   0.0736622318
 169  0.140 -0.700 -0.336  0.021 -0.060  0.142   0.0735268048
 171  0.140 -0.700 -0.336  0.021 -0.066  0.142   0.0735184137
 172  0.140 -0.700 -0.336  0.021 -0.064  0.142   0.0735169304
 183  0.141 -0.704 -0.338  0.022 -0.065  0.143   0.0734977792
  powell nthiter 2: fret = 0.073498
 196  0.145 -0.704 -0.338  0.022 -0.065  0.143   0.0734892156
 197  0.144 -0.704 -0.338  0.022 -0.065  0.143   0.0734871903
 219  0.144 -0.704 -0.318  0.022 -0.065  0.143   0.0734315399
 220  0.144 -0.704 -0.323  0.022 -0.065  0.143   0.0734211614
 221  0.144 -0.704 -0.324  0.022 -0.065  0.143   0.0734203384
 222  0.144 -0.704 -0.325  0.022 -0.065  0.143   0.0734202358
 241  0.144 -0.704 -0.325  0.022 -0.057  0.143   0.0733847929
 243  0.144 -0.704 -0.325  0.022 -0.058  0.143   0.0733847000
 254  0.144 -0.703 -0.325  0.022 -0.058  0.143   0.0733832895
 256  0.146 -0.702 -0.311  0.022 -0.052  0.143   0.0733466491
 261  0.147 -0.702 -0.302  0.021 -0.048  0.142   0.0733424010
 263  0.147 -0.702 -0.304  0.021 -0.048  0.142   0.0733423953
 264  0.147 -0.702 -0.303  0.021 -0.048  0.142   0.0733423680
  powell nthiter 3: fret = 0.073342
 276  0.146 -0.702 -0.303  0.021 -0.048  0.142   0.0733350605
 277  0.144 -0.702 -0.303  0.021 -0.048  0.142   0.0733321616
 286  0.144 -0.702 -0.303  0.021 -0.048  0.152   0.0733191687
 287  0.144 -0.702 -0.303  0.021 -0.048  0.151   0.0733084797
 288  0.144 -0.702 -0.303  0.021 -0.048  0.147   0.0733002724
 300  0.145 -0.704 -0.304  0.022 -0.048  0.148   0.0732958033
 311  0.145 -0.704 -0.304  0.026 -0.048  0.148   0.0732819159
 323  0.145 -0.704 -0.304  0.026 -0.045  0.148   0.0732734674
 327  0.147 -0.703 -0.290  0.026 -0.039  0.148   0.0732531980
 332  0.147 -0.703 -0.292  0.026 -0.040  0.148   0.0732526385
 333  0.147 -0.703 -0.292  0.026 -0.040  0.148   0.0732524687
  powell nthiter 4: fret = 0.073252
 362  0.147 -0.703 -0.292  0.026 -0.040  0.149   0.0732448891
 363  0.147 -0.703 -0.292  0.026 -0.040  0.151   0.0732345126
 375  0.147 -0.702 -0.291  0.026 -0.040  0.151   0.0732331273
 376  0.147 -0.702 -0.291  0.026 -0.040  0.151   0.0732326044
 387  0.147 -0.702 -0.291  0.031 -0.040  0.151   0.0732224239
 388  0.147 -0.702 -0.291  0.030 -0.040  0.151   0.0732220688
 405  0.147 -0.701 -0.286  0.030 -0.037  0.151   0.0732127578
 407  0.148 -0.701 -0.284  0.030 -0.036  0.151   0.0732115307
 408  0.148 -0.701 -0.284  0.030 -0.036  0.151   0.0732114700
 411  0.148 -0.701 -0.284  0.030 -0.036  0.151   0.0732114016
 412  0.148 -0.701 -0.284  0.030 -0.036  0.151   0.0732113949
 413  0.148 -0.701 -0.284  0.030 -0.036  0.151   0.0732112677
 414  0.148 -0.701 -0.284  0.030 -0.036  0.151   0.0732111719
 415  0.149 -0.699 -0.276  0.033 -0.033  0.155   0.0732019896
 421  0.148 -0.700 -0.279  0.032 -0.034  0.153   0.0732006688
 422  0.149 -0.700 -0.278  0.032 -0.033  0.154   0.0732004622
 423  0.149 -0.700 -0.278  0.032 -0.034  0.154   0.0732002086
 425  0.149 -0.700 -0.278  0.032 -0.034  0.154   0.0731998816
  powell nthiter 5: fret = 0.073200
 442  0.150 -0.700 -0.278  0.032 -0.034  0.154   0.0731974879
 450  0.149 -0.700 -0.282  0.032 -0.035  0.154   0.0731928469
 451  0.149 -0.700 -0.282  0.032 -0.035  0.154   0.0731927172
 453  0.149 -0.700 -0.281  0.032 -0.035  0.154   0.0731926796
 454  0.149 -0.700 -0.282  0.032 -0.035  0.154   0.0731926472
 455  0.149 -0.700 -0.282  0.032 -0.035  0.154   0.0731925898
 456  0.149 -0.700 -0.282  0.032 -0.035  0.154   0.0731924831
 469  0.149 -0.699 -0.281  0.032 -0.035  0.154   0.0731896187
 470  0.149 -0.698 -0.281  0.032 -0.035  0.154   0.0731895635
 480  0.149 -0.698 -0.281  0.034 -0.035  0.154   0.0731878516
 498  0.149 -0.698 -0.280  0.034 -0.035  0.154   0.0731877632
 499  0.149 -0.698 -0.280  0.034 -0.035  0.154   0.0731877413
 500  0.149 -0.698 -0.280  0.034 -0.035  0.154   0.0731874970
 504  0.149 -0.698 -0.280  0.034 -0.035  0.154   0.0731873890
  powell nthiter 6: fret = 0.073187
 519  0.150 -0.698 -0.280  0.034 -0.035  0.154   0.0731848684
 527  0.150 -0.698 -0.283  0.034 -0.036  0.154   0.0731833440
 528  0.150 -0.698 -0.283  0.034 -0.036  0.154   0.0731831131
 533  0.150 -0.698 -0.283  0.034 -0.036  0.154   0.0731830453
 535  0.150 -0.698 -0.283  0.034 -0.036  0.154   0.0731830429
 544  0.150 -0.698 -0.282  0.034 -0.036  0.154   0.0731822306
 545  0.150 -0.697 -0.282  0.034 -0.036  0.154   0.0731821571
 556  0.150 -0.697 -0.282  0.035 -0.036  0.154   0.0731813836
 574  0.150 -0.697 -0.281  0.035 -0.035  0.154   0.0731811835
 579  0.150 -0.697 -0.281  0.035 -0.035  0.154   0.0731810651
Powell done niters = 6
Computing relative cost
 0  -25.0 -25.0 -25.0   1.018659
 1  -25.0 -25.0  25.0   1.017762
 2  -25.0  25.0 -25.0   0.986867
 3  -25.0  25.0  25.0   1.032109
 4   25.0 -25.0 -25.0   1.021218
 5   25.0 -25.0  25.0   0.982313
 6   25.0  25.0 -25.0   0.996317
 7   25.0  25.0  25.0   0.986563
REL:  8  0.073181    8.041807  1.005226 rel = 0.0728006 
Number of iterations     6
Min cost was 0.073181
Number of FunctionCalls   583
TolPowell 0.000100
nMaxItersPowell 36
OptimizationTime 0.789000 sec
Parameters at optimum (transmm)  0.14962 -0.69684 -0.28121
Parameters at optimum (rotdeg)  0.03530 -0.03548  0.15391 
Final costs ----------------
Number of surface hits 2647
WM  Intensity   309.4294 +/-  64.2565
Ctx Intensity   495.3879 +/- 122.1298
Pct Contrast     44.3226 +/-  24.5272
Cost   0.0732
RelCost   0.1327
Reg at min cost was 
-0.98625  -0.14320  -0.08255   1.22644;
-0.08372   0.00218   0.99649  -5.91733;
 0.14252  -0.98969   0.01414  -7.28896;
 0.00000   0.00000   0.00000   1.00000;

Writing optimal reg to ./tmp.bbregister.139002/bbr.pass1.dat, type = 14 
Original Reg 
-0.98638  -0.14381  -0.07986   1.05846;
-0.08098   0.00195   0.99671  -5.22768;
 0.14318  -0.98960   0.01357  -7.00519;
 0.00000   0.00000   0.00000   1.00000;

Original Reg - Optimal Reg
-0.00013  -0.00061   0.00269  -0.16799;
 0.00274  -0.00023   0.00023   0.68965;
 0.00066   0.00009  -0.00056   0.28377;
 0.00000   0.00000   0.00000   0.00000;

Computing change in lh position
LH rmsDiffMean 0.689469
Computing change in rh position
Surface-RMS-Diff-mm 0.764859 0.090664 0.958813
mri_segreg done
mri_segreg --mov ./tmp.bbregister.139002/template.nii --init-reg ./tmp.bbregister.139002/bbr.pass1.dat --out-reg register.dat --interp trilinear --wm-proj-abs 2 --tol 1e-8 --tol1d 1e-3 --c0 0 --mincost register.dat.mincost --dof 6 --nmax 36 --param register.dat.param --surf white --brute -0.1 0.1 0.1 --cur-reg ./tmp.bbregister.139002/reg.curopt.dat --gm-proj-frac 0.5 --nsub 1 --gm-gt-wm 0.5
$Id: mri_segreg.c,v 1.113 2016/05/10 03:23:20 greve Exp $
setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/Park/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_032/preproc
mri_segreg --mov ./tmp.bbregister.139002/template.nii --init-reg ./tmp.bbregister.139002/bbr.pass1.dat --out-reg register.dat --interp trilinear --wm-proj-abs 2 --tol 1e-8 --tol1d 1e-3 --c0 0 --mincost register.dat.mincost --dof 6 --nmax 36 --param register.dat.param --surf white --brute -0.1 0.1 0.1 --cur-reg ./tmp.bbregister.139002/reg.curopt.dat --gm-proj-frac 0.5 --nsub 1 --gm-gt-wm 0.5 
sysname  Linux
hostname hpcnode017.adqimr.ad.lan
machine  x86_64
user     alistaiP
movvol ./tmp.bbregister.139002/template.nii
regfile ./tmp.bbregister.139002/bbr.pass1.dat
subject Patient_032
dof 6
outregfile register.dat
UseMask 0
UseLH 1
UseRH 1
nsubsamp 1
PenaltySign  -1
PenaltySlope 0.500000
PenaltyCenter 0.000000
surfname white
GMProjFrac 0.500000
WMProjAbs 2.000000
lhcostfile (null)
rhcostfile (null)
interp  trilinear (1)
frame  0
TolPowell 0.000000
nMaxItersPowell 36
n1dmin  3
Profile   0
Gdiag_no  -1
AddNoise  0 (0)
SynthSeed 1489954022
TransRandMax 0.000000
RotRandMax 0.000000
Translations 0.000000 0.000000 0.000000
Rotations   0.000000 0.000000 0.000000
Input reg
-0.98625  -0.14320  -0.08255   1.22644;
-0.08372   0.00218   0.99649  -5.91733;
 0.14252  -0.98969   0.01414  -7.28896;
 0.00000   0.00000   0.00000   1.00000;

Loading mov
Projecting LH Surfs
Loading lh.white surf
Loading lh.thickness for GM
GM Proj: 1 0.500000 2.000000
WM Proj: 0 0.500000 2.000000
Projecting RH Surfs
Loading rh.white surf
Loading rh.thickness for GM
Projecting RH Surfs
Using lh.cortex.label
Using rh.cortex.label
Computing relative cost
 0  -25.0 -25.0 -25.0   1.019642
 1  -25.0 -25.0  25.0   1.009673
 2  -25.0  25.0 -25.0   1.005364
 3  -25.0  25.0  25.0   1.019025
 4   25.0 -25.0 -25.0   1.002586
 5   25.0 -25.0  25.0   1.006879
 6   25.0  25.0 -25.0   0.987458
 7   25.0  25.0  25.0   0.998112
REL:  8  0.092042    8.048739  1.006092 rel = 0.0914851 
Initial costs ----------------
Number of surface hits 263910
WM  Intensity   309.3516 +/-  65.9997
Ctx Intensity   496.0287 +/- 125.2568
Pct Contrast     44.3491 +/-  26.0644
Cost   0.0920
RelCost   0.0915

------------------------------------
Brute force preopt -0.1 0.1 0.1, n = 729
     0  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000      0.0789   0.0789  0.0
     3  -0.1000  -0.1000  -0.1000  -0.1000   0.0000  -0.1000      0.0753   0.0753  0.0
   183  -0.1000   0.1000  -0.1000   0.1000   0.0000  -0.1000      0.0747   0.0747  0.0
   201  -0.1000   0.1000   0.0000   0.0000   0.0000  -0.1000      0.0741   0.0741  0.0
   364   0.0000   0.0000   0.0000   0.0000   0.0000   0.0000      0.0732   0.0732  0.0
Brute Force --------------------------
Min cost was 0.073181
Number of iterations   729
Search time 0.956000 sec
Parameters at best (transmm, rotdeg)
  0.000   0.000   0.000  0.000  0.000  0.000 
--------------------------------------------

Starting Powell Minimization
Init Powel Params dof = 6
0 0
1 0
2 0
3 0
4 0
5 0
fs_powell::minimize
  nparams 6
  maxfev 36
  ftol   0.000000
  linmin_xtol_   0.001000
  powell nthiter 0: fret = 0.092042
   7 -0.017  0.000  0.000  0.000  0.000  0.000   0.0919325468
   9 -0.027  0.000  0.000  0.000  0.000  0.000   0.0919050841
  12 -0.028  0.000  0.000  0.000  0.000  0.000   0.0919047159
  19 -0.028 -0.091  0.000  0.000  0.000  0.000   0.0911008798
  20 -0.028 -0.096  0.000  0.000  0.000  0.000   0.0910929967
  22 -0.028 -0.099  0.000  0.000  0.000  0.000   0.0910917291
  23 -0.028 -0.098  0.000  0.000  0.000  0.000   0.0910917192
  30 -0.028 -0.098  0.382  0.000  0.000  0.000   0.0897588642
  31 -0.028 -0.098  0.216  0.000  0.000  0.000   0.0880472660
  32 -0.028 -0.098  0.218  0.000  0.000  0.000   0.0880396086
  33 -0.028 -0.098  0.235  0.000  0.000  0.000   0.0880032479
  36 -0.028 -0.098  0.242  0.000  0.000  0.000   0.0879989154
  37 -0.028 -0.098  0.243  0.000  0.000  0.000   0.0879988739
  45 -0.028 -0.098  0.243 -0.096  0.000  0.000   0.0873332486
  50 -0.028 -0.098  0.243 -0.110  0.000  0.000   0.0873011652
  52 -0.028 -0.098  0.243 -0.111  0.000  0.000   0.0873009915
  61 -0.028 -0.098  0.243 -0.111 -0.002  0.000   0.0872988106
  62 -0.028 -0.098  0.243 -0.111 -0.004  0.000   0.0872983136
  70 -0.028 -0.098  0.243 -0.111 -0.004 -0.135   0.0861169465
  71 -0.028 -0.098  0.243 -0.111 -0.004 -0.139   0.0861146545
  72 -0.028 -0.098  0.243 -0.111 -0.004 -0.142   0.0861141249
  73 -0.028 -0.098  0.243 -0.111 -0.004 -0.143   0.0861139717
  powell nthiter 1: fret = 0.086114
  84 -0.060 -0.098  0.243 -0.111 -0.004 -0.143   0.0859945819
  87 -0.059 -0.098  0.243 -0.111 -0.004 -0.143   0.0859943499
  95 -0.059 -0.082  0.243 -0.111 -0.004 -0.143   0.0859233857
  96 -0.059 -0.067  0.243 -0.111 -0.004 -0.143   0.0859118392
  97 -0.059 -0.071  0.243 -0.111 -0.004 -0.143   0.0859115734
  98 -0.059 -0.069  0.243 -0.111 -0.004 -0.143   0.0859112689
 107 -0.059 -0.069  0.249 -0.111 -0.004 -0.143   0.0859071749
 108 -0.059 -0.069  0.250 -0.111 -0.004 -0.143   0.0859071051
 117 -0.059 -0.069  0.250 -0.101 -0.004 -0.143   0.0858967077
 118 -0.059 -0.069  0.250 -0.100 -0.004 -0.143   0.0858962998
 120 -0.059 -0.069  0.250 -0.099 -0.004 -0.143   0.0858961343
 128 -0.059 -0.069  0.250 -0.099 -0.022 -0.143   0.0858794719
 130 -0.059 -0.069  0.250 -0.099 -0.017 -0.143   0.0858769231
 131 -0.059 -0.069  0.250 -0.099 -0.018 -0.143   0.0858767546
 139 -0.059 -0.069  0.250 -0.099 -0.018 -0.154   0.0858572331
 140 -0.059 -0.069  0.250 -0.099 -0.018 -0.163   0.0858566901
 141 -0.059 -0.069  0.250 -0.099 -0.018 -0.159   0.0858563120
 143 -0.059 -0.069  0.250 -0.099 -0.018 -0.157   0.0858562457
  powell nthiter 2: fret = 0.085856
 152 -0.058 -0.069  0.250 -0.099 -0.018 -0.157   0.0858561041
 161 -0.058 -0.056  0.250 -0.099 -0.018 -0.157   0.0858377489
 162 -0.058 -0.055  0.250 -0.099 -0.018 -0.157   0.0858374919
 172 -0.058 -0.055  0.245 -0.099 -0.018 -0.157   0.0858340862
 173 -0.058 -0.055  0.244 -0.099 -0.018 -0.157   0.0858339505
 201 -0.058 -0.055  0.244 -0.099 -0.018 -0.172   0.0858192832
 204 -0.058 -0.055  0.244 -0.099 -0.018 -0.171   0.0858191884
  powell nthiter 3: fret = 0.085819
 215 -0.056 -0.055  0.244 -0.099 -0.018 -0.171   0.0858186981
 224 -0.056 -0.053  0.244 -0.099 -0.018 -0.171   0.0858180854
 235 -0.056 -0.053  0.242 -0.099 -0.018 -0.171   0.0858171732
 245 -0.056 -0.053  0.242 -0.107 -0.018 -0.171   0.0858166530
 246 -0.056 -0.053  0.242 -0.103 -0.018 -0.171   0.0858145223
 256 -0.056 -0.053  0.242 -0.103 -0.021 -0.171   0.0858144812
 258 -0.056 -0.053  0.242 -0.103 -0.020 -0.171   0.0858140624
 268 -0.056 -0.053  0.242 -0.103 -0.020 -0.173   0.0858137282
  powell nthiter 4: fret = 0.085814
 288 -0.056 -0.054  0.242 -0.103 -0.020 -0.173   0.0858135798
 289 -0.056 -0.055  0.242 -0.103 -0.020 -0.173   0.0858135127
 300 -0.056 -0.055  0.244 -0.103 -0.020 -0.173   0.0858129500
 311 -0.056 -0.055  0.244 -0.106 -0.020 -0.173   0.0858120443
 333 -0.056 -0.057  0.246 -0.109 -0.020 -0.173   0.0858116366
 343 -0.056 -0.057  0.246 -0.109 -0.020 -0.173   0.0858116045
  powell nthiter 5: fret = 0.085812
 371 -0.056 -0.056  0.246 -0.109 -0.020 -0.173   0.0858114915
 380 -0.056 -0.056  0.247 -0.109 -0.020 -0.173   0.0858114255
 390 -0.056 -0.056  0.247 -0.109 -0.020 -0.174   0.0858113994
 408 -0.056 -0.055  0.247 -0.108 -0.020 -0.174   0.0858113949
 409 -0.056 -0.055  0.247 -0.108 -0.020 -0.174   0.0858113804
 410 -0.056 -0.055  0.247 -0.108 -0.020 -0.174   0.0858113789
 414 -0.056 -0.055  0.247 -0.108 -0.020 -0.174   0.0858113759
  powell nthiter 6: fret = 0.085811
 474 -0.056 -0.055  0.247 -0.108 -0.020 -0.174   0.0858113682
 475 -0.056 -0.055  0.247 -0.108 -0.020 -0.174   0.0858113457
  powell nthiter 7: fret = 0.085811
 545 -0.056 -0.055  0.247 -0.108 -0.020 -0.174   0.0858113415
  powell nthiter 8: fret = 0.085811
Powell done niters = 8
Computing relative cost
 0  -25.0 -25.0 -25.0   1.019937
 1  -25.0 -25.0  25.0   1.008342
 2  -25.0  25.0 -25.0   1.002803
 3  -25.0  25.0  25.0   1.019446
 4   25.0 -25.0 -25.0   1.001682
 5   25.0 -25.0  25.0   1.007171
 6   25.0  25.0 -25.0   0.987767
 7   25.0  25.0  25.0   0.998043
REL:  8  0.085811    8.045191  1.005649 rel = 0.0853293 
Number of iterations     8
Min cost was 0.085811
Number of FunctionCalls   611
TolPowell 0.000000
nMaxItersPowell 36
OptimizationTime 49.043000 sec
Parameters at optimum (transmm) -0.05619 -0.05518  0.24696
Parameters at optimum (rotdeg) -0.10807 -0.01967 -0.17370 
Final costs ----------------
Number of surface hits 263910
WM  Intensity   308.3377 +/-  64.4730
Ctx Intensity   496.3658 +/- 123.4768
Pct Contrast     44.7539 +/-  25.8027
Cost   0.0858
RelCost   0.0915
Reg at min cost was 
-0.98654  -0.14286  -0.07953   1.15476;
-0.08046   0.00075   0.99676  -5.98994;
 0.14234  -0.98974   0.01223  -7.03040;
 0.00000   0.00000   0.00000   1.00000;

Writing optimal reg to register.dat, type = 14 
Original Reg 
-0.98625  -0.14320  -0.08255   1.22644;
-0.08372   0.00218   0.99649  -5.91733;
 0.14252  -0.98969   0.01414  -7.28896;
 0.00000   0.00000   0.00000   1.00000;

Original Reg - Optimal Reg
 0.00030  -0.00034  -0.00302   0.07168;
-0.00326   0.00143  -0.00027   0.07262;
 0.00018   0.00005   0.00191  -0.25856;
 0.00000   0.00000   0.00000   0.00000;

Computing change in lh position
LH rmsDiffMean 0.292030
Computing change in rh position
Surface-RMS-Diff-mm 0.273801 0.059944 0.429747
mri_segreg done
MinCost: 0.085811 308.337695 496.365816 44.753946 
tkregister2_cmdl --mov biasmeanb0bet.nii.gz --reg register.dat --noedit --fslregout diff2FS.mat
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume biasmeanb0bet.nii.gz
reg file       register.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
---- Input registration matrix --------
-0.98654  -0.14286  -0.07953   1.15476;
-0.08046   0.00075   0.99676  -5.98994;
 0.14234  -0.98974   0.01223  -7.03040;
 0.00000   0.00000   0.00000   1.00000;
float2int = 0
---------------------------------------
INFO: loading target /working/lab_michaebr/alistaiP/Park/FS/Patient_032/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable biasmeanb0bet.nii.gz
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 0, float2int = 0
---- Input registration matrix --------
-0.98654  -0.14286  -0.07953   1.15476;
-0.08046   0.00075   0.99676  -5.98994;
 0.14234  -0.98974   0.01223  -7.03040;
 0.00000   0.00000   0.00000   1.00000;
Determinant -0.999999
subject = Patient_032
RegMat ---------------------------
-0.98654  -0.14286  -0.07953   1.15476;
-0.08046   0.00075   0.99676  -5.98994;
 0.14234  -0.98974   0.01223  -7.03040;
 0.00000   0.00000   0.00000   1.00000;
FSLOUTPUTTYPE NIFTI_GZ 
tkreg2FSL: mov det = 5.02197, ref det = -1
INFO: FSL2FreeSurfer: Mov volume is NIFTI with positive det,
      applying LR flip to registration matrix.
Cleaning up
 
Started at Sat Mar 18 00:13:50 AEST 2017 
Ended   at Sat Mar 18 00:15:31 AEST 2017
BBR-Run-Time-Sec 101
 
bbregister Done
To check results, run:
tkregisterfv --mov biasmeanb0bet.nii.gz --reg register.dat --surfs 
 
dwi2response: [03;32m[0m
dwi2response: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation. Please consult the help page (-help option) for more information.[0m
dwi2response: [03;32m[0m
dwi2response: [03;32mGenerated temporary directory: /tmp/dwi2response-tmp-Y5CKLH/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_032/preproc/biascorr.mif /tmp/dwi2response-tmp-Y5CKLH/dwi.mif -stride 0,0,0,1
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_032/preproc/biasmeanb0bet_mask.nii.gz /tmp/dwi2response-tmp-Y5CKLH/mask.mif -datatype bit
dwi2response: [03;32mChanging to temporary directory (/tmp/dwi2response-tmp-Y5CKLH/)[0m
dwi2response: [03;32m2 unique b-value(s) detected: 0,3000 with 12,90 volumes.[0m
[03;34mCommand:[0m maskfilter mask.mif erode eroded_mask.mif -npass 3
[03;34mCommand:[0m dwiextract dwi.mif -shell 0 dwi_b0.mif
[03;34mCommand:[0m mrmath dwi_b0.mif mean mean_b0.mif -axis 3
[03;34mCommand:[0m mrcalc mean_b0.mif -finite mean_b0.mif 0 -if 0 -le err_b0.mif -datatype bit
[03;34mCommand:[0m dwiextract dwi.mif -shell 3000 dwi_b3000.mif
[03;34mCommand:[0m mrmath dwi_b3000.mif mean mean_b3000.mif -axis 3
[03;34mCommand:[0m mrcalc mean_b3000.mif -finite mean_b3000.mif 0 -if 0 -le err_b3000.mif -datatype bit
[03;34mCommand:[0m mrcalc mean_b0.mif mean_b3000.mif -divide -log sdm_b3000.mif
[03;34mCommand:[0m mrcalc sdm_b3000.mif 90 -mult 90 -divide full_sdm.mif
[03;34mCommand:[0m mrcalc full_sdm.mif -finite full_sdm.mif 0 -if 0 -le err_sdm.mif -datatype bit
[03;34mCommand:[0m mrcalc err_b0.mif err_b3000.mif -add err_sdm.mif -add 0 eroded_mask.mif -if safe_mask.mif -datatype bit
[03;34mCommand:[0m mrcalc safe_mask.mif full_sdm.mif 0 -if 10 -min safe_sdm.mif
[03;34mCommand:[0m dwi2tensor dwi.mif - -mask safe_mask.mif | tensor2metric - -fa safe_fa.mif -vector safe_vecs.mif -modulate none -mask safe_mask.mif
[03;34mCommand:[0m mrcalc safe_mask.mif safe_fa.mif 0 -if 0.2 -gt crude_wm.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_wm.mif 0 safe_mask.mif -if _crudenonwm.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudenonwm.mif safe_sdm.mif 2.41267 -subtract 0 -if - | mrthreshold - - -mask _crudenonwm.mif | mrcalc _crudenonwm.mif - 0 -if crude_csf.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_csf.mif 0 _crudenonwm.mif -if crude_gm.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_wm.mif safe_sdm.mif 0 -if 1.42395 -gt _crudewmhigh.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudewmhigh.mif 0 crude_wm.mif -if _crudewmlow.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_wm.mif safe_sdm.mif 0 -if 1.84504 -gt _crudewmoutliers.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudewmoutliers.mif 0 crude_wm.mif -if refined_wm.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_gm.mif safe_sdm.mif 0 -if 1.88819 -gt _crudegmhigh.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmhigh.mif 0 crude_gm.mif -if _crudegmlow.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmhigh.mif safe_sdm.mif 1.88819 -subtract 0 -if - | mrthreshold - - -mask _crudegmhigh.mif -invert | mrcalc _crudegmhigh.mif - 0 -if _crudegmhighselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmlow.mif safe_sdm.mif 1.88819 -subtract -neg 0 -if - | mrthreshold - - -mask _crudegmlow.mif -invert | mrcalc _crudegmlow.mif - 0 -if _crudegmlowselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmhighselect.mif 1 _crudegmlowselect.mif -if refined_gm.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudewmoutliers.mif safe_sdm.mif 0 -if 2.72009 -gt 1 crude_csf.mif -if _crudecsfextra.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudecsfextra.mif safe_sdm.mif 2.72009 -subtract 0 -if - | mrthreshold - - -mask _crudecsfextra.mif | mrcalc _crudecsfextra.mif - 0 -if refined_csf.mif -datatype bit
dwi2response: [03;32mRunning 'tournier' algorithm to select 501 single-fibre WM voxels.[0m
[03;34mCommand:[0m dwi2response tournier dwi.mif _respsfwmss.txt -sf_voxels 501 -iter_voxels 5010 -mask refined_wm.mif -voxels voxels_sfwm.mif -quiet -tempdir /tmp/dwi2response-tmp-Y5CKLH/
[03;34mCommand:[0m mrcalc refined_gm.mif safe_sdm.mif 0 -if 1.85999 -gt _refinedgmhigh.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmhigh.mif 0 refined_gm.mif -if _refinedgmlow.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmhigh.mif safe_sdm.mif 0 -if - | mrthreshold - - -bottom 584 -ignorezero | mrcalc _refinedgmhigh.mif - 0 -if _refinedgmhighselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmlow.mif safe_sdm.mif 0 -if - | mrthreshold - - -top 584 -ignorezero | mrcalc _refinedgmlow.mif - 0 -if _refinedgmlowselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmhighselect.mif 1 _refinedgmlowselect.mif -if voxels_gm.mif -datatype bit
[03;34mCommand:[0m mrcalc refined_csf.mif safe_sdm.mif 0 -if - | mrthreshold - - -top 3382 -ignorezero | mrcalc refined_csf.mif - 0 -if voxels_csf.mif -datatype bit
dwi2response: [03;32mSummary of voxel counts:[0m
dwi2response: [03;32mMask: 336863 --> 272535 --> 272449[0m
dwi2response: [03;32mWM: 106801 --> 100281 --> 501 (SF)[0m
dwi2response: [03;32mGM: 98391 --> 58391 --> 1168[0m
dwi2response: [03;32mCSF: 67257 --> 33819 --> 3382[0m
[03;34mCommand:[0m amp2sh dwi_b0.mif - | sh2response - voxels_sfwm.mif safe_vecs.mif _respsfwmb0.txt
[03;34mCommand:[0m amp2sh dwi_b3000.mif - | sh2response - voxels_sfwm.mif safe_vecs.mif _respsfwmb3000.txt
[03;34mCommand:[0m mrcat crude_csf.mif crude_gm.mif crude_wm.mif crude.mif -axis 3
[03;34mCommand:[0m mrcat refined_csf.mif refined_gm.mif refined_wm.mif refined.mif -axis 3
[03;34mCommand:[0m mrcat voxels_csf.mif voxels_gm.mif voxels_sfwm.mif voxels.mif -axis 3
dwi2response: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_032/preproc)[0m
dwi2response: [03;32mDeleting temporary directory /tmp/dwi2response-tmp-Y5CKLH/[0m
