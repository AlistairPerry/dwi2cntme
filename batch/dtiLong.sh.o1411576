dwipreproc_mb: [03;32m[0m
dwipreproc_mb: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
dwipreproc_mb: [03;32m[0m
dwipreproc_mb: [03;32mGenerated temporary directory: /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/dwipreproc_mb-tmp-QM8IZV/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/rawdataAPdn.mif /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/dwipreproc_mb-tmp-QM8IZV/series.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/APb0s.mif /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/dwipreproc_mb-tmp-QM8IZV/pair1.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/rawdataPAdn.mif /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/dwipreproc_mb-tmp-QM8IZV/pair2.mif
dwipreproc_mb: [03;32mChanging to temporary directory (/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/dwipreproc_mb-tmp-QM8IZV/)[0m
dwipreproc_mb: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -size' (piping data to local storage)[0m
dwipreproc_mb: [03;32mResult: 122 122 70 88[0m
dwipreproc_mb: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -dwgrad' (piping data to local storage)[0m
dwipreproc_mb: [03;32mResult:          0          0          0          0
 -0.984645  -0.161046  0.0673713       3000
  0.978043  -0.190745 -0.0839578       1000
  0.200904  -0.969652   0.139332       3000
 0.0334588   0.272543   0.961562       2950
  0.185169   0.566578  -0.802933       3000
 0.0802031 -0.0431843   0.995843       1000
  0.461676   0.837347   0.292755       3000
  0.648488  -0.504254  -0.570255       3000
 -0.682219   0.190668   -0.70585       3000
 -0.282998  -0.958471 -0.0352819       1000
  0.897028  -0.435666  0.0744042       3000
  0.691667   0.663111  -0.286148       3000
         0          0          0          0
 0.0386403  -0.757244  -0.651988       3000
  -0.74537   0.529431  -0.405126       1000
  -0.50923 -0.0398937   0.859705       2950
 -0.773072  -0.349962  -0.529043       3000
   0.43384  -0.716112   0.546778       3000
  0.097931  -0.529752   -0.84248       1000
 -0.394862   0.912404   0.107713       3000
 0.0970376  -0.388638   0.916266       2950
         0          0          0          0
  0.917606  0.0254028  -0.396678       3000
  0.727917   0.621129  -0.290407       1000
  0.487491   0.439265   0.754585       2950
  0.422361   0.860734  -0.284164       3000
 -0.808908   0.542531   0.226558       3000
  -0.66846   0.483507   0.565139       1000
  0.765666   0.595992   0.241972       3000
 -0.466371   0.345654   0.814261       2950
  0.868646  -0.302912   0.392043       3000
 -0.228213   0.608033  -0.760404       1000
  0.146596   0.821343  -0.551276       3000
  0.405906  -0.151036   0.901348       2950
         0          0          0          0
  0.135578   0.915724   0.378243       3000
 -0.509306  -0.369681  -0.777138       1000
  0.675657   0.479916  -0.559614       3000
 -0.725984   0.621613  -0.294186       3000
-0.0824646  0.0571122  -0.994956       3000
   0.28818  -0.929461   0.230334       1000
  0.222846  -0.889367  -0.399207       3000
 -0.929701  -0.280504   -0.23869       3000
         0          0          0          0
 -0.744491  -0.173268   0.644757       2950
 -0.383571  -0.448402   0.807347       1000
 -0.114184  -0.965431   0.234318       3000
   0.17877  -0.501006  -0.846779       3000
 -0.399745   0.460462  -0.792577       3000
   0.77079   0.596244   0.224445       1000
 -0.299806  -0.737219  -0.605495       3000
  0.973172  -0.193698  -0.124168       3000
 -0.616066  -0.787601 -0.0121452       3000
 -0.238341   0.900884    0.36277       1000
 -0.210737  -0.233231   0.949312       2950
  0.673984  -0.738413 -0.0221912       3000
         0          0          0          0
  0.868587  0.0304847   0.494599       2950
 -0.927023   -0.10283   -0.36063       1000
 -0.163569   0.876216  -0.453312       3000
  -0.34483  -0.183635  -0.920527       3000
  0.711914  -0.164633  -0.682697       3000
 -0.861081  -0.144194   0.487593       1000
  -0.37273   0.677477   0.634111       3000
 -0.435719  -0.689395   0.578691       3000
         0          0          0          0
 -0.875509  -0.352898   0.330072       3000
  0.603181  -0.172537   0.778719       1000
 0.0298968  -0.992278  -0.120378       3000
 -0.980277  0.0721193  -0.184001       3000
  0.173003   0.534373   0.827355       2950
  0.466004 -0.0911901  -0.880071       1000
  0.128699  -0.675339   0.726191       2950
  -0.48193   0.841923  -0.242712       3000
  0.248216  -0.123827  -0.960758       3000
  0.217542   0.844483  -0.489412       1000
  0.866327    0.49814 -0.0365353       3000
  0.640219   0.132865   0.756615       2950
         0          0          0          0
   0.55685   -0.75097  -0.354912       3000
  0.697684  -0.711106 -0.0869792       1000
  0.299629   0.953237  0.0395222       3000
  0.467835   0.382694  -0.796666       3000
  -0.85973   0.293622   0.417912       3000
  0.300581   0.797252   0.523488       1000
 -0.591164  -0.623877  -0.511178       3000
 -0.656176   0.482015  -0.580599       3000[0m
dwipreproc_mb: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -stride' (piping data to local storage)[0m
dwipreproc_mb: [03;32mResult: 1 2 3 4[0m
dwipreproc_mb: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair1.mif -size' (piping data to local storage)[0m
dwipreproc_mb: [03;32mResult: 122 122 70 8[0m
dwipreproc_mb: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair2.mif -size' (piping data to local storage)[0m
dwipreproc_mb: [03;32mResult: 122 122 70 8[0m
[03;34mCommand:[0m mrconvert series.mif dwi_pre_topup.nii -stride -1,+2,+3,+4
[03;34mCommand:[0m mrcat pair1.mif pair2.mif - -axis 3 | mrconvert - topup_in.nii -stride -1,+2,+3,+4
dwipreproc_mb: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair1.mif -size' (piping data to local storage)[0m
dwipreproc_mb: [03;32mResult: 122 122 70 8[0m
dwipreproc_mb: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair2.mif -size' (piping data to local storage)[0m
dwipreproc_mb: [03;32mResult: 122 122 70 8[0m
dwipreproc_mb: [03;32mCreating phase-encoding configuration file[0m
[03;34mCommand:[0m topup --imain=topup_in.nii --datain=config.txt --out=field --fout=field_map.nii.gz --config=/software/fsl/fsl-5.0.9_eddy/fsl/etc/flirtsch/b02b0.cnf
[03;34mCommand:[0m applytopup --imain=dwi_pre_topup.nii --datain=config.txt --inindex=1 --topup=field --out=dwi_post_topup.nii.gz --method=jac
[03;34mCommand:[0m mrconvert series.mif - -stride -1,+2,+3,+4 | mrinfo - -export_grad_fsl bvecs bvals
[03;34mCommand:[0m mrconvert dwi_post_topup.nii.gz -fslgrad bvecs bvals - | dwi2mask - - | maskfilter - dilate - | mrconvert - mask.nii -datatype float32 -stride -1,+2,+3
[03;34mCommand:[0m eddy_openmp --imain=dwi_pre_topup.nii --mask=mask.nii --index=indices.txt --acqp=config.txt --bvecs=bvecs --bvals=bvals --repol --data_is_shelled --mb=2 --ol_type=gw --topup=field --out=dwi_post_eddy
[03;34mCommand:[0m mrconvert dwi_post_eddy.nii.gz result.mif -stride 1,2,3,4 -fslgrad dwi_post_eddy.eddy_rotated_bvecs bvals
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/eddycorr.mif -export_grad_mrtrix /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/adjencoding.b
dwipreproc_mb: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc)[0m
dwipreproc_mb: [03;32mDeleting temporary directory /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/dwipreproc_mb-tmp-QM8IZV/[0m
dwibiascorrect: [03;32m[0m
dwibiascorrect: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
dwibiascorrect: [03;32m[0m
dwibiascorrect: [03;32mGenerated temporary directory: /tmp/dwibiascorrect-tmp-11X5GB/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/eddycorr.mif /tmp/dwibiascorrect-tmp-11X5GB/in.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/eddymeanb0bet_mask.nii.gz /tmp/dwibiascorrect-tmp-11X5GB/mask.mif
dwibiascorrect: [03;32mChanging to temporary directory (/tmp/dwibiascorrect-tmp-11X5GB/)[0m
[03;34mCommand:[0m dwiextract in.mif - -bzero | mrmath - mean mean_bzero.mif -axis 3
[03;34mCommand:[0m mrcalc mean_bzero.mif mask.mif -mult - | mrconvert - mean_bzero_masked.nii -stride -1,+2,+3
[03;34mCommand:[0m fast -t 2 -o fast -n 3 -b mean_bzero_masked.nii
[03;34mCommand:[0m mrcalc in.mif fast_bias.nii.gz -div result.mif
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/biascorr.mif
dwibiascorrect: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc)[0m
dwibiascorrect: [03;32mDeleting temporary directory /tmp/dwibiascorrect-tmp-11X5GB/[0m
Extracting mean of the b=0 shell.
Extracting mean of the b=1000 shell.
Extracting mean of the b=2990 shell.
5ttgen: [03;32m[0m
5ttgen: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
5ttgen: [03;32m[0m
5ttgen: [03;32mGenerated temporary directory: /tmp/5ttgen-tmp-RR38YS/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/T1betFSmasked.nii.gz /tmp/5ttgen-tmp-RR38YS/input.mif
5ttgen: [03;32mChanging to temporary directory (/tmp/5ttgen-tmp-RR38YS/)[0m
[03;34mCommand:[0m mrconvert input.mif T1.nii -stride -1,+2,+3
[03;34mCommand:[0m fast T1.nii
[03;34mCommand:[0m run_first_all -s L_Accu,R_Accu,L_Caud,R_Caud,L_Pall,R_Pall,L_Puta,R_Puta,L_Thal,R_Thal,L_Amyg,R_Amyg,L_Hipp,R_Hipp -i T1.nii -o first -b
[03;34mCommand:[0m meshconvert first-L_Accu_first.vtk L_Accu.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve L_Accu.vtk T1.nii mesh2pve_L_Accu.mif
[03;34mCommand:[0m meshconvert first-R_Accu_first.vtk R_Accu.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve R_Accu.vtk T1.nii mesh2pve_R_Accu.mif
[03;34mCommand:[0m meshconvert first-L_Caud_first.vtk L_Caud.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve L_Caud.vtk T1.nii mesh2pve_L_Caud.mif
[03;34mCommand:[0m meshconvert first-R_Caud_first.vtk R_Caud.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve R_Caud.vtk T1.nii mesh2pve_R_Caud.mif
[03;34mCommand:[0m meshconvert first-L_Pall_first.vtk L_Pall.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve L_Pall.vtk T1.nii mesh2pve_L_Pall.mif
[03;34mCommand:[0m meshconvert first-R_Pall_first.vtk R_Pall.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve R_Pall.vtk T1.nii mesh2pve_R_Pall.mif
[03;34mCommand:[0m meshconvert first-L_Puta_first.vtk L_Puta.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve L_Puta.vtk T1.nii mesh2pve_L_Puta.mif
[03;34mCommand:[0m meshconvert first-R_Puta_first.vtk R_Puta.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve R_Puta.vtk T1.nii mesh2pve_R_Puta.mif
[03;34mCommand:[0m meshconvert first-L_Thal_first.vtk L_Thal.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve L_Thal.vtk T1.nii mesh2pve_L_Thal.mif
[03;34mCommand:[0m meshconvert first-R_Thal_first.vtk R_Thal.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve R_Thal.vtk T1.nii mesh2pve_R_Thal.mif
[03;34mCommand:[0m meshconvert first-L_Amyg_first.vtk L_Amyg.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve L_Amyg.vtk T1.nii mesh2pve_L_Amyg.mif
[03;34mCommand:[0m meshconvert first-R_Amyg_first.vtk R_Amyg.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve R_Amyg.vtk T1.nii mesh2pve_R_Amyg.mif
[03;34mCommand:[0m meshconvert first-L_Hipp_first.vtk L_Hipp.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve L_Hipp.vtk T1.nii mesh2pve_L_Hipp.mif
[03;34mCommand:[0m meshconvert first-R_Hipp_first.vtk R_Hipp.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve R_Hipp.vtk T1.nii mesh2pve_R_Hipp.mif
[03;34mCommand:[0m mrmath mesh2pve_L_Accu.mif mesh2pve_R_Accu.mif mesh2pve_L_Caud.mif mesh2pve_R_Caud.mif mesh2pve_L_Pall.mif mesh2pve_R_Pall.mif mesh2pve_L_Puta.mif mesh2pve_R_Puta.mif mesh2pve_L_Thal.mif mesh2pve_R_Thal.mif mesh2pve_L_Amyg.mif mesh2pve_R_Amyg.mif mesh2pve_L_Hipp.mif mesh2pve_R_Hipp.mif sum - | mrcalc - 1.0 -min all_sgms.mif
[03;34mCommand:[0m mrthreshold T1_pve_2.nii.gz - -abs 0.001 | maskfilter - connect wm_mask.mif -largest
[03;34mCommand:[0m mrconvert T1_pve_0.nii.gz csf.mif
[03;34mCommand:[0m mrcalc 1.0 csf.mif -sub all_sgms.mif -min sgm.mif
[03;34mCommand:[0m mrcalc 1.0 csf.mif sgm.mif -add -sub T1_pve_1.nii.gz T1_pve_2.nii.gz -add -div multiplier.mif
[03;34mCommand:[0m mrcalc multiplier.mif -finite multiplier.mif 0.0 -if multiplier_noNAN.mif
[03;34mCommand:[0m mrcalc T1_pve_1.nii.gz multiplier_noNAN.mif -mult cgm.mif
[03;34mCommand:[0m mrcalc T1_pve_2.nii.gz multiplier_noNAN.mif -mult wm_mask.mif -mult wm.mif
[03;34mCommand:[0m mrcalc 0 wm.mif -min path.mif
[03;34mCommand:[0m mrcat cgm.mif sgm.mif wm.mif csf.mif path.mif - -axis 3 | mrconvert - combined_precrop.mif -stride +2,+3,+4,+1
[03;34mCommand:[0m mrconvert combined_precrop.mif result.mif
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/5TTFSmasked.nii
5ttgen: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc)[0m
5ttgen: [03;32mDeleting temporary directory /tmp/5ttgen-tmp-RR38YS/[0m
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mGenerated temporary directory: /tmp/labelsgmfix-tmp-DLQ66E/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/parcFSLtempstr.nii.gz /tmp/labelsgmfix-tmp-DLQ66E/parc.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/T1betFSmasked_restore.nii.gz /tmp/labelsgmfix-tmp-DLQ66E/T1.nii -stride -1,+2,+3
labelsgmfix: [03;32mChanging to temporary directory (/tmp/labelsgmfix-tmp-DLQ66E/)[0m
[03;34mCommand:[0m run_first_all -s R_Thal,L_Puta,R_Caud,R_Hipp,L_Amyg,R_Pall,R_Amyg,L_Caud,L_Pall,L_Thal,L_Hipp,R_Accu,L_Accu,R_Puta -i T1.nii -b -o first
[03;34mCommand:[0m mrcalc parc.mif 0 -min sgm.mif
[03;34mCommand:[0m meshconvert first-R_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Thal_mask.mif 6 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Puta_mask.mif 3 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Caud_mask.mif 7 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Hipp_mask.mif 13 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Amyg_mask.mif 12 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Pall_mask.mif 9 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Amyg_mask.mif 14 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Caud_mask.mif 2 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Pall_mask.mif 4 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Thal_mask.mif 1 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Hipp_mask.mif 11 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Accu_mask.mif 10 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Accu_mask.mif 5 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Puta_mask.mif 8 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m mrmath R_Thal_mask.mif L_Puta_mask.mif R_Caud_mask.mif R_Hipp_mask.mif L_Amyg_mask.mif R_Pall_mask.mif R_Amyg_mask.mif L_Caud_mask.mif L_Pall_mask.mif L_Thal_mask.mif L_Hipp_mask.mif R_Accu_mask.mif L_Accu_mask.mif R_Puta_mask.mif sum - | mrcalc - 1 -gt sgm_overlap_mask.mif
[03;34mCommand:[0m mrcalc sgm_overlap_mask.mif 0 sgm.mif -if sgm_masked.mif
[03;34mCommand:[0m labelconvert sgm_masked.mif /software/mrtrix3/mrtrix3-AP/scripts/data/FreeSurferSGM.txt /software/mrtrix3/mrtrix3-AP/src/connectome/tables/fs_a2009s.txt sgm_new_labels.mif
[03;34mCommand:[0m mrcalc parc.mif 83 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 78 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 84 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 87 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 81 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 86 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 88 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 77 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 79 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 76 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 80 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 89 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 82 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 85 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc sgm_new_labels.mif 0.5 -gt sgm_new_labels.mif parc.mif -if result.mif -datatype uint32
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/parc_fixsubcort.nii
labelsgmfix: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc)[0m
labelsgmfix: [03;32mDeleting temporary directory /tmp/labelsgmfix-tmp-DLQ66E/[0m
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mGenerated temporary directory: /tmp/labelsgmfix-tmp-8OV3O2/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/parcFSLtempstr.nii.gz /tmp/labelsgmfix-tmp-8OV3O2/parc.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/T1betFSmasked_restore.nii.gz /tmp/labelsgmfix-tmp-8OV3O2/T1.nii -stride -1,+2,+3
labelsgmfix: [03;32mChanging to temporary directory (/tmp/labelsgmfix-tmp-8OV3O2/)[0m
[03;34mCommand:[0m run_first_all -s R_Thal,L_Puta,R_Caud,R_Hipp,L_Amyg,R_Pall,R_Amyg,L_Caud,L_Pall,L_Thal,L_Hipp,R_Accu,L_Accu,R_Puta -i T1.nii -b -o first
[03;34mCommand:[0m mrcalc parc.mif 0 -min sgm.mif
[03;34mCommand:[0m meshconvert first-R_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Thal_mask.mif 6 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Puta_mask.mif 3 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Caud_mask.mif 7 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Hipp_mask.mif 13 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Amyg_mask.mif 12 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Pall_mask.mif 9 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Amyg_mask.mif 14 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Caud_mask.mif 2 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Pall_mask.mif 4 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Thal_mask.mif 1 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Hipp_mask.mif 11 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Accu_mask.mif 10 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Accu_mask.mif 5 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Puta_mask.mif 8 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m mrmath R_Thal_mask.mif L_Puta_mask.mif R_Caud_mask.mif R_Hipp_mask.mif L_Amyg_mask.mif R_Pall_mask.mif R_Amyg_mask.mif L_Caud_mask.mif L_Pall_mask.mif L_Thal_mask.mif L_Hipp_mask.mif R_Accu_mask.mif L_Accu_mask.mif R_Puta_mask.mif sum - | mrcalc - 1 -gt sgm_overlap_mask.mif
[03;34mCommand:[0m mrcalc sgm_overlap_mask.mif 0 sgm.mif -if sgm_masked.mif
[03;34mCommand:[0m labelconvert sgm_masked.mif /software/mrtrix3/mrtrix3-AP/scripts/data/FreeSurferSGM.txt /software/mrtrix3/mrtrix3-AP/src/connectome/tables/fs_default.txt sgm_new_labels.mif
[03;34mCommand:[0m mrcalc parc.mif 43 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 38 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 44 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 47 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 41 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 46 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 48 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 37 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 39 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 36 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 40 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 49 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 42 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 45 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc sgm_new_labels.mif 0.5 -gt sgm_new_labels.mif parc.mif -if result.mif -datatype uint32
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/parc_fixsubcort.nii
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc)[0m
labelsgmfix: [00;31mScript failed while executing the command: mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/parc_fixsubcort.nii[0m
labelsgmfix: [00;31mFor debugging, inspect contents of temporary directory: /tmp/labelsgmfix-tmp-8OV3O2/[0m
Log file is register.dat.log
Thu Mar 16 01:49:31 AEST 2017

setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc
/software/freesurfer/freesurfer-5.3.0/bin/bbregister --s Long --mov biasmeanb0bet.nii.gz --init-fsl --reg register.dat --dti --fslmat diff2FS.mat

$Id: bbregister,v 1.49.2.3 2013/03/25 18:04:53 greve Exp $
Linux hpcnode041.adqimr.ad.lan 3.10.0-327.3.1.el7.x86_64 #1 SMP Wed Dec 9 14:09:15 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
FREESURFER_HOME /software/freesurfer/freesurfer-5.3.0
mri_convert biasmeanb0bet.nii.gz ./tmp.bbregister.19544/template.nii
mri_convert biasmeanb0bet.nii.gz ./tmp.bbregister.19544/template.nii 
$Id: mri_convert.c,v 1.179.2.7 2012/09/05 21:55:16 mreuter Exp $
reading from biasmeanb0bet.nii.gz...
TR=1000.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (0.999313, 0.0299168, 0.0218859)
j_ras = (-0.0317539, 0.99552, 0.0890652)
k_ras = (-0.0191233, -0.0896989, 0.995785)
writing to ./tmp.bbregister.19544/template.nii...
fslregister --s Long --mov ./tmp.bbregister.19544/template.nii --reg ./tmp.bbregister.19544/reg.init.dat --niters 1 --maxangle 90 --nobetmov --tmp ./tmp.bbregister.19544/fslregister --dof 6 --fsvol brainmask.mgz

Log file is ./tmp.bbregister.19544/reg.init.dat.fslregister.log

Thu Mar 16 01:49:31 AEST 2017
--s Long --mov ./tmp.bbregister.19544/template.nii --reg ./tmp.bbregister.19544/reg.init.dat --niters 1 --maxangle 90 --nobetmov --tmp ./tmp.bbregister.19544/fslregister --dof 6 --fsvol brainmask.mgz
$Id: fslregister,v 1.34.2.2 2012/11/08 16:18:56 greve Exp $
hpcnode041.adqimr.ad.lan
Linux hpcnode041.adqimr.ad.lan 3.10.0-327.3.1.el7.x86_64 #1 SMP Wed Dec 9 14:09:15 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
nIters 1
--------------------------------------
/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc
mri_convert /working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/FS/Long/mri/brainmask.mgz ./tmp.bbregister.19544/fslregister/refvol.fslregister.nii
mri_convert /working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/FS/Long/mri/brainmask.mgz ./tmp.bbregister.19544/fslregister/refvol.fslregister.nii 
$Id: mri_convert.c,v 1.179.2.7 2012/09/05 21:55:16 mreuter Exp $
reading from /working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/FS/Long/mri/brainmask.mgz...
TR=0.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (-1, -9.42237e-10, 0)
j_ras = (3.72529e-09, 1.16415e-10, -1)
k_ras = (-9.24047e-10, 1, -1.16415e-10)
writing to ./tmp.bbregister.19544/fslregister/refvol.fslregister.nii...
--------------------------------------
/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc
mri_convert ./tmp.bbregister.19544/template.nii ./tmp.bbregister.19544/fslregister/movvol.fslregister.nii --frame 0
mri_convert ./tmp.bbregister.19544/template.nii ./tmp.bbregister.19544/fslregister/movvol.fslregister.nii --frame 0 
$Id: mri_convert.c,v 1.179.2.7 2012/09/05 21:55:16 mreuter Exp $
reading from ./tmp.bbregister.19544/template.nii...
TR=1000.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (0.999313, 0.0299168, 0.0218859)
j_ras = (-0.0317539, 0.99552, 0.0890652)
k_ras = (-0.0191233, -0.0896989, 0.995785)
keeping frame 0
writing to ./tmp.bbregister.19544/fslregister/movvol.fslregister.nii...
Mov determinant is 8
Swapping dims for pos det
WARNING:: Flipping Left/Right orientation (as det < 0)
tkregister_tcl /software/freesurfer/freesurfer-5.3.0/tktools/tkregister2.tcl
target  volume ./tmp.bbregister.19544/fslregister/movvol.fslregister.nii
movable volume ./tmp.bbregister.19544/template.nii
reg file       ./tmp.bbregister.19544/fslregister/swapreg.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.121.2.1 2011/03/28 20:25:16 greve Exp $
Diagnostic Level -1
INFO: loading target ./tmp.bbregister.19544/fslregister/movvol.fslregister.nii
INFO: target does not conform to COR format, so I'm going to
reslice to COR. This will not affect the final registration.
Ttarg: --------------------
-1.000   0.000   0.000   128.000;
 0.000   0.000   1.000  -128.000;
 0.000  -1.000   0.000   128.000;
 0.000   0.000   0.000   1.000;
INFO: loading movable ./tmp.bbregister.19544/template.nii
Tmov: --------------------
-2.000   0.000   0.000   122.000;
 0.000   0.000   2.000  -70.000;
 0.000  -2.000   0.000   122.000;
 0.000   0.000   0.000   1.000;
mkheaderreg = 1, float2int = 0
Computing reg from header (and possibly input matrix)
---- Input registration matrix (computed) --------
-0.999  -0.030  -0.022   2.000;
-0.019  -0.090   0.996  -0.000;
 0.032  -0.996  -0.089  -0.000;
 0.000   0.000   0.000   1.000;
---------------------------------------
---- Input registration matrix --------
-0.999  -0.030  -0.022   2.000;
-0.019  -0.090   0.996  -0.000;
 0.032  -0.996  -0.089  -0.000;
 0.000   0.000   0.000   1.000;
Determinant -1
subject = subject-unknown
RegMat ---------------------------
-1.000   0.000   0.000   2.000;
 0.000   1.000  -0.000  -0.000;
-0.000  -0.000   1.000  -0.000;
 0.000   0.000   0.000   1.000;
/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc
tkregister2_cmdl --mov ./tmp.bbregister.19544/fslregister/movvol.fslregister.nii --reg ./tmp.bbregister.19544/fslregister/reg0.19644.dat --regheader --fslregout ./tmp.bbregister.19544/reg.init.dat.fsl.mat0 --s Long --noedit
tkregister_tcl /software/freesurfer/freesurfer-5.3.0/tktools/tkregister2.tcl
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume ./tmp.bbregister.19544/fslregister/movvol.fslregister.nii
reg file       ./tmp.bbregister.19544/fslregister/reg0.19644.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.121.2.1 2011/03/28 20:25:16 greve Exp $
Diagnostic Level -1
INFO: loading target /working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/FS/Long/mri/orig.mgz
Ttarg: --------------------
-1.000   0.000   0.000   128.000;
 0.000   0.000   1.000  -128.000;
 0.000  -1.000   0.000   128.000;
 0.000   0.000   0.000   1.000;
INFO: loading movable ./tmp.bbregister.19544/fslregister/movvol.fslregister.nii
Tmov: --------------------
-2.000   0.000   0.000   122.000;
 0.000   0.000   2.000  -70.000;
 0.000  -2.000   0.000   122.000;
 0.000   0.000   0.000   1.000;
mkheaderreg = 1, float2int = 0
Computing reg from header (and possibly input matrix)
---- Input registration matrix (computed) --------
 0.999   0.030   0.022  -0.451;
-0.019  -0.090   0.996  -2.698;
 0.032  -0.996  -0.089  -6.376;
 0.000   0.000   0.000   1.000;
---------------------------------------
---- Input registration matrix --------
 0.999   0.030   0.022  -0.451;
-0.019  -0.090   0.996  -2.698;
 0.032  -0.996  -0.089  -6.376;
 0.000   0.000   0.000   1.000;
Determinant 1
subject = Long
RegMat ---------------------------
 0.999   0.030   0.022  -0.451;
-0.019  -0.090   0.996  -2.698;
 0.032  -0.996  -0.089  -6.376;
 0.000   0.000   0.000   1.000;
FSLOUTPUTTYPE NIFTI 
tkreg2FSL: mov det = -8, ref det = -1
Thu Mar 16 01:49:35 AEST 2017
/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc
flirt.fsl -ref ./tmp.bbregister.19544/fslregister/refvol.fslregister.nii -in ./tmp.bbregister.19544/fslregister/movvol.fslregister.nii -bins 256 -cost corratio -dof 6 -searchrx -90 90 -searchry -90 90 -searchrz -90 90 -verbose 0 -omat ./tmp.bbregister.19544/fslregister/fslmat0.trans.mat -schedule /software/fsl/fsl-5.0.9_eddy/fsl/etc/flirtsch/xyztrans.sch -init ./tmp.bbregister.19544/reg.init.dat.fsl.mat0
Thu Mar 16 01:49:52 AEST 2017
/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc
flirt.fsl -ref ./tmp.bbregister.19544/fslregister/refvol.fslregister.nii -in ./tmp.bbregister.19544/fslregister/movvol.fslregister.nii -bins 256 -cost corratio -dof 6 -searchrx -90 90 -searchry -90 90 -searchrz -90 90 -verbose 0 -omat ./tmp.bbregister.19544/reg.init.dat.fsl.mat -init ./tmp.bbregister.19544/fslregister/fslmat0.trans.mat -schedule /software/freesurfer/freesurfer-5.3.0/bin/flirt.newdefault.20080811.sch
tkregister2_cmdl --s Long --mov ./tmp.bbregister.19544/fslregister/movvol.fslregister.nii --reg ./tmp.bbregister.19544/reg.init.dat --fslreg ./tmp.bbregister.19544/reg.init.dat.fsl.mat --noedit
tkregister_tcl /software/freesurfer/freesurfer-5.3.0/tktools/tkregister2.tcl
---- FSL registration matrix --------
 1.000  -0.012  -0.020   8.731;
-0.021  -0.129  -0.991   200.397;
 0.009   0.992  -0.129   1.438;
 0.000   0.000   0.000   1.000;
---------------------------------------
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume ./tmp.bbregister.19544/fslregister/movvol.fslregister.nii
reg file       ./tmp.bbregister.19544/reg.init.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.121.2.1 2011/03/28 20:25:16 greve Exp $
Diagnostic Level -1
INFO: loading target /working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/FS/Long/mri/orig.mgz
Ttarg: --------------------
-1.000   0.000   0.000   128.000;
 0.000   0.000   1.000  -128.000;
 0.000  -1.000   0.000   128.000;
 0.000   0.000   0.000   1.000;
INFO: loading movable ./tmp.bbregister.19544/fslregister/movvol.fslregister.nii
Tmov: --------------------
-2.000   0.000   0.000   122.000;
 0.000   0.000   2.000  -70.000;
 0.000  -2.000   0.000   122.000;
 0.000   0.000   0.000   1.000;
mkheaderreg = 0, float2int = 0
FSLOUTPUTTYPE NIFTI 
fsl2TkReg: mov det = -8, ref det = -1
---- Input registration matrix (computed) --------
 1.000  -0.009  -0.021   0.051;
 0.020  -0.129   0.991  -16.939;
-0.012  -0.992  -0.129  -11.406;
 0.000   0.000   0.000   1.000;
---------------------------------------
---- Input registration matrix --------
 1.000  -0.009  -0.021   0.051;
 0.020  -0.129   0.991  -16.939;
-0.012  -0.992  -0.129  -11.406;
 0.000   0.000   0.000   1.000;
Determinant 0.999999
subject = Long
RegMat ---------------------------
 1.000  -0.009  -0.021   0.051;
 0.020  -0.129   0.991  -16.939;
-0.012  -0.992  -0.129  -11.406;
 0.000   0.000   0.000   1.000;
mri_matrix_multiply -im ./tmp.bbregister.19544/fslregister/swapreg.dat -im ./tmp.bbregister.19544/reg.init.dat -om ./tmp.bbregister.19544/reg.init.dat
(standard_in) 1: illegal character: L
 
Started at Thu Mar 16 01:49:31 AEST 2017 
Ended   at Thu Mar 16 01:50:10 AEST 2017
 
fslregister Done
 
To check results, run:
tkregister2 --mov ./tmp.bbregister.19544/template.nii --reg ./tmp.bbregister.19544/reg.init.dat --surf orig
 
mri_segreg --mov ./tmp.bbregister.19544/template.nii --init-reg ./tmp.bbregister.19544/reg.init.dat --out-reg ./tmp.bbregister.19544/bbr.pass1.dat --subsamp-brute 100 --subsamp 100 --tol 1e-4 --tol1d 1e-3 --brute -4 4 4 --surf white --gm-proj-frac 0.5 --gm-gt-wm 0.5
$Id: mri_segreg.c,v 1.103.2.1 2011/10/07 19:14:42 greve Exp $
setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc
mri_segreg --mov ./tmp.bbregister.19544/template.nii --init-reg ./tmp.bbregister.19544/reg.init.dat --out-reg ./tmp.bbregister.19544/bbr.pass1.dat --subsamp-brute 100 --subsamp 100 --tol 1e-4 --tol1d 1e-3 --brute -4 4 4 --surf white --gm-proj-frac 0.5 --gm-gt-wm 0.5 
sysname  Linux
hostname hpcnode041.adqimr.ad.lan
machine  x86_64
user     alistaiP
movvol ./tmp.bbregister.19544/template.nii
regfile ./tmp.bbregister.19544/reg.init.dat
subject Long
dof 6
outregfile ./tmp.bbregister.19544/bbr.pass1.dat
UseMask 0
UseLH 1
UseRH 1
nsubsamp 100
PenaltySign  -1
PenaltySlope 0.500000
PenaltyCenter 0.000000
surfname white
GMProjFrac 0.500000
WMProjAbs 2.000000
lhcostfile (null)
rhcostfile (null)
interp  trilinear (1)
frame  0
TolPowell 0.000100
nMaxItersPowell 36
n1dmin  3
Profile   0
Gdiag_no  -1
AddNoise  0 (0)
SynthSeed 1489838081
TransRandMax 0.000000
RotRandMax 0.000000
Translations 0.000000 0.000000 0.000000
Rotations   0.000000 0.000000 0.000000
Input reg
-1.000   0.009   0.021   1.949;
 0.020  -0.129   0.991  -16.939;
-0.012  -0.992  -0.129  -11.406;
 0.000   0.000   0.000   1.000;

Loading mov
Projecting LH Surfs
Loading lh.white surf
Loading lh.thickness for GM
GM Proj: 1 0.500000 2.000000
WM Proj: 0 0.500000 2.000000
Projecting RH Surfs
Loading rh.white surf
Loading rh.thickness
Projecting RH Surfs
Computing relative cost
 0  -25.0 -25.0 -25.0   1.027997
 1  -25.0 -25.0  25.0   1.030750
 2  -25.0  25.0 -25.0   0.973608
 3  -25.0  25.0  25.0   0.975537
 4   25.0 -25.0 -25.0   1.014442
 5   25.0 -25.0  25.0   0.978995
 6   25.0  25.0 -25.0   0.990011
 7   25.0  25.0  25.0   0.995758
REL:  8  0.935726    7.987098  0.998387 rel = 0.937238 
Initial costs ----------------
Number of surface hits 2443
WM  Intensity   416.2299 +/- 155.0416
Ctx Intensity   431.7893 +/- 167.5710
Pct Contrast      3.0567 +/-  29.7043
Cost   0.9357
RelCost   0.9372

------------------------------------
Brute force preopt -4 4 4, n = 729
     0  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000      0.9312   0.9312  0.0
     5  -4.0000  -4.0000  -4.0000  -4.0000   0.0000   4.0000      0.9019   0.9019  0.0
    43  -4.0000  -4.0000   0.0000   0.0000   4.0000   0.0000      0.8972   0.8972  0.0
    57  -4.0000  -4.0000   4.0000  -4.0000   0.0000  -4.0000      0.8971   0.8971  0.0
   147  -4.0000   0.0000   4.0000   0.0000   0.0000  -4.0000      0.8803   0.8803  0.0
   248   0.0000  -4.0000  -4.0000  -4.0000   0.0000   4.0000      0.8774   0.8774  0.0
   298   0.0000  -4.0000   4.0000  -4.0000  -4.0000   0.0000      0.8429   0.8429  0.0
Brute Force --------------------------
Min cost was 0.842937
Number of iterations   729
Search time 1.299000 sec
Parameters at best (transmm, rotdeg)
  0.000  -4.000   4.000 -4.000 -4.000  0.000 
--------------------------------------------

Starting Powell Minimization
Init Powel Params dof = 6
0 0
1 -4
2 4
3 -4
4 -4
5 0
   5 -0.618 -4.000  4.000 -4.000 -4.000  0.000   0.8405001649
   7 -0.421 -4.000  4.000 -4.000 -4.000  0.000   0.8375221625
   9 -0.475 -4.000  4.000 -4.000 -4.000  0.000   0.8372275883
  10 -0.461 -4.000  4.000 -4.000 -4.000  0.000   0.8369199790
  11 -0.452 -4.000  4.000 -4.000 -4.000  0.000   0.8367840658
  18 -0.452 -5.618  4.000 -4.000 -4.000  0.000   0.8201071201
  26 -0.452 -5.764  4.000 -4.000 -4.000  0.000   0.8146586457
  27 -0.452 -5.786  4.000 -4.000 -4.000  0.000   0.8145243885
  29 -0.452 -5.783  4.000 -4.000 -4.000  0.000   0.8145215333
  30 -0.452 -5.784  4.000 -4.000 -4.000  0.000   0.8145212874
  40 -0.452 -5.784  4.027 -4.000 -4.000  0.000   0.8144362340
  41 -0.452 -5.784  4.017 -4.000 -4.000  0.000   0.8143850610
  42 -0.452 -5.784  4.016 -4.000 -4.000  0.000   0.8143826528
  43 -0.452 -5.784  4.012 -4.000 -4.000  0.000   0.8143783297
  55 -0.452 -5.784  4.012 -3.996 -4.000  0.000   0.8143609163
  64 -0.452 -5.784  4.012 -3.996 -3.961  0.000   0.8139759896
  67 -0.452 -5.784  4.012 -3.996 -3.957  0.000   0.8139722804
  68 -0.452 -5.784  4.012 -3.996 -3.958  0.000   0.8139711088
  76 -0.452 -5.784  4.012 -3.996 -3.958 -0.004   0.8139472884
  80 -0.452 -5.784  4.012 -3.996 -3.958 -0.015   0.8139082913
  81 -0.452 -5.784  4.012 -3.996 -3.958 -0.019   0.8139070000
  85 -0.452 -5.784  4.012 -3.996 -3.958 -0.021   0.8139066173
  88 -0.452 -5.784  4.012 -3.996 -3.958 -0.022   0.8139065880
 111 -0.452 -5.782  4.012 -3.996 -3.958 -0.022   0.8139064809
 112 -0.452 -5.781  4.012 -3.996 -3.958 -0.022   0.8139053510
 122 -0.452 -5.781  4.011 -3.996 -3.958 -0.022   0.8139020678
 123 -0.452 -5.781  4.007 -3.996 -3.958 -0.022   0.8138982243
 135 -0.452 -5.781  4.007 -3.997 -3.958 -0.022   0.8138981609
 147 -0.452 -5.781  4.007 -3.997 -3.955 -0.022   0.8138953264
 148 -0.452 -5.781  4.007 -3.997 -3.956 -0.022   0.8138927826
 160 -0.452 -5.781  4.007 -3.997 -3.956 -0.019   0.8138904708
 162 -0.452 -5.781  4.007 -3.997 -3.956 -0.020   0.8138902829
Powell done niters = 1
Computing relative cost
 0  -25.0 -25.0 -25.0   0.985640
 1  -25.0 -25.0  25.0   0.939503
 2  -25.0  25.0 -25.0   1.029377
 3  -25.0  25.0  25.0   0.965849
 4   25.0 -25.0 -25.0   1.027496
 5   25.0 -25.0  25.0   0.999384
 6   25.0  25.0 -25.0   0.975935
 7   25.0  25.0  25.0   1.008673
REL:  8  0.813890    7.931857  0.991482 rel = 0.820882 
Number of iterations     1
Min cost was 0.813890
Number of FunctionCalls   164
TolPowell 0.000100
nMaxItersPowell 36
OptimizationTime 0.226000 sec
Parameters at optimum (transmm) -0.45212 -5.78147  4.00743
Parameters at optimum (rotdeg) -3.99667 -3.95628 -0.02006 
Final costs ----------------
Number of surface hits 2441
WM  Intensity   394.4896 +/- 139.0552
Ctx Intensity   418.1332 +/- 154.1192
Pct Contrast      4.7451 +/-  32.5056
Cost   0.8139
RelCost   0.9372
Reg at min cost was 
-0.996   0.077   0.035   2.190;
 0.019  -0.198   0.980  -23.475;
-0.082  -0.977  -0.196  -6.031;
 0.000   0.000   0.000   1.000;

Writing optimal reg to ./tmp.bbregister.19544/bbr.pass1.dat, type = 14 
Original Reg 
-1.000   0.009   0.021   1.949;
 0.020  -0.129   0.991  -16.939;
-0.012  -0.992  -0.129  -11.406;
 0.000   0.000   0.000   1.000;

Original Reg - Optimal Reg
-0.003  -0.068  -0.014  -0.241;
 0.001   0.069   0.011   6.536;
 0.070  -0.014   0.067  -5.375;
 0.000   0.000   0.000   0.000;

Computing change in lh position
LH rmsDiffMean 8.260145
Computing change in rh position
Surface RMS Diff (mm) 7.388691 12.855200
mri_segreg done
mri_segreg --mov ./tmp.bbregister.19544/template.nii --init-reg ./tmp.bbregister.19544/bbr.pass1.dat --out-reg register.dat --brute -0.1 0.1 0.1 --interp trilinear --wm-proj-abs 2 --tol 1e-8 --tol1d 1e-3 --c0 0 --mincost register.dat.mincost --dof 6 --nmax 36 --param register.dat.param --surf white --cur-reg ./tmp.bbregister.19544/reg.curopt.dat --gm-proj-frac 0.5 --nsub 1 --gm-gt-wm 0.5
$Id: mri_segreg.c,v 1.103.2.1 2011/10/07 19:14:42 greve Exp $
setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc
mri_segreg --mov ./tmp.bbregister.19544/template.nii --init-reg ./tmp.bbregister.19544/bbr.pass1.dat --out-reg register.dat --brute -0.1 0.1 0.1 --interp trilinear --wm-proj-abs 2 --tol 1e-8 --tol1d 1e-3 --c0 0 --mincost register.dat.mincost --dof 6 --nmax 36 --param register.dat.param --surf white --cur-reg ./tmp.bbregister.19544/reg.curopt.dat --gm-proj-frac 0.5 --nsub 1 --gm-gt-wm 0.5 
sysname  Linux
hostname hpcnode041.adqimr.ad.lan
machine  x86_64
user     alistaiP
movvol ./tmp.bbregister.19544/template.nii
regfile ./tmp.bbregister.19544/bbr.pass1.dat
subject Long
dof 6
outregfile register.dat
UseMask 0
UseLH 1
UseRH 1
nsubsamp 1
PenaltySign  -1
PenaltySlope 0.500000
PenaltyCenter 0.000000
surfname white
GMProjFrac 0.500000
WMProjAbs 2.000000
lhcostfile (null)
rhcostfile (null)
interp  trilinear (1)
frame  0
TolPowell 0.000000
nMaxItersPowell 36
n1dmin  3
Profile   0
Gdiag_no  -1
AddNoise  0 (0)
SynthSeed 1490404526
TransRandMax 0.000000
RotRandMax 0.000000
Translations 0.000000 0.000000 0.000000
Rotations   0.000000 0.000000 0.000000
Input reg
-0.996   0.077   0.035   2.190;
 0.019  -0.198   0.980  -23.475;
-0.082  -0.977  -0.196  -6.031;
 0.000   0.000   0.000   1.000;

Loading mov
Projecting LH Surfs
Loading lh.white surf
Loading lh.thickness for GM
GM Proj: 1 0.500000 2.000000
WM Proj: 0 0.500000 2.000000
Projecting RH Surfs
Loading rh.white surf
Loading rh.thickness
Projecting RH Surfs
Computing relative cost
 0  -25.0 -25.0 -25.0   1.024515
 1  -25.0 -25.0  25.0   0.972015
 2  -25.0  25.0 -25.0   1.019235
 3  -25.0  25.0  25.0   1.011176
 4   25.0 -25.0 -25.0   1.018355
 5   25.0 -25.0  25.0   1.020459
 6   25.0  25.0 -25.0   0.979175
 7   25.0  25.0  25.0   1.020588
REL:  8  0.879841    8.065517  1.008190 rel = 0.872694 
Initial costs ----------------
Number of surface hits 245016
WM  Intensity   395.6068 +/- 135.7420
Ctx Intensity   413.8714 +/- 151.3394
Pct Contrast      3.3180 +/-  31.8344
Cost   0.8798
RelCost   0.8727

------------------------------------
Brute force preopt -0.1 0.1 0.1, n = 729
     0  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000      0.8240   0.8240  0.0
     1  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000   0.0000      0.8222   0.8222  0.0
     3  -0.1000  -0.1000  -0.1000  -0.1000   0.0000  -0.1000      0.8195   0.8195  0.0
     4  -0.1000  -0.1000  -0.1000  -0.1000   0.0000   0.0000      0.8179   0.8179  0.0
    12  -0.1000  -0.1000  -0.1000   0.0000   0.0000  -0.1000      0.8174   0.8174  0.0
    13  -0.1000  -0.1000  -0.1000   0.0000   0.0000   0.0000      0.8165   0.8165  0.0
    16  -0.1000  -0.1000  -0.1000   0.0000   0.1000   0.0000      0.8164   0.8164  0.0
   104  -0.1000   0.0000  -0.1000   0.1000   0.0000   0.1000      0.8150   0.8150  0.0
   122  -0.1000   0.0000   0.0000   0.0000   0.0000   0.1000      0.8149   0.8149  0.0
   212  -0.1000   0.1000   0.0000   0.1000   0.0000   0.1000      0.8147   0.8147  0.0
   350   0.0000   0.0000  -0.1000   0.1000   0.1000   0.1000      0.8141   0.8141  0.0
   364   0.0000   0.0000   0.0000   0.0000   0.0000   0.0000      0.8139   0.8139  0.0
   608   0.1000   0.0000   0.0000   0.0000   0.0000   0.1000      0.8137   0.8137  0.0
   716   0.1000   0.1000   0.1000   0.0000   0.0000   0.1000      0.8136   0.8136  0.0
Brute Force --------------------------
Min cost was 0.813626
Number of iterations   729
Search time 0.976000 sec
Parameters at best (transmm, rotdeg)
  0.100   0.100   0.100  0.000  0.000  0.100 
--------------------------------------------

Starting Powell Minimization
Init Powel Params dof = 6
0 0.1
1 0.1
2 0.1
3 0
4 0
5 0.1
   7 -0.172  0.100  0.100  0.000  0.000  0.100   0.8780324902
   9 -0.104  0.100  0.100  0.000  0.000  0.100   0.8780004329
  11 -0.128  0.100  0.100  0.000  0.000  0.100   0.8779908744
  12 -0.126  0.100  0.100  0.000  0.000  0.100   0.8779880900
  21 -0.126  0.482  0.100  0.000  0.000  0.100   0.8770155652
  22 -0.126  0.464  0.100  0.000  0.000  0.100   0.8769894596
  23 -0.126  0.407  0.100  0.000  0.000  0.100   0.8768280037
  24 -0.126  0.290  0.100  0.000  0.000  0.100   0.8766205218
  26 -0.126  0.335  0.100  0.000  0.000  0.100   0.8765933156
  27 -0.126  0.322  0.100  0.000  0.000  0.100   0.8765756250
  28 -0.126  0.317  0.100  0.000  0.000  0.100   0.8765730372
  30 -0.126  0.315  0.100  0.000  0.000  0.100   0.8765726981
  34 -0.126  0.315  1.100  0.000  0.000  0.100   0.8745706834
  38 -0.126  0.315  0.718  0.000  0.000  0.100   0.8743755829
  41 -0.126  0.315  0.761  0.000  0.000  0.100   0.8743099128
  43 -0.126  0.315  0.759  0.000  0.000  0.100   0.8743083769
  46 -0.126  0.315  0.758  0.000  0.000  0.100   0.8743075266
  47 -0.126  0.315  0.757  0.000  0.000  0.100   0.8743069127
  53 -0.126  0.315  0.757  0.382  0.000  0.100   0.8739632952
  54 -0.126  0.315  0.757  0.304  0.000  0.100   0.8737642512
  56 -0.126  0.315  0.757  0.279  0.000  0.100   0.8737536537
  59 -0.126  0.315  0.757  0.270  0.000  0.100   0.8737530055
  62 -0.126  0.315  0.757  0.271  0.000  0.100   0.8737527144
  69 -0.126  0.315  0.757  0.271  0.014  0.100   0.8737441326
  70 -0.126  0.315  0.757  0.271  0.043  0.100   0.8737284917
  72 -0.126  0.315  0.757  0.271  0.099  0.100   0.8737273313
  77 -0.126  0.315  0.757  0.271  0.103  0.100   0.8737247157
  78 -0.126  0.315  0.757  0.271  0.105  0.100   0.8737232915
  82 -0.126  0.315  0.757  0.271  0.105  1.100   0.8722318774
  86 -0.126  0.315  0.757  0.271  0.105  0.718   0.8713899392
  89 -0.126  0.315  0.757  0.271  0.105  0.663   0.8713155512
  90 -0.126  0.315  0.757  0.271  0.105  0.586   0.8713044949
  91 -0.126  0.315  0.757  0.271  0.105  0.617   0.8712757632
  93 -0.126  0.315  0.757  0.271  0.105  0.615   0.8712755080
  95 -0.126  0.315  0.757  0.271  0.105  0.614   0.8712754563
 103 -0.217  0.315  0.757  0.271  0.105  0.614   0.8712433615
 110 -0.218  0.315  0.757  0.271  0.105  0.614   0.8712406968
 117 -0.218  0.497  0.757  0.271  0.105  0.614   0.8709209725
 118 -0.218  0.494  0.757  0.271  0.105  0.614   0.8709144122
 119 -0.218  0.439  0.757  0.271  0.105  0.614   0.8709039506
 121 -0.218  0.465  0.757  0.271  0.105  0.614   0.8708997610
 122 -0.218  0.459  0.757  0.271  0.105  0.614   0.8708997108
 123 -0.218  0.462  0.757  0.271  0.105  0.614   0.8708996908
 132 -0.218  0.462  0.854  0.271  0.105  0.614   0.8707830676
 133 -0.218  0.462  0.868  0.271  0.105  0.614   0.8707674184
 135 -0.218  0.462  0.907  0.271  0.105  0.614   0.8707601952
 136 -0.218  0.462  0.893  0.271  0.105  0.614   0.8707568336
 137 -0.218  0.462  0.892  0.271  0.105  0.614   0.8707558727
 138 -0.218  0.462  0.883  0.271  0.105  0.614   0.8707528518
 141 -0.218  0.462  0.881  0.271  0.105  0.614   0.8707514323
 142 -0.218  0.462  0.880  0.271  0.105  0.614   0.8707505554
 151 -0.218  0.462  0.880  0.259  0.105  0.614   0.8707459510
 152 -0.218  0.462  0.880  0.252  0.105  0.614   0.8707420674
 154 -0.218  0.462  0.880  0.247  0.105  0.614   0.8707413115
 155 -0.218  0.462  0.880  0.246  0.105  0.614   0.8707412236
 156 -0.218  0.462  0.880  0.245  0.105  0.614   0.8707410294
 157 -0.218  0.462  0.880  0.240  0.105  0.614   0.8707407265
 158 -0.218  0.462  0.880  0.242  0.105  0.614   0.8707360556
 167 -0.218  0.462  0.880  0.242  0.062  0.614   0.8706671061
 168 -0.218  0.462  0.880  0.242  0.056  0.614   0.8706434424
 196 -0.194  0.462  0.880  0.242  0.056  0.614   0.8706205091
 198 -0.190  0.462  0.880  0.242  0.056  0.614   0.8706186986
 199 -0.187  0.462  0.880  0.242  0.056  0.614   0.8706150718
 202 -0.186  0.462  0.880  0.242  0.056  0.614   0.8706136449
 203 -0.185  0.462  0.880  0.242  0.056  0.614   0.8706126232
 211 -0.185  0.465  0.880  0.242  0.056  0.614   0.8706114819
 212 -0.185  0.476  0.880  0.242  0.056  0.614   0.8706051224
 217 -0.185  0.478  0.880  0.242  0.056  0.614   0.8706045101
 237 -0.185  0.478  0.880  0.263  0.056  0.614   0.8705982516
 238 -0.185  0.478  0.880  0.259  0.056  0.614   0.8705973376
 239 -0.185  0.478  0.880  0.257  0.056  0.614   0.8705970618
 242 -0.185  0.478  0.880  0.256  0.056  0.614   0.8705967835
 251 -0.185  0.478  0.880  0.256  0.033  0.614   0.8705962990
 255 -0.185  0.478  0.880  0.256  0.037  0.614   0.8705901667
 272 -0.152  0.494  0.880  0.271  0.018  0.614   0.8705625857
 275 -0.099  0.519  0.880  0.294 -0.013  0.614   0.8705303405
 280 -0.103  0.517  0.880  0.292 -0.010  0.614   0.8705290890
 282 -0.101  0.518  0.880  0.293 -0.011  0.614   0.8705278208
 283 -0.100  0.519  0.880  0.294 -0.012  0.614   0.8705270422
 284 -0.100  0.519  0.880  0.294 -0.012  0.614   0.8705265626
 285 -0.099  0.519  0.880  0.294 -0.012  0.614   0.8705262309
 288 -0.099  0.519  0.880  0.294 -0.013  0.614   0.8705261692
 289 -0.099  0.519  0.880  0.294 -0.013  0.614   0.8705261472
 290 -0.099  0.519  0.880  0.294 -0.013  0.614   0.8705260766
 312 -0.099  0.547  0.880  0.294 -0.013  0.614   0.8705130498
 313 -0.099  0.543  0.880  0.294 -0.013  0.614   0.8705113611
 314 -0.099  0.540  0.880  0.294 -0.013  0.614   0.8705070621
 325 -0.099  0.540  0.850  0.294 -0.013  0.614   0.8704670082
 327 -0.099  0.540  0.822  0.294 -0.013  0.614   0.8704590961
 333 -0.099  0.540  0.821  0.294 -0.013  0.614   0.8704586488
 374 -0.099  0.540  0.821  0.294 -0.013  0.614   0.8704586467
 426 -0.099  0.540  0.821  0.295 -0.013  0.614   0.8704584247
 482 -0.099  0.541  0.821  0.295 -0.013  0.614   0.8704580895
 484 -0.099  0.542  0.821  0.295 -0.013  0.614   0.8704578399
Powell done niters = 6
Computing relative cost
 0  -25.0 -25.0 -25.0   1.020354
 1  -25.0 -25.0  25.0   0.977008
 2  -25.0  25.0 -25.0   1.021750
 3  -25.0  25.0  25.0   1.001991
 4   25.0 -25.0 -25.0   1.025122
 5   25.0 -25.0  25.0   1.020095
 6   25.0  25.0 -25.0   0.985699
 7   25.0  25.0  25.0   1.014817
REL:  8  0.870458    8.066838  1.008355 rel = 0.863246 
Number of iterations     6
Min cost was 0.870458
Number of FunctionCalls   620
TolPowell 0.000000
nMaxItersPowell 36
OptimizationTime 46.718000 sec
Parameters at optimum (transmm) -0.09918  0.54177  0.82056
Parameters at optimum (rotdeg)  0.29516 -0.01259  0.61365 
Final costs ----------------
Number of surface hits 244857
WM  Intensity   396.3609 +/- 140.6085
Ctx Intensity   415.3793 +/- 154.4737
Pct Contrast      3.5005 +/-  33.0562
Cost   0.8705
RelCost   0.8727
Reg at min cost was 
-0.997   0.079   0.024   2.343;
 0.009  -0.192   0.981  -22.877;
-0.082  -0.978  -0.191  -5.331;
 0.000   0.000   0.000   1.000;

Writing optimal reg to register.dat, type = 14 
Original Reg 
-0.996   0.077   0.035   2.190;
 0.019  -0.198   0.980  -23.475;
-0.082  -0.977  -0.196  -6.031;
 0.000   0.000   0.000   1.000;

Original Reg - Optimal Reg
 0.000  -0.002   0.010  -0.153;
 0.010  -0.006  -0.001  -0.598;
 0.000   0.001  -0.005  -0.700;
 0.000   0.000   0.000   0.000;

Computing change in lh position
LH rmsDiffMean 1.183650
Computing change in rh position
Surface RMS Diff (mm) 1.071832 1.595626
mri_segreg done
tkregister2_cmdl --mov biasmeanb0bet.nii.gz --reg register.dat --noedit --fslregout diff2FS.mat
tkregister_tcl /software/freesurfer/freesurfer-5.3.0/tktools/tkregister2.tcl
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume biasmeanb0bet.nii.gz
reg file       register.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.121.2.1 2011/03/28 20:25:16 greve Exp $
Diagnostic Level -1
---- Input registration matrix --------
-0.997   0.079   0.024   2.343;
 0.009  -0.192   0.981  -22.877;
-0.082  -0.978  -0.191  -5.331;
 0.000   0.000   0.000   1.000;
float2int = 0
---------------------------------------
INFO: loading target /working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/FS/Long/mri/orig.mgz
Ttarg: --------------------
-1.000   0.000   0.000   128.000;
 0.000   0.000   1.000  -128.000;
 0.000  -1.000   0.000   128.000;
 0.000   0.000   0.000   1.000;
INFO: loading movable biasmeanb0bet.nii.gz
Tmov: --------------------
-2.000   0.000   0.000   122.000;
 0.000   0.000   2.000  -70.000;
 0.000  -2.000   0.000   122.000;
 0.000   0.000   0.000   1.000;
mkheaderreg = 0, float2int = 0
---- Input registration matrix --------
-0.997   0.079   0.024   2.343;
 0.009  -0.192   0.981  -22.877;
-0.082  -0.978  -0.191  -5.331;
 0.000   0.000   0.000   1.000;
Determinant -0.999999
subject = Long
RegMat ---------------------------
-0.997   0.079   0.024   2.343;
 0.009  -0.192   0.981  -22.877;
-0.082  -0.978  -0.191  -5.331;
 0.000   0.000   0.000   1.000;
FSLOUTPUTTYPE NIFTI_GZ 
tkreg2FSL: mov det = 8, ref det = -1
INFO: FSL2FreeSurfer: Mov volume is NIFTI with positive det,
      applying LR flip to registration matrix.
Cleaning up
 
Started at Thu Mar 16 01:49:31 AEST 2017 
Ended   at Thu Mar 16 01:51:18 AEST 2017
BBR-Run-Time-Sec 107
 
bbregister Done
To check results, run:
tkregister2 --mov biasmeanb0bet.nii.gz --reg register.dat --surf
 
dwi2response: [03;32m[0m
dwi2response: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation. Please consult the help page (-help option) for more information.[0m
dwi2response: [03;32m[0m
dwi2response: [03;32mGenerated temporary directory: /tmp/dwi2response-tmp-NWK5Y0/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/biascorr.mif /tmp/dwi2response-tmp-NWK5Y0/dwi.mif -stride 0,0,0,1
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/biasmeanb0bet_mask.nii.gz /tmp/dwi2response-tmp-NWK5Y0/mask.mif -datatype bit
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/r5TT.nii /tmp/dwi2response-tmp-NWK5Y0/5tt.mif
dwi2response: [03;32mChanging to temporary directory (/tmp/dwi2response-tmp-NWK5Y0/)[0m
[03;34mCommand:[0m dwi2tensor dwi.mif - -mask mask.mif | tensor2metric - -fa fa.mif -vector vector.mif
[03;34mCommand:[0m mrtransform 5tt.mif 5tt_regrid.mif -template fa.mif -interp linear
[03;34mCommand:[0m mrconvert 5tt_regrid.mif - -coord 3 2 -axes 0,1,2 | mrcalc - 0.95 -gt mask.mif -mult wm_mask.mif
[03;34mCommand:[0m mrconvert 5tt_regrid.mif - -coord 3 0 -axes 0,1,2 | mrcalc - 0.95 -gt fa.mif 0.2 -lt -mult mask.mif -mult gm_mask.mif
[03;34mCommand:[0m mrconvert 5tt_regrid.mif - -coord 3 3 -axes 0,1,2 | mrcalc - 0.95 -gt fa.mif 0.2 -lt -mult mask.mif -mult csf_mask.mif
dwi2response: [03;32mCalling dwi2response recursively to select WM single-fibre voxels using 'tournier' algorithm[0m
[03;34mCommand:[0m dwi2response tournier dwi.mif wm_ss_response.txt -mask wm_mask.mif -voxels wm_sf_mask.mif -quiet -tempdir /tmp/dwi2response-tmp-NWK5Y0/
[03;34mCommand:[0m dwiextract dwi.mif -shell 0 dwi_b0.mif
[03;34mCommand:[0m amp2sh dwi_b0.mif - | sh2response - wm_sf_mask.mif dirs.mif wm_response_b0.txt
[03;34mCommand:[0m mrmath dwi_b0.mif mean dwi_b0_mean.mif -axis 3
[03;34mCommand:[0m dwiextract dwi.mif -shell 1000 dwi_b1000.mif
[03;34mCommand:[0m amp2sh dwi_b1000.mif - | sh2response - wm_sf_mask.mif dirs.mif wm_response_b1000.txt
[03;34mCommand:[0m mrmath dwi_b1000.mif mean dwi_b1000_mean.mif -axis 3
[03;34mCommand:[0m dwiextract dwi.mif -shell 2990 dwi_b2990.mif
[03;34mCommand:[0m amp2sh dwi_b2990.mif - | sh2response - wm_sf_mask.mif dirs.mif wm_response_b2990.txt
[03;34mCommand:[0m mrmath dwi_b2990.mif mean dwi_b2990_mean.mif -axis 3
[03;34mCommand:[0m mrcat csf_mask.mif gm_mask.mif wm_sf_mask.mif voxels.mif -axis 3
dwi2response: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc)[0m
dwi2response: [03;32mDeleting temporary directory /tmp/dwi2response-tmp-NWK5Y0/[0m
