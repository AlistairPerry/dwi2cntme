dwipreproc_cust: [03;32m[0m
dwipreproc_cust: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
dwipreproc_cust: [03;32m[0m
dwipreproc_cust: [03;32mGenerated temporary directory: /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_040/preproc/dwipreproc_cust-tmp-NQJ1R3/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_040/preproc/rawdataAPdn.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_040/preproc/dwipreproc_cust-tmp-NQJ1R3/series.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_040/preproc/AP7b0s.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_040/preproc/dwipreproc_cust-tmp-NQJ1R3/pair1.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_040/preproc/rawdataPAdn.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_040/preproc/dwipreproc_cust-tmp-NQJ1R3/pair2.mif
dwipreproc_cust: [03;32mChanging to temporary directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_040/preproc/dwipreproc_cust-tmp-NQJ1R3/)[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 102[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -dwgrad' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult:           0           0           0           0
          0           0           0           0
  -0.999992 -0.00334854  0.00234455        3000
  0.0258138   -0.744194   -0.667464        3000
-0.00361646    0.517427     0.85572        3000
   0.272897    0.827765   -0.490238        3000
  -0.651471     0.40421   -0.642028        3000
    0.50724    0.261363    0.821217        3000
   0.959269    0.280752   0.0313174        3000
   0.534911    0.379841   -0.754713        3000
  -0.316782    0.128063   -0.939813        3000
          0           0           0           0
   0.504934   -0.590421   -0.629639        3000
   0.600389   0.0894422   -0.794691        3000
  -0.953675   -0.155801   -0.257352        3000
  -0.528202   -0.742068     0.41272        3000
   0.194118   -0.924837      0.3271        3000
  -0.365212    0.925718  -0.0983138        3000
   0.259502    0.930335    0.259106        3000
  0.0232102    0.509791   -0.859985        3000
  -0.614488    0.788338  -0.0304558        3000
          0           0           0           0
     0.8723   0.0375472    0.487528        3000
  -0.743922   -0.229466    0.627635        3000
   0.487497    0.676091    0.552492        3000
   -0.45175    -0.89038  -0.0560877        3000
  -0.662047   -0.431133    -0.61304        3000
  -0.853704    0.236384   -0.464016        3000
  -0.438926   -0.505746   -0.742674        3000
   0.957458   -0.139778    -0.25246        3000
  -0.703228   -0.594403   -0.390072        3000
          0           0           0           0
  -0.387424   -0.179663    0.904226        3000
   0.143159   -0.680659    0.718477        3000
  -0.803135    -0.59552   0.0181645        3000
  -0.288556   -0.136949   -0.947618        3000
   0.963145   -0.127976    0.236589        3000
  -0.151435   -0.695732    0.702157        3000
 -0.0176237   -0.982863   -0.183494        3000
  -0.377094   -0.897224    0.229758        3000
   0.668296    0.728399    0.151052        3000
          0           0           0           0
  -0.290728   -0.465193    0.836106        3000
  -0.721403   -0.163413   -0.672959        3000
   0.717376   -0.658072    0.228721        3000
   0.428478   -0.580464    0.692437        3000
   0.958942   -0.282396   -0.026144        3000
   0.493291    -0.29571    0.818059        3000
  -0.894695    0.397467   -0.203815        3000
   0.203545    0.978734  -0.0254919        3000
  -0.230731    0.965538    0.120415        3000
          0           0           0           0
   0.740036    0.599249   -0.305364        3000
    0.84429    0.335289   -0.418038        3000
   0.105075   -0.283703    0.953138        3000
   0.239354    0.398978     0.88517        3000
   0.614073    0.777891   -0.133415        3000
  -0.266783     0.45626   -0.848913        3000
  -0.658632   -0.512393    0.551051        3000
   0.256896   -0.895051   -0.364537        3000
    -0.2493   -0.820082   -0.515088        3000
          0           0           0           0
  -0.573114    0.658392   -0.487914        3000
 -0.0227889   -0.248133   -0.968458        3000
  -0.224468    0.320628    0.920224        3000
   0.836782    0.322664    0.442362        3000
   0.860618    0.464989    0.207659        3000
  -0.487716   -0.809672   -0.326443        3000
   0.106747    0.947259   -0.302166        3000
   -0.54187  0.00466392   -0.840449        3000
   0.250518   -0.576145   -0.778009        3000
          0           0           0           0
   0.228826  -0.0498634    -0.97219        3000
   0.215939    0.652376    0.726482        3000
  -0.961687   -0.144487    0.232985        3000
  -0.311756    0.788245   -0.530546        3000
   0.870511   -0.429375   -0.240516        3000
  -0.844714    0.263951    0.465606        3000
   -0.89482   -0.410923    0.174468        3000
   0.703503   -0.678091   -0.212784        3000
   0.666323   -0.350701   -0.658044        3000
          0           0           0           0
   -0.51711    0.748995     0.41425        3000
   0.719914   -0.128405    0.682082        3000
  0.0403368  -0.0154535    0.999067        3000
  -0.827541    0.561358  0.00722819        3000
   -0.45272    0.385236    0.804138        3000
   0.879369     0.02932   -0.475238        3000
   0.148582    0.245838   -0.957855        3000
   0.768189   -0.482914    0.420333        3000
   0.478948   -0.134088   -0.867542        3000
          0           0           0           0
  -0.717457    0.532229     0.44943        3000
   0.482723   -0.821899    0.302424        3000
  -0.281864    0.761221    0.584033        3000
 -0.0172735    0.846885   -0.531495        3000
  0.0654048   -0.993202   0.0962862        3000
   0.421551    0.633151   -0.649164        3000
  -0.732911   0.0978378    0.673253        3000
 0.00119177    0.896237    0.443573        3000
   0.476069   -0.861869    -0.17476        3000
          0           0           0           0[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -stride' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 1 2 3 4[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair1.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair2.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
[03;34mCommand:[0m mrconvert series.mif dwi_pre_topup.nii -stride -1,+2,+3,+4
[03;34mCommand:[0m mrcat pair1.mif pair2.mif - -axis 3 | mrconvert - topup_in.nii -stride -1,+2,+3,+4
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair1.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair2.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
dwipreproc_cust: [03;32mCreating phase-encoding configuration file[0m
[03;34mCommand:[0m topup --imain=topup_in.nii --datain=config.txt --out=field --fout=field_map.nii.gz --config=/software/fsl/fsl-5.0.9_eddy/fsl/etc/flirtsch/b02b0.cnf
[03;34mCommand:[0m applytopup --imain=dwi_pre_topup.nii --datain=config.txt --inindex=1 --topup=field --out=dwi_post_topup.nii.gz --method=jac
[03;34mCommand:[0m mrconvert series.mif - -stride -1,+2,+3,+4 | mrinfo - -export_grad_fsl bvecs bvals
[03;34mCommand:[0m mrconvert dwi_post_topup.nii.gz -fslgrad bvecs bvals - | dwi2mask - - | maskfilter - dilate - | mrconvert - mask.nii -datatype float32 -stride -1,+2,+3
[03;34mCommand:[0m eddy_openmp --imain=dwi_pre_topup.nii --mask=mask.nii --index=indices.txt --acqp=config.txt --bvecs=bvecs --bvals=bvals --repol --topup=field --out=dwi_post_eddy
[03;34mCommand:[0m mrconvert dwi_post_eddy.nii.gz result.mif -stride 1,2,3,4 -fslgrad dwi_post_eddy.eddy_rotated_bvecs bvals
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_040/preproc/eddycorr.mif -export_grad_mrtrix /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_040/preproc/adjencoding.b
dwipreproc_cust: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_040/preproc)[0m
dwipreproc_cust: [03;32mDeleting temporary directory /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_040/preproc/dwipreproc_cust-tmp-NQJ1R3/[0m
dwibiascorrect: [03;32m[0m
dwibiascorrect: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
dwibiascorrect: [03;32m[0m
dwibiascorrect: [03;32mGenerated temporary directory: /tmp/dwibiascorrect-tmp-3412HE/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_040/preproc/eddycorr.mif /tmp/dwibiascorrect-tmp-3412HE/in.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_040/preproc/eddymeanb0bet_mask.nii.gz /tmp/dwibiascorrect-tmp-3412HE/mask.mif
dwibiascorrect: [03;32mChanging to temporary directory (/tmp/dwibiascorrect-tmp-3412HE/)[0m
[03;34mCommand:[0m dwiextract in.mif - -bzero | mrmath - mean mean_bzero.mif -axis 3
[03;34mCommand:[0m mrcalc mean_bzero.mif mask.mif -mult - | mrconvert - mean_bzero_masked.nii -stride -1,+2,+3
[03;34mCommand:[0m fast -t 2 -o fast -n 3 -b mean_bzero_masked.nii
[03;34mCommand:[0m mrcalc in.mif fast_bias.nii.gz -div result.mif
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_040/preproc/biascorr.mif
dwibiascorrect: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_040/preproc)[0m
dwibiascorrect: [03;32mDeleting temporary directory /tmp/dwibiascorrect-tmp-3412HE/[0m
Extracting mean of the b=0 shell.
Extracting mean of the b=3000 shell.
Extracting mean of the b=0 shell.
Extracting mean of the b=3000 shell.
20153
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mGenerated temporary directory: /tmp/labelsgmfix-tmp-3003K0/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_040/preproc/parctempstr.nii /tmp/labelsgmfix-tmp-3003K0/parc.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_040/preproc/brainFS.nii /tmp/labelsgmfix-tmp-3003K0/T1.nii -stride -1,+2,+3
labelsgmfix: [03;32mChanging to temporary directory (/tmp/labelsgmfix-tmp-3003K0/)[0m
[03;34mCommand:[0m run_first_all -s R_Thal,L_Puta,R_Caud,R_Hipp,L_Amyg,R_Pall,R_Amyg,L_Caud,L_Pall,L_Thal,L_Hipp,R_Accu,L_Accu,R_Puta -i T1.nii -b -o first
[03;34mCommand:[0m mrcalc parc.mif 0 -min sgm.mif
[03;34mCommand:[0m meshconvert first-R_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Thal_mask.mif 6 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Puta_mask.mif 3 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Caud_mask.mif 7 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Hipp_mask.mif 13 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Amyg_mask.mif 12 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Pall_mask.mif 9 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Amyg_mask.mif 14 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Caud_mask.mif 2 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Pall_mask.mif 4 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Thal_mask.mif 1 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Hipp_mask.mif 11 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Accu_mask.mif 10 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Accu_mask.mif 5 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Puta_mask.mif 8 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m mrmath R_Thal_mask.mif L_Puta_mask.mif R_Caud_mask.mif R_Hipp_mask.mif L_Amyg_mask.mif R_Pall_mask.mif R_Amyg_mask.mif L_Caud_mask.mif L_Pall_mask.mif L_Thal_mask.mif L_Hipp_mask.mif R_Accu_mask.mif L_Accu_mask.mif R_Puta_mask.mif sum - | mrcalc - 1 -gt sgm_overlap_mask.mif
[03;34mCommand:[0m mrcalc sgm_overlap_mask.mif 0 sgm.mif -if sgm_masked.mif
[03;34mCommand:[0m labelconvert sgm_masked.mif /software/mrtrix3/mrtrix3-AP/scripts/data/FreeSurferSGM.txt /software/mrtrix3/mrtrix3-AP/src/connectome/tables/fs_a2009s.txt sgm_new_labels.mif
[03;34mCommand:[0m mrcalc parc.mif 83 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 78 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 84 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 87 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 81 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 86 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 88 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 77 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 79 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 76 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 80 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 89 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 82 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 85 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc sgm_new_labels.mif 0.5 -gt sgm_new_labels.mif parc.mif -if result.mif -datatype uint32
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_040/preproc/parc_fixsubcort.nii
labelsgmfix: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_040/preproc)[0m
labelsgmfix: [03;32mDeleting temporary directory /tmp/labelsgmfix-tmp-3003K0/[0m
tmp ./tmp.bbregister.6162
Log file is register.dat.log
Sat Mar 18 07:01:04 AEST 2017

setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/Park/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_040/preproc
/software/freesurfer/freesurfer-6.0.0/bin/bbregister --s Patient_040 --mov biasmeanb0bet.nii.gz --init-fsl --reg register.dat --dti --fslmat diff2FS.mat

$Id: bbregister,v 1.75 2016/05/10 20:02:28 greve Exp $
Linux hpcnode060.adqimr.ad.lan 3.10.0-327.3.1.el7.x86_64 #1 SMP Wed Dec 9 14:09:15 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
FREESURFER_HOME /software/freesurfer/freesurfer-6.0.0
mri_convert biasmeanb0bet.nii.gz ./tmp.bbregister.6162/template.nii
mri_convert.bin biasmeanb0bet.nii.gz ./tmp.bbregister.6162/template.nii 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from biasmeanb0bet.nii.gz...
TR=1000.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (0.999208, -0.0190456, -0.0349475)
j_ras = (0.0249436, 0.983899, 0.176979)
k_ras = (0.0310141, -0.17771, 0.983594)
writing to ./tmp.bbregister.6162/template.nii...
fslregister --s Patient_040 --mov ./tmp.bbregister.6162/template.nii --reg ./tmp.bbregister.6162/reg.init.dat --niters 1 --maxangle 90 --tmp ./tmp.bbregister.6162/fslregister --dof 6 --fsvol brainmask.mgz --nobetmov

Log file is ./tmp.bbregister.6162/reg.init.dat.fslregister.log

Sat Mar 18 07:01:04 AEST 2017
--s Patient_040 --mov ./tmp.bbregister.6162/template.nii --reg ./tmp.bbregister.6162/reg.init.dat --niters 1 --maxangle 90 --tmp ./tmp.bbregister.6162/fslregister --dof 6 --fsvol brainmask.mgz --nobetmov
$Id: fslregister,v 1.40 2016/02/12 21:43:15 zkaufman Exp $
hpcnode060.adqimr.ad.lan
Linux hpcnode060.adqimr.ad.lan 3.10.0-327.3.1.el7.x86_64 #1 SMP Wed Dec 9 14:09:15 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
nIters 1
--------------------------------------
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_040/preproc
mri_convert /working/lab_michaebr/alistaiP/Park/FS/Patient_040/mri/brainmask.mgz ./tmp.bbregister.6162/fslregister/refvol.fslregister.nii
mri_convert.bin /working/lab_michaebr/alistaiP/Park/FS/Patient_040/mri/brainmask.mgz ./tmp.bbregister.6162/fslregister/refvol.fslregister.nii 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from /working/lab_michaebr/alistaiP/Park/FS/Patient_040/mri/brainmask.mgz...
TR=0.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (-1, 4.65661e-10, 0)
j_ras = (1.86265e-09, 0, -1)
k_ras = (2.32831e-09, 1, 2.98023e-08)
writing to ./tmp.bbregister.6162/fslregister/refvol.fslregister.nii...
--------------------------------------
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_040/preproc
mri_convert ./tmp.bbregister.6162/template.nii ./tmp.bbregister.6162/fslregister/movvol.fslregister.nii --frame 0
mri_convert.bin ./tmp.bbregister.6162/template.nii ./tmp.bbregister.6162/fslregister/movvol.fslregister.nii --frame 0 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from ./tmp.bbregister.6162/template.nii...
TR=1000.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (0.999208, -0.0190456, -0.0349475)
j_ras = (0.0249436, 0.983899, 0.176979)
k_ras = (0.0310141, -0.17771, 0.983594)
keeping frame 0
writing to ./tmp.bbregister.6162/fslregister/movvol.fslregister.nii...
Mov determinant is 5.02197
Swapping dims for pos det
WARNING:: Flipping Left/Right orientation (as det < 0)
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
target  volume ./tmp.bbregister.6162/fslregister/movvol.fslregister.nii
movable volume ./tmp.bbregister.6162/template.nii
reg file       ./tmp.bbregister.6162/fslregister/swapreg.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target ./tmp.bbregister.6162/fslregister/movvol.fslregister.nii
INFO: target does not conform to COR format, so I'm going to
reslice to COR. This will not affect the final registration.
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.6162/template.nii
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 1, float2int = 0
Computing reg from header (and possibly input matrix)
---- Input registration matrix (computed) --------
-0.99921   0.01905   0.03495   1.71876;
 0.03101  -0.17771   0.98359   0.00000;
-0.02494  -0.98390  -0.17698   0.00002;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
-0.99921   0.01905   0.03495   1.71876;
 0.03101  -0.17771   0.98359   0.00000;
-0.02494  -0.98390  -0.17698   0.00002;
 0.00000   0.00000   0.00000   1.00000;
Determinant -1
subject = subject-unknown
RegMat ---------------------------
-1.00000  -0.00000   0.00000   1.71876;
 0.00000   1.00000   0.00000   0.00000;
-0.00000   0.00000   1.00000   0.00002;
 0.00000   0.00000   0.00000   1.00000;
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_040/preproc
tkregister2_cmdl --mov ./tmp.bbregister.6162/fslregister/movvol.fslregister.nii --reg ./tmp.bbregister.6162/fslregister/reg0.6202.dat --regheader --fslregout ./tmp.bbregister.6162/reg.init.dat.fsl.mat0 --s Patient_040 --noedit
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume ./tmp.bbregister.6162/fslregister/movvol.fslregister.nii
reg file       ./tmp.bbregister.6162/fslregister/reg0.6202.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target /working/lab_michaebr/alistaiP/Park/FS/Patient_040/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.6162/fslregister/movvol.fslregister.nii
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 1, float2int = 0
Computing reg from header (and possibly input matrix)
---- Input registration matrix (computed) --------
 0.99921  -0.01905  -0.03495   0.70800;
 0.03101  -0.17771   0.98359  -6.23688;
-0.02494  -0.98390  -0.17698  -3.67440;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
 0.99921  -0.01905  -0.03495   0.70800;
 0.03101  -0.17771   0.98359  -6.23688;
-0.02494  -0.98390  -0.17698  -3.67440;
 0.00000   0.00000   0.00000   1.00000;
Determinant 1
subject = Patient_040
RegMat ---------------------------
 0.99921  -0.01905  -0.03495   0.70800;
 0.03101  -0.17771   0.98359  -6.23688;
-0.02494  -0.98390  -0.17698  -3.67440;
 0.00000   0.00000   0.00000   1.00000;
FSLOUTPUTTYPE NIFTI 
tkreg2FSL: mov det = -5.02197, ref det = -1
Sat Mar 18 07:01:06 AEST 2017
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_040/preproc
flirt.fsl -ref ./tmp.bbregister.6162/fslregister/refvol.fslregister.nii -in ./tmp.bbregister.6162/fslregister/movvol.fslregister.nii -bins 256 -cost corratio -dof 6 -searchrx -90 90 -searchry -90 90 -searchrz -90 90 -verbose 0 -omat ./tmp.bbregister.6162/fslregister/fslmat0.trans.mat -schedule /software/freesurfer/freesurfer-6.0.0/bin/fsl.5.0.2.xyztrans.sch -init ./tmp.bbregister.6162/reg.init.dat.fsl.mat0
Sat Mar 18 07:01:39 AEST 2017
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_040/preproc
flirt.fsl -ref ./tmp.bbregister.6162/fslregister/refvol.fslregister.nii -in ./tmp.bbregister.6162/fslregister/movvol.fslregister.nii -bins 256 -cost corratio -dof 6 -searchrx -90 90 -searchry -90 90 -searchrz -90 90 -verbose 0 -omat ./tmp.bbregister.6162/reg.init.dat.fsl.mat -init ./tmp.bbregister.6162/fslregister/fslmat0.trans.mat -schedule /software/freesurfer/freesurfer-6.0.0/bin/flirt.newdefault.20080811.sch
tkregister2_cmdl --s Patient_040 --mov ./tmp.bbregister.6162/fslregister/movvol.fslregister.nii --reg ./tmp.bbregister.6162/reg.init.dat --fslreg ./tmp.bbregister.6162/reg.init.dat.fsl.mat --noedit
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
---- FSL registration matrix --------
 0.99952  -0.01891  -0.02455   22.77540;
-0.02734  -0.16559  -0.98581   221.49699;
 0.01458   0.98601  -0.16603   27.44070;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume ./tmp.bbregister.6162/fslregister/movvol.fslregister.nii
reg file       ./tmp.bbregister.6162/reg.init.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target /working/lab_michaebr/alistaiP/Park/FS/Patient_040/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.6162/fslregister/movvol.fslregister.nii
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 0, float2int = 0
FSLOUTPUTTYPE NIFTI 
fsl2TkReg: mov det = -5.02197, ref det = -1
---- Input registration matrix (computed) --------
 0.99952  -0.01458  -0.02734   0.80360;
 0.02455  -0.16603   0.98581  -3.60846;
-0.01891  -0.98601  -0.16559  -2.64551;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
 0.99952  -0.01458  -0.02734   0.80360;
 0.02455  -0.16603   0.98581  -3.60846;
-0.01891  -0.98601  -0.16559  -2.64551;
 0.00000   0.00000   0.00000   1.00000;
Determinant 0.999999
subject = Patient_040
RegMat ---------------------------
 0.99952  -0.01458  -0.02734   0.80360;
 0.02455  -0.16603   0.98581  -3.60846;
-0.01891  -0.98601  -0.16559  -2.64551;
 0.00000   0.00000   0.00000   1.00000;
mri_matrix_multiply -im ./tmp.bbregister.6162/fslregister/swapreg.dat -im ./tmp.bbregister.6162/reg.init.dat -om ./tmp.bbregister.6162/reg.init.dat
(standard_in) 1: illegal character: P
 
Started at Sat Mar 18 07:01:04 AEST 2017 
Ended   at Sat Mar 18 07:02:48 AEST 2017
 
fslregister Done
 
To check results, run:
tkregister2 --mov ./tmp.bbregister.6162/template.nii --reg ./tmp.bbregister.6162/reg.init.dat --surf orig
 
mri_segreg --mov ./tmp.bbregister.6162/template.nii --init-reg ./tmp.bbregister.6162/reg.init.dat --out-reg ./tmp.bbregister.6162/bbr.pass1.dat --subsamp-brute 100 --subsamp 100 --tol 1e-4 --tol1d 1e-3 --brute -4 4 4 --surf white --gm-proj-frac 0.5 --gm-gt-wm 0.5
$Id: mri_segreg.c,v 1.113 2016/05/10 03:23:20 greve Exp $
setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/Park/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_040/preproc
mri_segreg --mov ./tmp.bbregister.6162/template.nii --init-reg ./tmp.bbregister.6162/reg.init.dat --out-reg ./tmp.bbregister.6162/bbr.pass1.dat --subsamp-brute 100 --subsamp 100 --tol 1e-4 --tol1d 1e-3 --brute -4 4 4 --surf white --gm-proj-frac 0.5 --gm-gt-wm 0.5 
sysname  Linux
hostname hpcnode060.adqimr.ad.lan
machine  x86_64
user     alistaiP
movvol ./tmp.bbregister.6162/template.nii
regfile ./tmp.bbregister.6162/reg.init.dat
subject Patient_040
dof 6
outregfile ./tmp.bbregister.6162/bbr.pass1.dat
UseMask 0
UseLH 1
UseRH 1
nsubsamp 100
PenaltySign  -1
PenaltySlope 0.500000
PenaltyCenter 0.000000
surfname white
GMProjFrac 0.500000
WMProjAbs 2.000000
lhcostfile (null)
rhcostfile (null)
interp  trilinear (1)
frame  0
TolPowell 0.000100
nMaxItersPowell 36
n1dmin  3
Profile   0
Gdiag_no  -1
AddNoise  0 (0)
SynthSeed 1490053924
TransRandMax 0.000000
RotRandMax 0.000000
Translations 0.000000 0.000000 0.000000
Rotations   0.000000 0.000000 0.000000
Input reg
-0.99952   0.01458   0.02734   0.91515;
 0.02455  -0.16603   0.98581  -3.60846;
-0.01891  -0.98601  -0.16559  -2.64548;
 0.00000   0.00000   0.00000   1.00000;

Loading mov
Projecting LH Surfs
Loading lh.white surf
Loading lh.thickness for GM
GM Proj: 1 0.500000 2.000000
WM Proj: 0 0.500000 2.000000
Projecting RH Surfs
Loading rh.white surf
Loading rh.thickness for GM
Projecting RH Surfs
Using lh.cortex.label
Using rh.cortex.label
Computing relative cost
 0  -25.0 -25.0 -25.0   1.047546
 1  -25.0 -25.0  25.0   0.986745
 2  -25.0  25.0 -25.0   0.950715
 3  -25.0  25.0  25.0   1.046110
 4   25.0 -25.0 -25.0   0.998501
 5   25.0 -25.0  25.0   0.995479
 6   25.0  25.0 -25.0   0.962828
 7   25.0  25.0  25.0   0.993991
REL:  8  0.273463    7.981914  0.997739 rel = 0.274082 
Initial costs ----------------
Number of surface hits 2737
WM  Intensity   379.0482 +/-  81.1761
Ctx Intensity   538.9689 +/- 190.4382
Pct Contrast     30.7782 +/-  30.2410
Cost   0.2735
RelCost   0.2741

------------------------------------
Brute force preopt -4 4 4, n = 729
     0  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000      0.9754   0.9754  0.0
     1  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000   0.0000      0.9701   0.9701  0.0
     7  -4.0000  -4.0000  -4.0000  -4.0000   4.0000   0.0000      0.9415   0.9415  0.0
     8  -4.0000  -4.0000  -4.0000  -4.0000   4.0000   4.0000      0.9336   0.9336  0.0
    15  -4.0000  -4.0000  -4.0000   0.0000   4.0000  -4.0000      0.8512   0.8512  0.0
    33  -4.0000  -4.0000   0.0000  -4.0000   4.0000  -4.0000      0.8428   0.8428  0.0
    39  -4.0000  -4.0000   0.0000   0.0000   0.0000  -4.0000      0.8223   0.8223  0.0
   118  -4.0000   0.0000   0.0000   0.0000  -4.0000   0.0000      0.8214   0.8214  0.0
   120  -4.0000   0.0000   0.0000   0.0000   0.0000  -4.0000      0.8041   0.8041  0.0
   124  -4.0000   0.0000   0.0000   0.0000   4.0000   0.0000      0.7963   0.7963  0.0
   265   0.0000  -4.0000  -4.0000   4.0000   0.0000   0.0000      0.7918   0.7918  0.0
   274   0.0000  -4.0000   0.0000  -4.0000   0.0000   0.0000      0.6636   0.6636  0.0
   364   0.0000   0.0000   0.0000   0.0000   0.0000   0.0000      0.2735   0.2735  0.0
Brute Force --------------------------
Min cost was 0.273463
Number of iterations   729
Search time 3.503000 sec
Parameters at best (transmm, rotdeg)
  0.000   0.000   0.000  0.000  0.000  0.000 
--------------------------------------------

Starting Powell Minimization
Init Powel Params dof = 6
0 0
1 0
2 0
3 0
4 0
5 0
fs_powell::minimize
  nparams 6
  maxfev 36
  ftol   0.000100
  linmin_xtol_   0.001000
  powell nthiter 0: fret = 0.273463
   7  0.174  0.000  0.000  0.000  0.000  0.000   0.2715017542
   8  0.170  0.000  0.000  0.000  0.000  0.000   0.2713735737
   9  0.110  0.000  0.000  0.000  0.000  0.000   0.2711080933
  11  0.135  0.000  0.000  0.000  0.000  0.000   0.2710009600
  13  0.137  0.000  0.000  0.000  0.000  0.000   0.2710005662
  17  0.137 -1.618  0.000  0.000  0.000  0.000   0.1348415892
  18  0.137 -1.512  0.000  0.000  0.000  0.000   0.1272697428
  21  0.137 -1.292  0.000  0.000  0.000  0.000   0.1199434921
  22  0.137 -1.256  0.000  0.000  0.000  0.000   0.1199144190
  23  0.137 -1.271  0.000  0.000  0.000  0.000   0.1198089410
  28  0.137 -1.271  1.000  0.000  0.000  0.000   0.1134411962
  32  0.137 -1.271  0.618  0.000  0.000  0.000   0.1027056705
  33  0.137 -1.271  0.584  0.000  0.000  0.000   0.1018750437
  35  0.137 -1.271  0.498  0.000  0.000  0.000   0.1004964458
  37  0.137 -1.271  0.500  0.000  0.000  0.000   0.1004828629
  39  0.137 -1.271  0.512  0.000  0.000  0.000   0.1004227144
  41  0.137 -1.271  0.513  0.000  0.000  0.000   0.1004220324
  49  0.137 -1.271  0.513 -0.176  0.000  0.000   0.0993027076
  50  0.137 -1.271  0.513 -0.142  0.000  0.000   0.0991312566
  51  0.137 -1.271  0.513 -0.127  0.000  0.000   0.0991173660
  54  0.137 -1.271  0.513 -0.126  0.000  0.000   0.0991169323
  56  0.137 -1.271  0.513 -0.125  0.000  0.000   0.0991168853
  63  0.137 -1.271  0.513 -0.125 -0.111  0.000   0.0980834428
  64  0.137 -1.271  0.513 -0.125 -0.100  0.000   0.0980621207
  66  0.137 -1.271  0.513 -0.125 -0.102  0.000   0.0980604565
  68  0.137 -1.271  0.513 -0.125 -0.103  0.000   0.0980597370
  75  0.137 -1.271  0.513 -0.125 -0.103  0.382   0.0892582208
  76  0.137 -1.271  0.513 -0.125 -0.103  0.364   0.0892088754
  79  0.137 -1.271  0.513 -0.125 -0.103  0.362   0.0892067229
  powell nthiter 1: fret = 0.089207
  92  0.102 -1.271  0.513 -0.125 -0.103  0.362   0.0885203944
  93  0.081 -1.271  0.513 -0.125 -0.103  0.362   0.0885084423
  94  0.091 -1.271  0.513 -0.125 -0.103  0.362   0.0884176385
  95  0.092 -1.271  0.513 -0.125 -0.103  0.362   0.0884169860
 105  0.092 -1.261  0.513 -0.125 -0.103  0.362   0.0883864252
 107  0.092 -1.258  0.513 -0.125 -0.103  0.362   0.0883861205
 110  0.092 -1.259  0.513 -0.125 -0.103  0.362   0.0883856706
 117  0.092 -1.259  0.603 -0.125 -0.103  0.362   0.0882043455
 118  0.092 -1.259  0.575 -0.125 -0.103  0.362   0.0878312882
 119  0.092 -1.259  0.562 -0.125 -0.103  0.362   0.0878137263
 120  0.092 -1.259  0.566 -0.125 -0.103  0.362   0.0878113539
 131  0.092 -1.259  0.566 -0.113 -0.103  0.362   0.0877811327
 132  0.092 -1.259  0.566 -0.114 -0.103  0.362   0.0877805983
 133  0.092 -1.259  0.566 -0.115 -0.103  0.362   0.0877803915
 142  0.092 -1.259  0.566 -0.115 -0.081  0.362   0.0872353987
 144  0.092 -1.259  0.566 -0.115 -0.058  0.362   0.0867886524
 145  0.092 -1.259  0.566 -0.115 -0.052  0.362   0.0867212342
 147  0.092 -1.259  0.566 -0.115 -0.047  0.362   0.0866977511
 160  0.092 -1.259  0.566 -0.115 -0.047  0.360   0.0866920807
  powell nthiter 2: fret = 0.086692
 175  0.095 -1.259  0.566 -0.115 -0.047  0.360   0.0866808780
 187  0.095 -1.244  0.566 -0.115 -0.047  0.360   0.0865995016
 188  0.095 -1.245  0.566 -0.115 -0.047  0.360   0.0865988696
 198  0.095 -1.245  0.578 -0.115 -0.047  0.360   0.0865948368
 199  0.095 -1.245  0.573 -0.115 -0.047  0.360   0.0865888989
 210  0.095 -1.245  0.573 -0.110 -0.047  0.360   0.0865767168
 211  0.095 -1.245  0.573 -0.109 -0.047  0.360   0.0865756854
 221  0.095 -1.245  0.573 -0.109 -0.053  0.360   0.0865664027
 222  0.095 -1.245  0.573 -0.109 -0.052  0.360   0.0865641631
 231  0.095 -1.245  0.573 -0.109 -0.052  0.364   0.0865632615
 232  0.095 -1.245  0.573 -0.109 -0.052  0.363   0.0865603172
 233  0.095 -1.245  0.573 -0.109 -0.052  0.362   0.0865599695
 234  0.098 -1.231  0.580 -0.102 -0.056  0.364   0.0865583455
 240  0.097 -1.236  0.578 -0.104 -0.054  0.363   0.0865440275
 241  0.096 -1.237  0.577 -0.105 -0.054  0.363   0.0865438642
 245  0.096 -1.237  0.577 -0.105 -0.054  0.363   0.0865437370
 246  0.096 -1.237  0.577 -0.105 -0.054  0.363   0.0865437028
 249  0.096 -1.237  0.577 -0.105 -0.054  0.363   0.0865435574
  powell nthiter 3: fret = 0.086544
 263  0.097 -1.237  0.577 -0.105 -0.054  0.363   0.0865425588
 275  0.097 -1.237  0.577 -0.105 -0.054  0.364   0.0865417858
 286  0.097 -1.237  0.571 -0.105 -0.054  0.364   0.0865370874
 288  0.097 -1.237  0.572 -0.105 -0.054  0.364   0.0865369392
 298  0.097 -1.237  0.572 -0.103 -0.054  0.364   0.0865321427
 299  0.097 -1.237  0.572 -0.101 -0.054  0.364   0.0865286968
 301  0.097 -1.237  0.572 -0.100 -0.054  0.364   0.0865286965
 312  0.097 -1.237  0.572 -0.100 -0.051  0.364   0.0865259810
 314  0.097 -1.237  0.572 -0.100 -0.052  0.364   0.0865258085
 321  0.098 -1.236  0.573 -0.099 -0.053  0.364   0.0865238958
 325  0.098 -1.235  0.573 -0.099 -0.053  0.364   0.0865238833
  powell nthiter 4: fret = 0.086524
 359  0.098 -1.235  0.569 -0.099 -0.053  0.364   0.0865220857
 360  0.098 -1.235  0.570 -0.099 -0.053  0.364   0.0865219538
 381  0.098 -1.235  0.570 -0.099 -0.052  0.364   0.0865219052
 389  0.098 -1.235  0.570 -0.098 -0.052  0.364   0.0865217026
 392  0.098 -1.235  0.570 -0.098 -0.052  0.364   0.0865214542
Powell done niters = 4
Computing relative cost
 0  -25.0 -25.0 -25.0   1.078070
 1  -25.0 -25.0  25.0   0.996765
 2  -25.0  25.0 -25.0   0.932436
 3  -25.0  25.0  25.0   1.038641
 4   25.0 -25.0 -25.0   1.022161
 5   25.0 -25.0  25.0   0.948470
 6   25.0  25.0 -25.0   0.933760
 7   25.0  25.0  25.0   0.998031
REL:  8  0.086521    7.948334  0.993542 rel = 0.0870839 
Number of iterations     4
Min cost was 0.086521
Number of FunctionCalls   396
TolPowell 0.000100
nMaxItersPowell 36
OptimizationTime 1.877000 sec
Parameters at optimum (transmm)  0.09796 -1.23493  0.57010
Parameters at optimum (rotdeg) -0.09843 -0.05193  0.36408 
Final costs ----------------
Number of surface hits 2737
WM  Intensity   358.5121 +/-  65.2484
Ctx Intensity   515.2557 +/- 120.4900
Pct Contrast     34.4530 +/-  22.0064
Cost   0.0865
RelCost   0.2741
Reg at min cost was 
-0.99964   0.01653   0.02123   1.03844;
 0.01816  -0.16762   0.98568  -4.84203;
-0.01986  -0.98571  -0.16726  -2.06835;
 0.00000   0.00000   0.00000   1.00000;

Writing optimal reg to ./tmp.bbregister.6162/bbr.pass1.dat, type = 14 
Original Reg 
-0.99952   0.01458   0.02734   0.91515;
 0.02455  -0.16603   0.98581  -3.60846;
-0.01891  -0.98601  -0.16559  -2.64548;
 0.00000   0.00000   0.00000   1.00000;

Original Reg - Optimal Reg
 0.00012  -0.00196   0.00611  -0.12329;
 0.00638   0.00159   0.00013   1.23357;
 0.00095  -0.00030   0.00167  -0.57714;
 0.00000   0.00000   0.00000   0.00000;

Computing change in lh position
LH rmsDiffMean 1.175478
Computing change in rh position
Surface-RMS-Diff-mm 1.325990 0.187747 1.711004
mri_segreg done
mri_segreg --mov ./tmp.bbregister.6162/template.nii --init-reg ./tmp.bbregister.6162/bbr.pass1.dat --out-reg register.dat --interp trilinear --wm-proj-abs 2 --tol 1e-8 --tol1d 1e-3 --c0 0 --mincost register.dat.mincost --dof 6 --nmax 36 --param register.dat.param --surf white --brute -0.1 0.1 0.1 --cur-reg ./tmp.bbregister.6162/reg.curopt.dat --gm-proj-frac 0.5 --nsub 1 --gm-gt-wm 0.5
$Id: mri_segreg.c,v 1.113 2016/05/10 03:23:20 greve Exp $
setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/Park/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_040/preproc
mri_segreg --mov ./tmp.bbregister.6162/template.nii --init-reg ./tmp.bbregister.6162/bbr.pass1.dat --out-reg register.dat --interp trilinear --wm-proj-abs 2 --tol 1e-8 --tol1d 1e-3 --c0 0 --mincost register.dat.mincost --dof 6 --nmax 36 --param register.dat.param --surf white --brute -0.1 0.1 0.1 --cur-reg ./tmp.bbregister.6162/reg.curopt.dat --gm-proj-frac 0.5 --nsub 1 --gm-gt-wm 0.5 
sysname  Linux
hostname hpcnode060.adqimr.ad.lan
machine  x86_64
user     alistaiP
movvol ./tmp.bbregister.6162/template.nii
regfile ./tmp.bbregister.6162/bbr.pass1.dat
subject Patient_040
dof 6
outregfile register.dat
UseMask 0
UseLH 1
UseRH 1
nsubsamp 1
PenaltySign  -1
PenaltySlope 0.500000
PenaltyCenter 0.000000
surfname white
GMProjFrac 0.500000
WMProjAbs 2.000000
lhcostfile (null)
rhcostfile (null)
interp  trilinear (1)
frame  0
TolPowell 0.000000
nMaxItersPowell 36
n1dmin  3
Profile   0
Gdiag_no  -1
AddNoise  0 (0)
SynthSeed 1490309374
TransRandMax 0.000000
RotRandMax 0.000000
Translations 0.000000 0.000000 0.000000
Rotations   0.000000 0.000000 0.000000
Input reg
-0.99964   0.01653   0.02123   1.03844;
 0.01816  -0.16762   0.98568  -4.84203;
-0.01986  -0.98571  -0.16726  -2.06835;
 0.00000   0.00000   0.00000   1.00000;

Loading mov
Projecting LH Surfs
Loading lh.white surf
Loading lh.thickness for GM
GM Proj: 1 0.500000 2.000000
WM Proj: 0 0.500000 2.000000
Projecting RH Surfs
Loading rh.white surf
Loading rh.thickness for GM
Projecting RH Surfs
Using lh.cortex.label
Using rh.cortex.label
Computing relative cost
 0  -25.0 -25.0 -25.0   1.026709
 1  -25.0 -25.0  25.0   0.995423
 2  -25.0  25.0 -25.0   0.968797
 3  -25.0  25.0  25.0   1.022278
 4   25.0 -25.0 -25.0   1.000915
 5   25.0 -25.0  25.0   0.970815
 6   25.0  25.0 -25.0   0.978032
 7   25.0  25.0  25.0   0.978890
REL:  8  0.093978    7.941859  0.992732 rel = 0.0946658 
Initial costs ----------------
Number of surface hits 274247
WM  Intensity   359.4631 +/-  66.5506
Ctx Intensity   518.0321 +/- 125.0482
Pct Contrast     34.5710 +/-  22.3469
Cost   0.0940
RelCost   0.0947

------------------------------------
Brute force preopt -0.1 0.1 0.1, n = 729
     0  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000      0.0942   0.0942  0.0
     3  -0.1000  -0.1000  -0.1000  -0.1000   0.0000  -0.1000      0.0941   0.0941  0.0
     6  -0.1000  -0.1000  -0.1000  -0.1000   0.1000  -0.1000      0.0922   0.0922  0.0
   111  -0.1000   0.0000   0.0000  -0.1000   0.0000  -0.1000      0.0920   0.0920  0.0
   120  -0.1000   0.0000   0.0000   0.0000   0.0000  -0.1000      0.0909   0.0909  0.0
   246   0.0000  -0.1000  -0.1000  -0.1000   0.0000  -0.1000      0.0903   0.0903  0.0
   274   0.0000  -0.1000   0.0000  -0.1000   0.0000   0.0000      0.0890   0.0890  0.0
   327   0.0000   0.0000  -0.1000  -0.1000   0.0000  -0.1000      0.0874   0.0874  0.0
   364   0.0000   0.0000   0.0000   0.0000   0.0000   0.0000      0.0865   0.0865  0.0
Brute Force --------------------------
Min cost was 0.086521
Number of iterations   729
Search time 3.091000 sec
Parameters at best (transmm, rotdeg)
  0.000   0.000   0.000  0.000  0.000  0.000 
--------------------------------------------

Starting Powell Minimization
Init Powel Params dof = 6
0 0
1 0
2 0
3 0
4 0
5 0
fs_powell::minimize
  nparams 6
  maxfev 36
  ftol   0.000000
  linmin_xtol_   0.001000
  powell nthiter 0: fret = 0.093978
   7  0.120  0.000  0.000  0.000  0.000  0.000   0.0924643259
   9  0.119  0.000  0.000  0.000  0.000  0.000   0.0924638276
  11  0.118  0.000  0.000  0.000  0.000  0.000   0.0924637229
  12  0.117  0.000  0.000  0.000  0.000  0.000   0.0924636735
  14  0.115  0.000  0.000  0.000  0.000  0.000   0.0924635459
  17  0.114  0.000  0.000  0.000  0.000  0.000   0.0924635295
  24  0.114 -0.057  0.000  0.000  0.000  0.000   0.0921132623
  25  0.114 -0.069  0.000  0.000  0.000  0.000   0.0920873147
  26  0.114 -0.084  0.000  0.000  0.000  0.000   0.0920800652
  27  0.114 -0.080  0.000  0.000  0.000  0.000   0.0920785322
  28  0.114 -0.079  0.000  0.000  0.000  0.000   0.0920783346
  37  0.114 -0.079  0.089  0.000  0.000  0.000   0.0917240542
  39  0.114 -0.079  0.091  0.000  0.000  0.000   0.0917234019
  41  0.114 -0.079  0.098  0.000  0.000  0.000   0.0917233035
  42  0.114 -0.079  0.095  0.000  0.000  0.000   0.0917230274
  44  0.114 -0.079  0.094  0.000  0.000  0.000   0.0917230080
  52  0.114 -0.079  0.094 -0.097  0.000  0.000   0.0910967243
  54  0.114 -0.079  0.094 -0.100  0.000  0.000   0.0910967160
  56  0.114 -0.079  0.094 -0.099  0.000  0.000   0.0910965787
  63  0.114 -0.079  0.094 -0.099  0.012  0.000   0.0910548702
  64  0.114 -0.079  0.094 -0.099  0.024  0.000   0.0910255487
  67  0.114 -0.079  0.094 -0.099  0.030  0.000   0.0910218961
  76  0.114 -0.079  0.094 -0.099  0.030  0.039   0.0910069474
  77  0.114 -0.079  0.094 -0.099  0.030  0.023   0.0909897235
  powell nthiter 1: fret = 0.090990
  88  0.121 -0.079  0.094 -0.099  0.030  0.023   0.0909870345
  89  0.119 -0.079  0.094 -0.099  0.030  0.023   0.0909866588
  97  0.119 -0.088  0.094 -0.099  0.030  0.023   0.0909668896
  98  0.119 -0.098  0.094 -0.099  0.030  0.023   0.0909519427
 101  0.119 -0.109  0.094 -0.099  0.030  0.023   0.0909453072
 103  0.119 -0.108  0.094 -0.099  0.030  0.023   0.0909452991
 113  0.119 -0.108  0.108 -0.099  0.030  0.023   0.0909356942
 114  0.119 -0.108  0.107 -0.099  0.030  0.023   0.0909356405
 123  0.119 -0.108  0.107 -0.109  0.030  0.023   0.0909262126
 125  0.119 -0.108  0.107 -0.111  0.030  0.023   0.0909260431
 144  0.119 -0.108  0.107 -0.111  0.030  0.024   0.0909257429
 145  0.119 -0.108  0.107 -0.111  0.030  0.026   0.0909257153
 153  0.121 -0.119  0.112 -0.115  0.030  0.027   0.0909202246
 155  0.121 -0.121  0.113 -0.116  0.030  0.027   0.0909202228
 157  0.121 -0.120  0.113 -0.115  0.030  0.027   0.0909202187
 158  0.121 -0.120  0.113 -0.115  0.030  0.027   0.0909202028
  powell nthiter 2: fret = 0.090920
 169  0.127 -0.120  0.113 -0.115  0.030  0.027   0.0909195233
 170  0.124 -0.120  0.113 -0.115  0.030  0.027   0.0909187031
 180  0.124 -0.120  0.113 -0.115  0.030  0.030   0.0909180494
 190  0.124 -0.120  0.118 -0.115  0.030  0.030   0.0909169993
 191  0.124 -0.120  0.117 -0.115  0.030  0.030   0.0909169551
 200  0.124 -0.120  0.117 -0.114  0.030  0.030   0.0909169284
 211  0.124 -0.120  0.117 -0.114  0.029  0.030   0.0909168019
 212  0.124 -0.120  0.117 -0.114  0.028  0.030   0.0909167781
 219  0.124 -0.119  0.116 -0.113  0.028  0.029   0.0909165355
 225  0.124 -0.118  0.116 -0.113  0.028  0.029   0.0909164953
  powell nthiter 3: fret = 0.090916
 235  0.129 -0.118  0.116 -0.113  0.028  0.029   0.0909162436
 236  0.127 -0.118  0.116 -0.113  0.028  0.029   0.0909156667
 246  0.127 -0.118  0.116 -0.113  0.028  0.031   0.0909152246
 247  0.127 -0.118  0.116 -0.113  0.028  0.032   0.0909150725
 248  0.127 -0.118  0.116 -0.113  0.028  0.033   0.0909150573
 284  0.126 -0.117  0.115 -0.113  0.028  0.033   0.0909149399
 285  0.126 -0.117  0.115 -0.113  0.028  0.033   0.0909149380
 286  0.126 -0.117  0.115 -0.113  0.028  0.033   0.0909149320
 301  0.127 -0.116  0.115 -0.113  0.028  0.035   0.0909147379
 302  0.127 -0.116  0.115 -0.113  0.028  0.035   0.0909147148
 305  0.127 -0.116  0.115 -0.112  0.028  0.035   0.0909147021
 306  0.127 -0.116  0.115 -0.112  0.028  0.035   0.0909146986
 307  0.127 -0.116  0.115 -0.112  0.028  0.035   0.0909146534
 311  0.127 -0.116  0.115 -0.112  0.028  0.035   0.0909146449
 313  0.127 -0.116  0.115 -0.112  0.028  0.035   0.0909146370
 314  0.127 -0.116  0.115 -0.112  0.028  0.035   0.0909145952
  powell nthiter 4: fret = 0.090915
 334  0.127 -0.116  0.115 -0.112  0.028  0.034   0.0909144353
 377  0.127 -0.116  0.115 -0.112  0.028  0.034   0.0909144264
 393  0.127 -0.116  0.115 -0.112  0.028  0.034   0.0909144245
  powell nthiter 5: fret = 0.090914
Powell done niters = 5
Computing relative cost
 0  -25.0 -25.0 -25.0   1.024925
 1  -25.0 -25.0  25.0   0.996149
 2  -25.0  25.0 -25.0   0.968292
 3  -25.0  25.0  25.0   1.020974
 4   25.0 -25.0 -25.0   0.999620
 5   25.0 -25.0  25.0   0.969485
 6   25.0  25.0 -25.0   0.977114
 7   25.0  25.0  25.0   0.978479
REL:  8  0.090914    7.935039  0.991880 rel = 0.0916587 
Number of iterations     5
Min cost was 0.090914
Number of FunctionCalls   472
TolPowell 0.000000
nMaxItersPowell 36
OptimizationTime 84.242000 sec
Parameters at optimum (transmm)  0.12740 -0.11601  0.11491
Parameters at optimum (rotdeg) -0.11245  0.02829  0.03375 
Final costs ----------------
Number of surface hits 274247
WM  Intensity   358.9295 +/-  66.3464
Ctx Intensity   516.8729 +/- 122.7507
Pct Contrast     34.5678 +/-  22.2612
Cost   0.0909
RelCost   0.0947
Reg at min cost was 
-0.99966   0.01615   0.02057   1.16768;
 0.01754  -0.16955   0.98536  -4.96148;
-0.01940  -0.98539  -0.16921  -1.94444;
 0.00000   0.00000   0.00000   1.00000;

Writing optimal reg to register.dat, type = 14 
Original Reg 
-0.99964   0.01653   0.02123   1.03844;
 0.01816  -0.16762   0.98568  -4.84203;
-0.01986  -0.98571  -0.16726  -2.06835;
 0.00000   0.00000   0.00000   1.00000;

Original Reg - Optimal Reg
 0.00002   0.00039   0.00066  -0.12924;
 0.00063   0.00192   0.00032   0.11945;
-0.00046  -0.00032   0.00194  -0.12391;
 0.00000   0.00000   0.00000   0.00000;

Computing change in lh position
LH rmsDiffMean 0.184590
Computing change in rh position
Surface-RMS-Diff-mm 0.197502 0.042399 0.300918
mri_segreg done
MinCost: 0.090914 358.929462 516.872936 34.567807 
tkregister2_cmdl --mov biasmeanb0bet.nii.gz --reg register.dat --noedit --fslregout diff2FS.mat
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume biasmeanb0bet.nii.gz
reg file       register.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
---- Input registration matrix --------
-0.99966   0.01615   0.02057   1.16768;
 0.01754  -0.16955   0.98536  -4.96148;
-0.01940  -0.98539  -0.16921  -1.94444;
 0.00000   0.00000   0.00000   1.00000;
float2int = 0
---------------------------------------
INFO: loading target /working/lab_michaebr/alistaiP/Park/FS/Patient_040/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable biasmeanb0bet.nii.gz
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 0, float2int = 0
---- Input registration matrix --------
-0.99966   0.01615   0.02057   1.16768;
 0.01754  -0.16955   0.98536  -4.96148;
-0.01940  -0.98539  -0.16921  -1.94444;
 0.00000   0.00000   0.00000   1.00000;
Determinant -0.999999
subject = Patient_040
RegMat ---------------------------
-0.99966   0.01615   0.02057   1.16768;
 0.01754  -0.16955   0.98536  -4.96148;
-0.01940  -0.98539  -0.16921  -1.94444;
 0.00000   0.00000   0.00000   1.00000;
FSLOUTPUTTYPE NIFTI_GZ 
tkreg2FSL: mov det = 5.02197, ref det = -1
INFO: FSL2FreeSurfer: Mov volume is NIFTI with positive det,
      applying LR flip to registration matrix.
Cleaning up
 
Started at Sat Mar 18 07:01:03 AEST 2017 
Ended   at Sat Mar 18 07:04:52 AEST 2017
BBR-Run-Time-Sec 229
 
bbregister Done
To check results, run:
tkregisterfv --mov biasmeanb0bet.nii.gz --reg register.dat --surfs 
 
dwi2response: [03;32m[0m
dwi2response: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation. Please consult the help page (-help option) for more information.[0m
dwi2response: [03;32m[0m
dwi2response: [03;32mGenerated temporary directory: /tmp/dwi2response-tmp-XGU9OM/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_040/preproc/biascorr.mif /tmp/dwi2response-tmp-XGU9OM/dwi.mif -stride 0,0,0,1
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_040/preproc/biasmeanb0bet_mask.nii.gz /tmp/dwi2response-tmp-XGU9OM/mask.mif -datatype bit
dwi2response: [03;32mChanging to temporary directory (/tmp/dwi2response-tmp-XGU9OM/)[0m
dwi2response: [03;32m2 unique b-value(s) detected: 0,3000 with 12,90 volumes.[0m
[03;34mCommand:[0m maskfilter mask.mif erode eroded_mask.mif -npass 3
[03;34mCommand:[0m dwiextract dwi.mif -shell 0 dwi_b0.mif
[03;34mCommand:[0m mrmath dwi_b0.mif mean mean_b0.mif -axis 3
[03;34mCommand:[0m mrcalc mean_b0.mif -finite mean_b0.mif 0 -if 0 -le err_b0.mif -datatype bit
[03;34mCommand:[0m dwiextract dwi.mif -shell 3000 dwi_b3000.mif
[03;34mCommand:[0m mrmath dwi_b3000.mif mean mean_b3000.mif -axis 3
[03;34mCommand:[0m mrcalc mean_b3000.mif -finite mean_b3000.mif 0 -if 0 -le err_b3000.mif -datatype bit
[03;34mCommand:[0m mrcalc mean_b0.mif mean_b3000.mif -divide -log sdm_b3000.mif
[03;34mCommand:[0m mrcalc sdm_b3000.mif 90 -mult 90 -divide full_sdm.mif
[03;34mCommand:[0m mrcalc full_sdm.mif -finite full_sdm.mif 0 -if 0 -le err_sdm.mif -datatype bit
[03;34mCommand:[0m mrcalc err_b0.mif err_b3000.mif -add err_sdm.mif -add 0 eroded_mask.mif -if safe_mask.mif -datatype bit
[03;34mCommand:[0m mrcalc safe_mask.mif full_sdm.mif 0 -if 10 -min safe_sdm.mif
[03;34mCommand:[0m dwi2tensor dwi.mif - -mask safe_mask.mif | tensor2metric - -fa safe_fa.mif -vector safe_vecs.mif -modulate none -mask safe_mask.mif
[03;34mCommand:[0m mrcalc safe_mask.mif safe_fa.mif 0 -if 0.2 -gt crude_wm.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_wm.mif 0 safe_mask.mif -if _crudenonwm.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudenonwm.mif safe_sdm.mif 2.08189 -subtract 0 -if - | mrthreshold - - -mask _crudenonwm.mif | mrcalc _crudenonwm.mif - 0 -if crude_csf.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_csf.mif 0 _crudenonwm.mif -if crude_gm.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_wm.mif safe_sdm.mif 0 -if 1.49112 -gt _crudewmhigh.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudewmhigh.mif 0 crude_wm.mif -if _crudewmlow.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_wm.mif safe_sdm.mif 0 -if 1.91495 -gt _crudewmoutliers.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudewmoutliers.mif 0 crude_wm.mif -if refined_wm.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_gm.mif safe_sdm.mif 0 -if 1.90616 -gt _crudegmhigh.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmhigh.mif 0 crude_gm.mif -if _crudegmlow.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmhigh.mif safe_sdm.mif 1.90616 -subtract 0 -if - | mrthreshold - - -mask _crudegmhigh.mif -invert | mrcalc _crudegmhigh.mif - 0 -if _crudegmhighselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmlow.mif safe_sdm.mif 1.90616 -subtract -neg 0 -if - | mrthreshold - - -mask _crudegmlow.mif -invert | mrcalc _crudegmlow.mif - 0 -if _crudegmlowselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmhighselect.mif 1 _crudegmlowselect.mif -if refined_gm.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudewmoutliers.mif safe_sdm.mif 0 -if 2.7319 -gt 1 crude_csf.mif -if _crudecsfextra.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudecsfextra.mif safe_sdm.mif 2.7319 -subtract 0 -if - | mrthreshold - - -mask _crudecsfextra.mif | mrcalc _crudecsfextra.mif - 0 -if refined_csf.mif -datatype bit
dwi2response: [03;32mRunning 'tournier' algorithm to select 574 single-fibre WM voxels.[0m
[03;34mCommand:[0m dwi2response tournier dwi.mif _respsfwmss.txt -sf_voxels 574 -iter_voxels 5740 -mask refined_wm.mif -voxels voxels_sfwm.mif -quiet -tempdir /tmp/dwi2response-tmp-XGU9OM/
[03;34mCommand:[0m mrcalc refined_gm.mif safe_sdm.mif 0 -if 1.90062 -gt _refinedgmhigh.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmhigh.mif 0 refined_gm.mif -if _refinedgmlow.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmhigh.mif safe_sdm.mif 0 -if - | mrthreshold - - -bottom 695 -ignorezero | mrcalc _refinedgmhigh.mif - 0 -if _refinedgmhighselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmlow.mif safe_sdm.mif 0 -if - | mrthreshold - - -top 695 -ignorezero | mrcalc _refinedgmlow.mif - 0 -if _refinedgmlowselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmhighselect.mif 1 _refinedgmlowselect.mif -if voxels_gm.mif -datatype bit
[03;34mCommand:[0m mrcalc refined_csf.mif safe_sdm.mif 0 -if - | mrthreshold - - -top 1435 -ignorezero | mrcalc refined_csf.mif - 0 -if voxels_csf.mif -datatype bit
dwi2response: [03;32mSummary of voxel counts:[0m
dwi2response: [03;32mMask: 337182 --> 273269 --> 273234[0m
dwi2response: [03;32mWM: 122136 --> 114873 --> 574 (SF)[0m
dwi2response: [03;32mGM: 112689 --> 69466 --> 1390[0m
dwi2response: [03;32mCSF: 38409 --> 14354 --> 1435[0m
[03;34mCommand:[0m amp2sh dwi_b0.mif - | sh2response - voxels_sfwm.mif safe_vecs.mif _respsfwmb0.txt
[03;34mCommand:[0m amp2sh dwi_b3000.mif - | sh2response - voxels_sfwm.mif safe_vecs.mif _respsfwmb3000.txt
[03;34mCommand:[0m mrcat crude_csf.mif crude_gm.mif crude_wm.mif crude.mif -axis 3
[03;34mCommand:[0m mrcat refined_csf.mif refined_gm.mif refined_wm.mif refined.mif -axis 3
[03;34mCommand:[0m mrcat voxels_csf.mif voxels_gm.mif voxels_sfwm.mif voxels.mif -axis 3
dwi2response: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_040/preproc)[0m
dwi2response: [03;32mDeleting temporary directory /tmp/dwi2response-tmp-XGU9OM/[0m
