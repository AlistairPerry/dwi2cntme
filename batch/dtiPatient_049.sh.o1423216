dwipreproc_cust: [03;32m[0m
dwipreproc_cust: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
dwipreproc_cust: [03;32m[0m
dwipreproc_cust: [03;32mGenerated temporary directory: /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_049/preproc/dwipreproc_cust-tmp-Z67OJM/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_049/preproc/rawdataAPdn.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_049/preproc/dwipreproc_cust-tmp-Z67OJM/series.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_049/preproc/AP7b0s.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_049/preproc/dwipreproc_cust-tmp-Z67OJM/pair1.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_049/preproc/rawdataPAdn.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_049/preproc/dwipreproc_cust-tmp-Z67OJM/pair2.mif
dwipreproc_cust: [03;32mChanging to temporary directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_049/preproc/dwipreproc_cust-tmp-Z67OJM/)[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 102[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -dwgrad' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult:           0           0           0           0
          0           0           0           0
  -0.999992 -0.00334966  0.00234534        3000
  0.0257966    -0.74417   -0.667492        3000
-0.00407346     0.51756    0.855637        3000
   0.272797    0.827772   -0.490281        3000
  -0.651678     0.40412   -0.641874        3000
   0.507125    0.261304    0.821306        3000
   0.959244    0.280838   0.0313166        3000
   0.535059    0.379871   -0.754592        3000
  -0.316498    0.127991   -0.939919        3000
          0           0           0           0
   0.505008    -0.59041   -0.629589        3000
   0.600327   0.0891961   -0.794765        3000
  -0.953568   -0.155874   -0.257705        3000
  -0.528266   -0.742139     0.41251        3000
   0.193881   -0.924911    0.327033        3000
  -0.365216    0.925741  -0.0980891        3000
     0.2593    0.930313    0.259386        3000
   0.023217    0.509652   -0.860067        3000
  -0.614622    0.788251  -0.0299946        3000
          0           0           0           0
   0.872144    0.037546    0.487806        3000
  -0.744204   -0.229265    0.627374        3000
   0.487348    0.676039    0.552687        3000
  -0.451824    -0.89033   -0.056282        3000
  -0.661798   -0.431259    -0.61322        3000
  -0.853818    0.236072   -0.463966        3000
  -0.438697     -0.5059   -0.742705        3000
   0.957417   -0.140171   -0.252399        3000
  -0.702992    -0.59449   -0.390364        3000
          0           0           0           0
  -0.387547   -0.174366    0.905209        3000
   0.142998   -0.680566    0.718597        3000
  -0.803231   -0.595398   0.0178987        3000
  -0.288357   -0.137173   -0.947646        3000
   0.963269   -0.127607    0.236284        3000
  -0.151459   -0.695612    0.702271        3000
 -0.0172993   -0.981739   -0.189444        3000
  -0.377349   -0.897154    0.229614        3000
   0.668134     0.72846    0.151469        3000
          0           0           0           0
  -0.290763   -0.464965     0.83622        3000
  -0.721293   -0.163389   -0.673083        3000
   0.717486   -0.657915    0.228826        3000
    0.42844   -0.580421    0.692496        3000
   0.959042   -0.282047  -0.0262436        3000
   0.493482    -0.29555    0.818001        3000
  -0.894816     0.39731   -0.203589        3000
   0.203675    0.978706  -0.0255081        3000
  -0.230802    0.965511    0.120492        3000
          0           0           0           0
   0.740238    0.599111   -0.305145        3000
   0.844461    0.335161   -0.417796        3000
   0.105094   -0.283435    0.953216        3000
   0.239159    0.399083    0.885175        3000
   0.614197    0.777789   -0.133442        3000
  -0.266621    0.456319   -0.848932        3000
  -0.658824   -0.512357    0.550855        3000
   0.257019   -0.894946   -0.364709        3000
  -0.249174   -0.820112   -0.515101        3000
          0           0           0           0
  -0.573238     0.65837   -0.487798        3000
 -0.0227704    -0.24834   -0.968405        3000
  -0.224637    0.320738    0.920144        3000
   0.836638     0.32266    0.442636        3000
   0.860584    0.464933    0.207922        3000
  -0.487526   -0.809714   -0.326622        3000
   0.106779    0.947227   -0.302257        3000
  -0.541857  0.00447935   -0.840458        3000
   0.250611   -0.576261   -0.777893        3000
          0           0           0           0
   0.229045  -0.0498401   -0.972139        3000
   0.215802    0.652422    0.726481        3000
  -0.961734   -0.144131    0.233009        3000
  -0.311725    0.788288     -0.5305        3000
   0.870409   -0.429366     -0.2409        3000
  -0.844548    0.264105    0.465818        3000
  -0.894953   -0.410611    0.174521        3000
   0.703025   -0.676708   -0.218683        3000
   0.666258   -0.350933   -0.657987        3000
          0           0           0           0
  -0.516993    0.749024    0.414344        3000
   0.719686   -0.128174    0.682366        3000
  0.0413365  -0.0154742    0.999025        3000
  -0.827696    0.561128  0.00741875        3000
  -0.452676    0.385369    0.804099        3000
   0.879357   0.0291451   -0.475271        3000
   0.148704    0.240997   -0.959066        3000
   0.768259   -0.483067    0.420029        3000
   0.478984   -0.134017   -0.867533        3000
          0           0           0           0
  -0.717331    0.532309    0.449536        3000
   0.482712   -0.821982    0.302216        3000
   -0.28194    0.761282    0.583917        3000
 -0.0183829    0.846861   -0.531496        3000
  0.0654521   -0.993225   0.0960243        3000
   0.421957    0.632905    -0.64914        3000
  -0.732894   0.0980139    0.673246        3000
 0.00119109    0.896148    0.443754        3000
   0.476079   -0.860631   -0.180729        3000
          0           0           0           0[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -stride' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 1 2 3 4[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair1.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair2.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
[03;34mCommand:[0m mrconvert series.mif dwi_pre_topup.nii -stride -1,+2,+3,+4
[03;34mCommand:[0m mrcat pair1.mif pair2.mif - -axis 3 | mrconvert - topup_in.nii -stride -1,+2,+3,+4
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair1.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair2.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
dwipreproc_cust: [03;32mCreating phase-encoding configuration file[0m
[03;34mCommand:[0m topup --imain=topup_in.nii --datain=config.txt --out=field --fout=field_map.nii.gz --config=/software/fsl/fsl-5.0.9_eddy/fsl/etc/flirtsch/b02b0.cnf
[03;34mCommand:[0m applytopup --imain=dwi_pre_topup.nii --datain=config.txt --inindex=1 --topup=field --out=dwi_post_topup.nii.gz --method=jac
[03;34mCommand:[0m mrconvert series.mif - -stride -1,+2,+3,+4 | mrinfo - -export_grad_fsl bvecs bvals
[03;34mCommand:[0m mrconvert dwi_post_topup.nii.gz -fslgrad bvecs bvals - | dwi2mask - - | maskfilter - dilate - | mrconvert - mask.nii -datatype float32 -stride -1,+2,+3
[03;34mCommand:[0m eddy_openmp --imain=dwi_pre_topup.nii --mask=mask.nii --index=indices.txt --acqp=config.txt --bvecs=bvecs --bvals=bvals --repol --topup=field --out=dwi_post_eddy
[03;34mCommand:[0m mrconvert dwi_post_eddy.nii.gz result.mif -stride 1,2,3,4 -fslgrad dwi_post_eddy.eddy_rotated_bvecs bvals
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_049/preproc/eddycorr.mif -export_grad_mrtrix /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_049/preproc/adjencoding.b
dwipreproc_cust: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_049/preproc)[0m
dwipreproc_cust: [03;32mDeleting temporary directory /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_049/preproc/dwipreproc_cust-tmp-Z67OJM/[0m
dwibiascorrect: [03;32m[0m
dwibiascorrect: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
dwibiascorrect: [03;32m[0m
dwibiascorrect: [03;32mGenerated temporary directory: /tmp/dwibiascorrect-tmp-TIBT1S/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_049/preproc/eddycorr.mif /tmp/dwibiascorrect-tmp-TIBT1S/in.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_049/preproc/eddymeanb0bet_mask.nii.gz /tmp/dwibiascorrect-tmp-TIBT1S/mask.mif
dwibiascorrect: [03;32mChanging to temporary directory (/tmp/dwibiascorrect-tmp-TIBT1S/)[0m
[03;34mCommand:[0m dwiextract in.mif - -bzero | mrmath - mean mean_bzero.mif -axis 3
[03;34mCommand:[0m mrcalc mean_bzero.mif mask.mif -mult - | mrconvert - mean_bzero_masked.nii -stride -1,+2,+3
[03;34mCommand:[0m fast -t 2 -o fast -n 3 -b mean_bzero_masked.nii
[03;34mCommand:[0m mrcalc in.mif fast_bias.nii.gz -div result.mif
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_049/preproc/biascorr.mif
dwibiascorrect: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_049/preproc)[0m
dwibiascorrect: [03;32mDeleting temporary directory /tmp/dwibiascorrect-tmp-TIBT1S/[0m
Extracting mean of the b=0 shell.
Extracting mean of the b=3000 shell.
Extracting mean of the b=0 shell.
Extracting mean of the b=3000 shell.
4920
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mGenerated temporary directory: /tmp/labelsgmfix-tmp-M4NU8B/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_049/preproc/parctempstr.nii /tmp/labelsgmfix-tmp-M4NU8B/parc.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_049/preproc/brainFS.nii /tmp/labelsgmfix-tmp-M4NU8B/T1.nii -stride -1,+2,+3
labelsgmfix: [03;32mChanging to temporary directory (/tmp/labelsgmfix-tmp-M4NU8B/)[0m
[03;34mCommand:[0m run_first_all -s R_Thal,L_Puta,R_Caud,R_Hipp,L_Amyg,R_Pall,R_Amyg,L_Caud,L_Pall,L_Thal,L_Hipp,R_Accu,L_Accu,R_Puta -i T1.nii -b -o first
[03;34mCommand:[0m mrcalc parc.mif 0 -min sgm.mif
[03;34mCommand:[0m meshconvert first-R_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Thal_mask.mif 6 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Puta_mask.mif 3 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Caud_mask.mif 7 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Hipp_mask.mif 13 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Amyg_mask.mif 12 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Pall_mask.mif 9 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Amyg_mask.mif 14 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Caud_mask.mif 2 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Pall_mask.mif 4 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Thal_mask.mif 1 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Hipp_mask.mif 11 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Accu_mask.mif 10 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Accu_mask.mif 5 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Puta_mask.mif 8 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m mrmath R_Thal_mask.mif L_Puta_mask.mif R_Caud_mask.mif R_Hipp_mask.mif L_Amyg_mask.mif R_Pall_mask.mif R_Amyg_mask.mif L_Caud_mask.mif L_Pall_mask.mif L_Thal_mask.mif L_Hipp_mask.mif R_Accu_mask.mif L_Accu_mask.mif R_Puta_mask.mif sum - | mrcalc - 1 -gt sgm_overlap_mask.mif
[03;34mCommand:[0m mrcalc sgm_overlap_mask.mif 0 sgm.mif -if sgm_masked.mif
[03;34mCommand:[0m labelconvert sgm_masked.mif /software/mrtrix3/mrtrix3-AP/scripts/data/FreeSurferSGM.txt /software/mrtrix3/mrtrix3-AP/src/connectome/tables/fs_a2009s.txt sgm_new_labels.mif
[03;34mCommand:[0m mrcalc parc.mif 83 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 78 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 84 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 87 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 81 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 86 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 88 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 77 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 79 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 76 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 80 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 89 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 82 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 85 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc sgm_new_labels.mif 0.5 -gt sgm_new_labels.mif parc.mif -if result.mif -datatype uint32
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_049/preproc/parc_fixsubcort.nii
labelsgmfix: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_049/preproc)[0m
labelsgmfix: [03;32mDeleting temporary directory /tmp/labelsgmfix-tmp-M4NU8B/[0m
tmp ./tmp.bbregister.26803
Log file is register.dat.log
Sat Mar 18 06:49:15 AEST 2017

setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/Park/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_049/preproc
/software/freesurfer/freesurfer-6.0.0/bin/bbregister --s Patient_049 --mov biasmeanb0bet.nii.gz --init-fsl --reg register.dat --dti --fslmat diff2FS.mat

$Id: bbregister,v 1.75 2016/05/10 20:02:28 greve Exp $
Linux hpcnode030.adqimr.ad.lan 3.10.0-327.3.1.el7.x86_64 #1 SMP Wed Dec 9 14:09:15 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
FREESURFER_HOME /software/freesurfer/freesurfer-6.0.0
mri_convert biasmeanb0bet.nii.gz ./tmp.bbregister.26803/template.nii
mri_convert.bin biasmeanb0bet.nii.gz ./tmp.bbregister.26803/template.nii 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from biasmeanb0bet.nii.gz...
TR=1000.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (0.998386, 0.00804338, -0.0562242)
j_ras = (0.006447, 0.967474, 0.252887)
k_ras = (0.0564295, -0.252841, 0.965861)
writing to ./tmp.bbregister.26803/template.nii...
fslregister --s Patient_049 --mov ./tmp.bbregister.26803/template.nii --reg ./tmp.bbregister.26803/reg.init.dat --niters 1 --maxangle 90 --tmp ./tmp.bbregister.26803/fslregister --dof 6 --fsvol brainmask.mgz --nobetmov

Log file is ./tmp.bbregister.26803/reg.init.dat.fslregister.log

Sat Mar 18 06:49:16 AEST 2017
--s Patient_049 --mov ./tmp.bbregister.26803/template.nii --reg ./tmp.bbregister.26803/reg.init.dat --niters 1 --maxangle 90 --tmp ./tmp.bbregister.26803/fslregister --dof 6 --fsvol brainmask.mgz --nobetmov
$Id: fslregister,v 1.40 2016/02/12 21:43:15 zkaufman Exp $
hpcnode030.adqimr.ad.lan
Linux hpcnode030.adqimr.ad.lan 3.10.0-327.3.1.el7.x86_64 #1 SMP Wed Dec 9 14:09:15 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
nIters 1
--------------------------------------
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_049/preproc
mri_convert /working/lab_michaebr/alistaiP/Park/FS/Patient_049/mri/brainmask.mgz ./tmp.bbregister.26803/fslregister/refvol.fslregister.nii
mri_convert.bin /working/lab_michaebr/alistaiP/Park/FS/Patient_049/mri/brainmask.mgz ./tmp.bbregister.26803/fslregister/refvol.fslregister.nii 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from /working/lab_michaebr/alistaiP/Park/FS/Patient_049/mri/brainmask.mgz...
TR=0.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (-1, -1.86265e-09, 0)
j_ras = (-7.45058e-09, 0, -1)
k_ras = (9.31323e-10, 1, 2.98023e-08)
writing to ./tmp.bbregister.26803/fslregister/refvol.fslregister.nii...
--------------------------------------
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_049/preproc
mri_convert ./tmp.bbregister.26803/template.nii ./tmp.bbregister.26803/fslregister/movvol.fslregister.nii --frame 0
mri_convert.bin ./tmp.bbregister.26803/template.nii ./tmp.bbregister.26803/fslregister/movvol.fslregister.nii --frame 0 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from ./tmp.bbregister.26803/template.nii...
TR=1000.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (0.998386, 0.00804338, -0.0562242)
j_ras = (0.006447, 0.967474, 0.252887)
k_ras = (0.0564295, -0.252841, 0.965861)
keeping frame 0
writing to ./tmp.bbregister.26803/fslregister/movvol.fslregister.nii...
Mov determinant is 5.02197
Swapping dims for pos det
WARNING:: Flipping Left/Right orientation (as det < 0)
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
target  volume ./tmp.bbregister.26803/fslregister/movvol.fslregister.nii
movable volume ./tmp.bbregister.26803/template.nii
reg file       ./tmp.bbregister.26803/fslregister/swapreg.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target ./tmp.bbregister.26803/fslregister/movvol.fslregister.nii
INFO: target does not conform to COR format, so I'm going to
reslice to COR. This will not affect the final registration.
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.26803/template.nii
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 1, float2int = 0
Computing reg from header (and possibly input matrix)
---- Input registration matrix (computed) --------
-0.99839  -0.00804   0.05622   1.71875;
 0.05643  -0.25284   0.96586   0.00000;
-0.00645  -0.96747  -0.25289   0.00002;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
-0.99839  -0.00804   0.05622   1.71875;
 0.05643  -0.25284   0.96586   0.00000;
-0.00645  -0.96747  -0.25289   0.00002;
 0.00000   0.00000   0.00000   1.00000;
Determinant -1
subject = subject-unknown
RegMat ---------------------------
-1.00000   0.00000  -0.00000   1.71875;
 0.00000   1.00000   0.00000   0.00001;
-0.00000   0.00000   1.00000   0.00002;
 0.00000   0.00000   0.00000   1.00000;
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_049/preproc
tkregister2_cmdl --mov ./tmp.bbregister.26803/fslregister/movvol.fslregister.nii --reg ./tmp.bbregister.26803/fslregister/reg0.26843.dat --regheader --fslregout ./tmp.bbregister.26803/reg.init.dat.fsl.mat0 --s Patient_049 --noedit
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume ./tmp.bbregister.26803/fslregister/movvol.fslregister.nii
reg file       ./tmp.bbregister.26803/fslregister/reg0.26843.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target /working/lab_michaebr/alistaiP/Park/FS/Patient_049/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.26803/fslregister/movvol.fslregister.nii
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 1, float2int = 0
Computing reg from header (and possibly input matrix)
---- Input registration matrix (computed) --------
 0.99839   0.00804  -0.05622   0.97653;
 0.05643  -0.25284   0.96586  -0.34995;
-0.00645  -0.96747  -0.25289   0.74216;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
 0.99839   0.00804  -0.05622   0.97653;
 0.05643  -0.25284   0.96586  -0.34995;
-0.00645  -0.96747  -0.25289   0.74216;
 0.00000   0.00000   0.00000   1.00000;
Determinant 1
subject = Patient_049
RegMat ---------------------------
 0.99839   0.00804  -0.05622   0.97653;
 0.05643  -0.25284   0.96586  -0.34995;
-0.00645  -0.96747  -0.25289   0.74216;
 0.00000   0.00000   0.00000   1.00000;
FSLOUTPUTTYPE NIFTI 
tkreg2FSL: mov det = -5.02197, ref det = -1
Sat Mar 18 06:49:18 AEST 2017
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_049/preproc
flirt.fsl -ref ./tmp.bbregister.26803/fslregister/refvol.fslregister.nii -in ./tmp.bbregister.26803/fslregister/movvol.fslregister.nii -bins 256 -cost corratio -dof 6 -searchrx -90 90 -searchry -90 90 -searchrz -90 90 -verbose 0 -omat ./tmp.bbregister.26803/fslregister/fslmat0.trans.mat -schedule /software/freesurfer/freesurfer-6.0.0/bin/fsl.5.0.2.xyztrans.sch -init ./tmp.bbregister.26803/reg.init.dat.fsl.mat0
Sat Mar 18 06:49:55 AEST 2017
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_049/preproc
flirt.fsl -ref ./tmp.bbregister.26803/fslregister/refvol.fslregister.nii -in ./tmp.bbregister.26803/fslregister/movvol.fslregister.nii -bins 256 -cost corratio -dof 6 -searchrx -90 90 -searchry -90 90 -searchrz -90 90 -verbose 0 -omat ./tmp.bbregister.26803/reg.init.dat.fsl.mat -init ./tmp.bbregister.26803/fslregister/fslmat0.trans.mat -schedule /software/freesurfer/freesurfer-6.0.0/bin/flirt.newdefault.20080811.sch
tkregister2_cmdl --s Patient_049 --mov ./tmp.bbregister.26803/fslregister/movvol.fslregister.nii --reg ./tmp.bbregister.26803/reg.init.dat --fslreg ./tmp.bbregister.26803/reg.init.dat.fsl.mat --noedit
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
---- FSL registration matrix --------
 0.99807   0.01092  -0.06115   22.95620;
-0.05719  -0.22284  -0.97318   234.15300;
-0.02426   0.97479  -0.22178   42.13100;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume ./tmp.bbregister.26803/fslregister/movvol.fslregister.nii
reg file       ./tmp.bbregister.26803/reg.init.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target /working/lab_michaebr/alistaiP/Park/FS/Patient_049/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.26803/fslregister/movvol.fslregister.nii
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 0, float2int = 0
FSLOUTPUTTYPE NIFTI 
fsl2TkReg: mov det = -5.02197, ref det = -1
---- Input registration matrix (computed) --------
 0.99807   0.02426  -0.05719   1.17146;
 0.06115  -0.22178   0.97318   1.33792;
 0.01092  -0.97479  -0.22284   1.49319;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
 0.99807   0.02426  -0.05719   1.17146;
 0.06115  -0.22178   0.97318   1.33792;
 0.01092  -0.97479  -0.22284   1.49319;
 0.00000   0.00000   0.00000   1.00000;
Determinant 0.999998
subject = Patient_049
RegMat ---------------------------
 0.99807   0.02426  -0.05719   1.17146;
 0.06115  -0.22178   0.97318   1.33792;
 0.01092  -0.97479  -0.22284   1.49319;
 0.00000   0.00000   0.00000   1.00000;
mri_matrix_multiply -im ./tmp.bbregister.26803/fslregister/swapreg.dat -im ./tmp.bbregister.26803/reg.init.dat -om ./tmp.bbregister.26803/reg.init.dat
(standard_in) 1: illegal character: P
 
Started at Sat Mar 18 06:49:16 AEST 2017 
Ended   at Sat Mar 18 06:51:12 AEST 2017
 
fslregister Done
 
To check results, run:
tkregister2 --mov ./tmp.bbregister.26803/template.nii --reg ./tmp.bbregister.26803/reg.init.dat --surf orig
 
mri_segreg --mov ./tmp.bbregister.26803/template.nii --init-reg ./tmp.bbregister.26803/reg.init.dat --out-reg ./tmp.bbregister.26803/bbr.pass1.dat --subsamp-brute 100 --subsamp 100 --tol 1e-4 --tol1d 1e-3 --brute -4 4 4 --surf white --gm-proj-frac 0.5 --gm-gt-wm 0.5
$Id: mri_segreg.c,v 1.113 2016/05/10 03:23:20 greve Exp $
setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/Park/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_049/preproc
mri_segreg --mov ./tmp.bbregister.26803/template.nii --init-reg ./tmp.bbregister.26803/reg.init.dat --out-reg ./tmp.bbregister.26803/bbr.pass1.dat --subsamp-brute 100 --subsamp 100 --tol 1e-4 --tol1d 1e-3 --brute -4 4 4 --surf white --gm-proj-frac 0.5 --gm-gt-wm 0.5 
sysname  Linux
hostname hpcnode030.adqimr.ad.lan
machine  x86_64
user     alistaiP
movvol ./tmp.bbregister.26803/template.nii
regfile ./tmp.bbregister.26803/reg.init.dat
subject Patient_049
dof 6
outregfile ./tmp.bbregister.26803/bbr.pass1.dat
UseMask 0
UseLH 1
UseRH 1
nsubsamp 100
PenaltySign  -1
PenaltySlope 0.500000
PenaltyCenter 0.000000
surfname white
GMProjFrac 0.500000
WMProjAbs 2.000000
lhcostfile (null)
rhcostfile (null)
interp  trilinear (1)
frame  0
TolPowell 0.000100
nMaxItersPowell 36
n1dmin  3
Profile   0
Gdiag_no  -1
AddNoise  0 (0)
SynthSeed 1490772351
TransRandMax 0.000000
RotRandMax 0.000000
Translations 0.000000 0.000000 0.000000
Rotations   0.000000 0.000000 0.000000
Input reg
-0.99807  -0.02426   0.05719   0.54729;
 0.06115  -0.22178   0.97318   1.33793;
 0.01092  -0.97479  -0.22284   1.49321;
 0.00000   0.00000   0.00000   1.00000;

Loading mov
Projecting LH Surfs
Loading lh.white surf
Loading lh.thickness for GM
GM Proj: 1 0.500000 2.000000
WM Proj: 0 0.500000 2.000000
Projecting RH Surfs
Loading rh.white surf
Loading rh.thickness for GM
Projecting RH Surfs
Using lh.cortex.label
Using rh.cortex.label
Computing relative cost
 0  -25.0 -25.0 -25.0   1.009869
 1  -25.0 -25.0  25.0   1.022533
 2  -25.0  25.0 -25.0   0.989694
 3  -25.0  25.0  25.0   1.013214
 4   25.0 -25.0 -25.0   0.998665
 5   25.0 -25.0  25.0   0.986969
 6   25.0  25.0 -25.0   0.992626
 7   25.0  25.0  25.0   0.971149
REL:  8  0.114043    7.984718  0.998090 rel = 0.114262 
Initial costs ----------------
Number of surface hits 2443
WM  Intensity   377.6951 +/-  68.9880
Ctx Intensity   542.3912 +/- 125.1738
Pct Contrast     34.1889 +/-  23.2692
Cost   0.1140
RelCost   0.1143

------------------------------------
Brute force preopt -4 4 4, n = 729
     0  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000      0.9648   0.9648  0.0
     6  -4.0000  -4.0000  -4.0000  -4.0000   4.0000  -4.0000      0.9452   0.9452  0.0
     7  -4.0000  -4.0000  -4.0000  -4.0000   4.0000   0.0000      0.9373   0.9373  0.0
    12  -4.0000  -4.0000  -4.0000   0.0000   0.0000  -4.0000      0.9355   0.9355  0.0
    15  -4.0000  -4.0000  -4.0000   0.0000   4.0000  -4.0000      0.8302   0.8302  0.0
    34  -4.0000  -4.0000   0.0000  -4.0000   4.0000   0.0000      0.8064   0.8064  0.0
   105  -4.0000   0.0000  -4.0000   4.0000   4.0000  -4.0000      0.8024   0.8024  0.0
   120  -4.0000   0.0000   0.0000   0.0000   0.0000  -4.0000      0.7585   0.7585  0.0
   124  -4.0000   0.0000   0.0000   0.0000   4.0000   0.0000      0.7180   0.7180  0.0
   274   0.0000  -4.0000   0.0000  -4.0000   0.0000   0.0000      0.6572   0.6572  0.0
   363   0.0000   0.0000   0.0000   0.0000   0.0000  -4.0000      0.6561   0.6561  0.0
   364   0.0000   0.0000   0.0000   0.0000   0.0000   0.0000      0.1140   0.1140  0.0
Brute Force --------------------------
Min cost was 0.114043
Number of iterations   729
Search time 2.949000 sec
Parameters at best (transmm, rotdeg)
  0.000   0.000   0.000  0.000  0.000  0.000 
--------------------------------------------

Starting Powell Minimization
Init Powel Params dof = 6
0 0
1 0
2 0
3 0
4 0
5 0
fs_powell::minimize
  nparams 6
  maxfev 36
  ftol   0.000100
  linmin_xtol_   0.001000
  powell nthiter 0: fret = 0.114043
   7  0.031  0.000  0.000  0.000  0.000  0.000   0.1134864502
   8  0.062  0.000  0.000  0.000  0.000  0.000   0.1125223983
  12  0.063  0.000  0.000  0.000  0.000  0.000   0.1125091749
  13  0.069  0.000  0.000  0.000  0.000  0.000   0.1124771968
  15  0.068  0.000  0.000  0.000  0.000  0.000   0.1124770026
  21  0.068 -0.618  0.000  0.000  0.000  0.000   0.1003940078
  23  0.068 -0.407  0.000  0.000  0.000  0.000   0.0954003325
  24  0.068 -0.401  0.000  0.000  0.000  0.000   0.0953044514
  26  0.068 -0.361  0.000  0.000  0.000  0.000   0.0945699653
  28  0.068 -0.347  0.000  0.000  0.000  0.000   0.0943922118
  29  0.068 -0.343  0.000  0.000  0.000  0.000   0.0943771841
  30  0.068 -0.341  0.000  0.000  0.000  0.000   0.0943770650
  37  0.068 -0.341  0.382  0.000  0.000  0.000   0.0892845665
  38  0.068 -0.341  0.286  0.000  0.000  0.000   0.0876897343
  39  0.068 -0.341  0.255  0.000  0.000  0.000   0.0875338415
  40  0.068 -0.341  0.244  0.000  0.000  0.000   0.0875243165
  43  0.068 -0.341  0.238  0.000  0.000  0.000   0.0875223403
  44  0.068 -0.341  0.233  0.000  0.000  0.000   0.0875218711
  45  0.068 -0.341  0.234  0.000  0.000  0.000   0.0875218162
  54  0.068 -0.341  0.234 -0.003  0.000  0.000   0.0874951168
  57  0.068 -0.341  0.234 -0.038  0.000  0.000   0.0871455444
  60  0.068 -0.341  0.234 -0.037  0.000  0.000   0.0871402653
  68  0.068 -0.341  0.234 -0.037 -0.035  0.000   0.0857069494
  70  0.068 -0.341  0.234 -0.037 -0.094  0.000   0.0843778533
  72  0.068 -0.341  0.234 -0.037 -0.102  0.000   0.0842760492
  73  0.068 -0.341  0.234 -0.037 -0.106  0.000   0.0842594647
  85  0.068 -0.341  0.234 -0.037 -0.106  0.019   0.0842098846
  87  0.068 -0.341  0.234 -0.037 -0.106  0.012   0.0842089940
  88  0.068 -0.341  0.234 -0.037 -0.106  0.015   0.0842029988
  powell nthiter 1: fret = 0.084203
 100  0.077 -0.341  0.234 -0.037 -0.106  0.015   0.0841765662
 115  0.077 -0.352  0.234 -0.037 -0.106  0.015   0.0841599056
 116  0.077 -0.347  0.234 -0.037 -0.106  0.015   0.0841305195
 125  0.077 -0.347  0.229 -0.037 -0.106  0.015   0.0841091108
 126  0.077 -0.347  0.211 -0.037 -0.106  0.015   0.0840956484
 132  0.077 -0.347  0.206 -0.037 -0.106  0.015   0.0840951114
 133  0.077 -0.347  0.207 -0.037 -0.106  0.015   0.0840936300
 134  0.077 -0.347  0.208 -0.037 -0.106  0.015   0.0840929050
 146  0.077 -0.347  0.208 -0.039 -0.106  0.015   0.0840848183
 147  0.077 -0.347  0.208 -0.040 -0.106  0.015   0.0840847807
 158  0.077 -0.347  0.208 -0.040 -0.110  0.015   0.0840718929
 170  0.077 -0.347  0.208 -0.040 -0.110  0.008   0.0840245474
 171  0.077 -0.347  0.208 -0.040 -0.110  0.004   0.0840205304
 172  0.077 -0.347  0.208 -0.040 -0.110  0.005   0.0840201719
  powell nthiter 2: fret = 0.084020
 184  0.079 -0.347  0.208 -0.040 -0.110  0.005   0.0840153305
 204  0.079 -0.347  0.206 -0.040 -0.110  0.005   0.0840105908
 206  0.079 -0.347  0.204 -0.040 -0.110  0.005   0.0840096606
 229  0.079 -0.347  0.204 -0.040 -0.113  0.005   0.0839986666
 242  0.079 -0.347  0.204 -0.040 -0.113  0.003   0.0839982321
 244  0.079 -0.347  0.204 -0.040 -0.113  0.004   0.0839979798
 245  0.081 -0.347  0.200 -0.040 -0.117  0.003   0.0839969894
 251  0.080 -0.347  0.202 -0.040 -0.116  0.003   0.0839946857
 252  0.080 -0.347  0.202 -0.040 -0.116  0.003   0.0839944772
 257  0.080 -0.347  0.202 -0.040 -0.115  0.003   0.0839944482
 261  0.080 -0.347  0.202 -0.040 -0.115  0.003   0.0839944039
  powell nthiter 3: fret = 0.083994
 323  0.080 -0.347  0.202 -0.040 -0.115  0.003   0.0839943815
Powell done niters = 3
Computing relative cost
 0  -25.0 -25.0 -25.0   1.015736
 1  -25.0 -25.0  25.0   1.032965
 2  -25.0  25.0 -25.0   0.984291
 3  -25.0  25.0  25.0   1.000921
 4   25.0 -25.0 -25.0   1.005643
 5   25.0 -25.0  25.0   0.988751
 6   25.0  25.0 -25.0   0.988588
 7   25.0  25.0  25.0   0.964063
REL:  8  0.083994    7.980957  0.997620 rel = 0.0841948 
Number of iterations     3
Min cost was 0.083994
Number of FunctionCalls   331
TolPowell 0.000100
nMaxItersPowell 36
OptimizationTime 1.318000 sec
Parameters at optimum (transmm)  0.08012 -0.34742  0.20207
Parameters at optimum (rotdeg) -0.03998 -0.11536  0.00330 
Final costs ----------------
Number of surface hits 2443
WM  Intensity   375.5886 +/-  66.0609
Ctx Intensity   537.7840 +/- 112.7951
Pct Contrast     34.3761 +/-  21.2931
Cost   0.0840
RelCost   0.1143
Reg at min cost was 
-0.99809  -0.02228   0.05758   0.62433;
 0.06110  -0.22246   0.97302   0.99159;
 0.00887  -0.97468  -0.22340   1.69545;
 0.00000   0.00000   0.00000   1.00000;

Writing optimal reg to ./tmp.bbregister.26803/bbr.pass1.dat, type = 14 
Original Reg 
-0.99807  -0.02426   0.05719   0.54729;
 0.06115  -0.22178   0.97318   1.33793;
 0.01092  -0.97479  -0.22284   1.49321;
 0.00000   0.00000   0.00000   1.00000;

Original Reg - Optimal Reg
 0.00002  -0.00198  -0.00039  -0.07703;
 0.00005   0.00068   0.00015   0.34634;
 0.00205  -0.00011   0.00056  -0.20224;
 0.00000   0.00000   0.00000   0.00000;

Computing change in lh position
LH rmsDiffMean 0.425750
Computing change in rh position
Surface-RMS-Diff-mm 0.398741 0.044922 0.507897
mri_segreg done
mri_segreg --mov ./tmp.bbregister.26803/template.nii --init-reg ./tmp.bbregister.26803/bbr.pass1.dat --out-reg register.dat --interp trilinear --wm-proj-abs 2 --tol 1e-8 --tol1d 1e-3 --c0 0 --mincost register.dat.mincost --dof 6 --nmax 36 --param register.dat.param --surf white --brute -0.1 0.1 0.1 --cur-reg ./tmp.bbregister.26803/reg.curopt.dat --gm-proj-frac 0.5 --nsub 1 --gm-gt-wm 0.5
$Id: mri_segreg.c,v 1.113 2016/05/10 03:23:20 greve Exp $
setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/Park/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_049/preproc
mri_segreg --mov ./tmp.bbregister.26803/template.nii --init-reg ./tmp.bbregister.26803/bbr.pass1.dat --out-reg register.dat --interp trilinear --wm-proj-abs 2 --tol 1e-8 --tol1d 1e-3 --c0 0 --mincost register.dat.mincost --dof 6 --nmax 36 --param register.dat.param --surf white --brute -0.1 0.1 0.1 --cur-reg ./tmp.bbregister.26803/reg.curopt.dat --gm-proj-frac 0.5 --nsub 1 --gm-gt-wm 0.5 
sysname  Linux
hostname hpcnode030.adqimr.ad.lan
machine  x86_64
user     alistaiP
movvol ./tmp.bbregister.26803/template.nii
regfile ./tmp.bbregister.26803/bbr.pass1.dat
subject Patient_049
dof 6
outregfile register.dat
UseMask 0
UseLH 1
UseRH 1
nsubsamp 1
PenaltySign  -1
PenaltySlope 0.500000
PenaltyCenter 0.000000
surfname white
GMProjFrac 0.500000
WMProjAbs 2.000000
lhcostfile (null)
rhcostfile (null)
interp  trilinear (1)
frame  0
TolPowell 0.000000
nMaxItersPowell 36
n1dmin  3
Profile   0
Gdiag_no  -1
AddNoise  0 (0)
SynthSeed 1490696545
TransRandMax 0.000000
RotRandMax 0.000000
Translations 0.000000 0.000000 0.000000
Rotations   0.000000 0.000000 0.000000
Input reg
-0.99809  -0.02228   0.05758   0.62433;
 0.06110  -0.22246   0.97302   0.99159;
 0.00887  -0.97468  -0.22340   1.69545;
 0.00000   0.00000   0.00000   1.00000;

Loading mov
Projecting LH Surfs
Loading lh.white surf
Loading lh.thickness for GM
GM Proj: 1 0.500000 2.000000
WM Proj: 0 0.500000 2.000000
Projecting RH Surfs
Loading rh.white surf
Loading rh.thickness for GM
Projecting RH Surfs
Using lh.cortex.label
Using rh.cortex.label
Computing relative cost
 0  -25.0 -25.0 -25.0   1.026737
 1  -25.0 -25.0  25.0   1.011524
 2  -25.0  25.0 -25.0   1.006259
 3  -25.0  25.0  25.0   1.003377
 4   25.0 -25.0 -25.0   1.007308
 5   25.0 -25.0  25.0   0.994174
 6   25.0  25.0 -25.0   0.995473
 7   25.0  25.0  25.0   0.998642
REL:  8  0.092260    8.043494  1.005437 rel = 0.0917607 
Initial costs ----------------
Number of surface hits 243668
WM  Intensity   374.2727 +/-  64.9620
Ctx Intensity   539.1094 +/- 114.9074
Pct Contrast     34.8367 +/-  21.7461
Cost   0.0923
RelCost   0.0918

------------------------------------
Brute force preopt -0.1 0.1 0.1, n = 729
     0  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000      0.1025   0.1025  0.0
     1  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000   0.0000      0.1001   0.1001  0.0
     2  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000   0.1000      0.0992   0.0992  0.0
     3  -0.1000  -0.1000  -0.1000  -0.1000   0.0000  -0.1000      0.0966   0.0966  0.0
     5  -0.1000  -0.1000  -0.1000  -0.1000   0.0000   0.1000      0.0946   0.0946  0.0
     8  -0.1000  -0.1000  -0.1000  -0.1000   0.1000   0.1000      0.0940   0.0940  0.0
    10  -0.1000  -0.1000  -0.1000   0.0000  -0.1000   0.0000      0.0932   0.0932  0.0
    11  -0.1000  -0.1000  -0.1000   0.0000  -0.1000   0.1000      0.0916   0.0916  0.0
    13  -0.1000  -0.1000  -0.1000   0.0000   0.0000   0.0000      0.0907   0.0907  0.0
    14  -0.1000  -0.1000  -0.1000   0.0000   0.0000   0.1000      0.0885   0.0885  0.0
    17  -0.1000  -0.1000  -0.1000   0.0000   0.1000   0.1000      0.0882   0.0882  0.0
    23  -0.1000  -0.1000  -0.1000   0.1000   0.0000   0.1000      0.0867   0.0867  0.0
    41  -0.1000  -0.1000   0.0000   0.0000   0.0000   0.1000      0.0854   0.0854  0.0
    44  -0.1000  -0.1000   0.0000   0.0000   0.1000   0.1000      0.0853   0.0853  0.0
    50  -0.1000  -0.1000   0.0000   0.1000   0.0000   0.1000      0.0844   0.0844  0.0
   122  -0.1000   0.0000   0.0000   0.0000   0.0000   0.1000      0.0838   0.0838  0.0
Brute Force --------------------------
Min cost was 0.083757
Number of iterations   729
Search time 6.144000 sec
Parameters at best (transmm, rotdeg)
 -0.100   0.000   0.000  0.000  0.000  0.100 
--------------------------------------------

Starting Powell Minimization
Init Powel Params dof = 6
0 -0.1
1 0
2 0
3 0
4 0
5 0.1
fs_powell::minimize
  nparams 6
  maxfev 36
  ftol   0.000000
  linmin_xtol_   0.001000
  powell nthiter 0: fret = 0.094433
   7  0.035  0.000  0.000  0.000  0.000  0.100   0.0916665791
  11  0.033  0.000  0.000  0.000  0.000  0.100   0.0916665716
  20  0.032 -0.131  0.000  0.000  0.000  0.100   0.0901318849
  21  0.032 -0.123  0.000  0.000  0.000  0.100   0.0901221360
  22  0.032 -0.121  0.000  0.000  0.000  0.100   0.0901216929
  31  0.032 -0.121 -0.010  0.000  0.000  0.100   0.0900743771
  32  0.032 -0.121 -0.044  0.000  0.000  0.100   0.0900473379
  34  0.032 -0.121 -0.031  0.000  0.000  0.100   0.0900357542
  35  0.032 -0.121 -0.032  0.000  0.000  0.100   0.0900357263
  43  0.032 -0.121 -0.032  0.072  0.000  0.100   0.0897752146
  44  0.032 -0.121 -0.032  0.055  0.000  0.100   0.0897681908
  48  0.032 -0.121 -0.032  0.054  0.000  0.100   0.0897681064
  49  0.032 -0.121 -0.032  0.053  0.000  0.100   0.0897680550
  58  0.032 -0.121 -0.032  0.053  0.125  0.100   0.0879472483
  60  0.032 -0.121 -0.032  0.053  0.124  0.100   0.0879472447
  68  0.032 -0.121 -0.032  0.053  0.124  0.122   0.0879101311
  69  0.032 -0.121 -0.032  0.053  0.124  0.121   0.0879089987
  70  0.032 -0.121 -0.032  0.053  0.124  0.118   0.0879067875
  72  0.032 -0.121 -0.032  0.053  0.124  0.116   0.0879062596
  74  0.032 -0.121 -0.032  0.053  0.124  0.115   0.0879062507
  powell nthiter 1: fret = 0.087906
  83  0.020 -0.121 -0.032  0.053  0.124  0.115   0.0878933990
  84  0.021 -0.121 -0.032  0.053  0.124  0.115   0.0878931252
  92  0.021 -0.111 -0.032  0.053  0.124  0.115   0.0878613320
  93  0.021 -0.102 -0.032  0.053  0.124  0.115   0.0878472691
  96  0.021 -0.100 -0.032  0.053  0.124  0.115   0.0878468249
 104  0.021 -0.100 -0.036  0.053  0.124  0.115   0.0878427529
 105  0.021 -0.100 -0.042  0.053  0.124  0.115   0.0878403474
 106  0.021 -0.100 -0.043  0.053  0.124  0.115   0.0878403033
 114  0.021 -0.100 -0.043  0.086  0.124  0.115   0.0877973322
 115  0.021 -0.100 -0.043  0.076  0.124  0.115   0.0877875638
 124  0.021 -0.100 -0.043  0.076  0.131  0.115   0.0877794708
 125  0.021 -0.100 -0.043  0.076  0.132  0.115   0.0877790226
 127  0.021 -0.100 -0.043  0.076  0.133  0.115   0.0877789735
 134  0.021 -0.100 -0.043  0.076  0.133  0.114   0.0877774869
 135  0.021 -0.100 -0.043  0.076  0.133  0.106   0.0877730171
 139  0.009 -0.079 -0.053  0.099  0.143  0.096   0.0877584975
  powell nthiter 2: fret = 0.087773
 159  0.009 -0.090 -0.043  0.076  0.133  0.106   0.0877452240
 161  0.009 -0.088 -0.043  0.076  0.133  0.106   0.0877451172
 163  0.009 -0.089 -0.043  0.076  0.133  0.106   0.0877449863
 170  0.009 -0.089 -0.047  0.076  0.133  0.106   0.0877382996
 171  0.009 -0.089 -0.055  0.076  0.133  0.106   0.0877337501
 172  0.009 -0.089 -0.056  0.076  0.133  0.106   0.0877336395
 181  0.009 -0.089 -0.056  0.082  0.133  0.106   0.0877290881
 190  0.009 -0.089 -0.056  0.082  0.134  0.106   0.0877263983
 191  0.009 -0.089 -0.056  0.082  0.143  0.106   0.0877188313
 201  0.009 -0.089 -0.056  0.082  0.143  0.101   0.0877181342
 203  0.009 -0.089 -0.056  0.082  0.143  0.103   0.0877178437
 205 -0.003 -0.077 -0.070  0.089  0.152  0.100   0.0877163019
  powell nthiter 3: fret = 0.087718
 213  0.001 -0.089 -0.056  0.082  0.143  0.103   0.0877051142
 214 -0.000 -0.089 -0.056  0.082  0.143  0.103   0.0877051097
 223 -0.000 -0.085 -0.056  0.082  0.143  0.103   0.0877042916
 224 -0.000 -0.086 -0.056  0.082  0.143  0.103   0.0877042473
 233 -0.000 -0.086 -0.059  0.082  0.143  0.103   0.0877040920
 243 -0.000 -0.086 -0.059  0.084  0.143  0.103   0.0877037600
 252 -0.000 -0.086 -0.059  0.084  0.148  0.103   0.0877023548
 253 -0.000 -0.086 -0.059  0.084  0.146  0.103   0.0877016114
 262 -0.000 -0.086 -0.059  0.084  0.146  0.101   0.0877008431
 263 -0.000 -0.086 -0.059  0.084  0.146  0.100   0.0877007570
 271 -0.003 -0.085 -0.060  0.085  0.148  0.099   0.0876998978
 272 -0.003 -0.085 -0.059  0.084  0.147  0.099   0.0876997379
 281 -0.003 -0.085 -0.059  0.084  0.147  0.099   0.0876997285
  powell nthiter 4: fret = 0.087700
 307 -0.003 -0.085 -0.061  0.084  0.147  0.099   0.0876997235
 335 -0.003 -0.085 -0.061  0.085  0.146  0.099   0.0876996993
  powell nthiter 5: fret = 0.087700
 370 -0.003 -0.085 -0.060  0.085  0.146  0.099   0.0876996913
 380 -0.003 -0.085 -0.060  0.084  0.146  0.099   0.0876996490
 381 -0.003 -0.085 -0.060  0.083  0.146  0.099   0.0876996326
 402 -0.003 -0.085 -0.060  0.083  0.146  0.099   0.0876996079
 405 -0.003 -0.085 -0.060  0.083  0.146  0.099   0.0876996057
  powell nthiter 6: fret = 0.087700
 424 -0.003 -0.084 -0.060  0.083  0.146  0.099   0.0876995114
 433 -0.003 -0.084 -0.059  0.083  0.146  0.099   0.0876994302
  powell nthiter 7: fret = 0.087699
Powell done niters = 7
Computing relative cost
 0  -25.0 -25.0 -25.0   1.027133
 1  -25.0 -25.0  25.0   1.010184
 2  -25.0  25.0 -25.0   1.005552
 3  -25.0  25.0  25.0   1.004450
 4   25.0 -25.0 -25.0   1.006762
 5   25.0 -25.0  25.0   0.993238
 6   25.0  25.0 -25.0   0.994447
 7   25.0  25.0  25.0   1.000719
REL:  8  0.087699    8.042485  1.005311 rel = 0.0872362 
Number of iterations     7
Min cost was 0.087699
Number of FunctionCalls   528
TolPowell 0.000000
nMaxItersPowell 36
OptimizationTime 95.812000 sec
Parameters at optimum (transmm) -0.00269 -0.08399 -0.05869
Parameters at optimum (rotdeg)  0.08342  0.14645  0.09886 
Final costs ----------------
Number of surface hits 243668
WM  Intensity   373.8334 +/-  63.8874
Ctx Intensity   538.0140 +/- 112.3360
Pct Contrast     34.8210 +/-  21.3304
Cost   0.0877
RelCost   0.0918
Reg at min cost was 
-0.99817  -0.02439   0.05533   0.62426;
 0.05936  -0.22109   0.97344   0.90621;
 0.01151  -0.97495  -0.22213   1.63661;
 0.00000   0.00000   0.00000   1.00000;

Writing optimal reg to register.dat, type = 14 
Original Reg 
-0.99809  -0.02228   0.05758   0.62433;
 0.06110  -0.22246   0.97302   0.99159;
 0.00887  -0.97468  -0.22340   1.69545;
 0.00000   0.00000   0.00000   1.00000;

Original Reg - Optimal Reg
 0.00008   0.00211   0.00225   0.00007;
 0.00174  -0.00138  -0.00042   0.08537;
-0.00264   0.00026  -0.00127   0.05885;
 0.00000   0.00000   0.00000   0.00000;

Computing change in lh position
LH rmsDiffMean 0.185926
Computing change in rh position
Surface-RMS-Diff-mm 0.197418 0.059513 0.370377
mri_segreg done
MinCost: 0.087699 373.833372 538.014017 34.821047 
tkregister2_cmdl --mov biasmeanb0bet.nii.gz --reg register.dat --noedit --fslregout diff2FS.mat
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume biasmeanb0bet.nii.gz
reg file       register.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
---- Input registration matrix --------
-0.99817  -0.02439   0.05533   0.62426;
 0.05936  -0.22109   0.97344   0.90621;
 0.01151  -0.97495  -0.22213   1.63661;
 0.00000   0.00000   0.00000   1.00000;
float2int = 0
---------------------------------------
INFO: loading target /working/lab_michaebr/alistaiP/Park/FS/Patient_049/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable biasmeanb0bet.nii.gz
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 0, float2int = 0
---- Input registration matrix --------
-0.99817  -0.02439   0.05533   0.62426;
 0.05936  -0.22109   0.97344   0.90621;
 0.01151  -0.97495  -0.22213   1.63661;
 0.00000   0.00000   0.00000   1.00000;
Determinant -0.999997
subject = Patient_049
RegMat ---------------------------
-0.99817  -0.02439   0.05533   0.62426;
 0.05936  -0.22109   0.97344   0.90621;
 0.01151  -0.97495  -0.22213   1.63661;
 0.00000   0.00000   0.00000   1.00000;
FSLOUTPUTTYPE NIFTI_GZ 
tkreg2FSL: mov det = 5.02197, ref det = -1
INFO: FSL2FreeSurfer: Mov volume is NIFTI with positive det,
      applying LR flip to registration matrix.
Cleaning up
 
Started at Sat Mar 18 06:49:15 AEST 2017 
Ended   at Sat Mar 18 06:53:27 AEST 2017
BBR-Run-Time-Sec 252
 
bbregister Done
To check results, run:
tkregisterfv --mov biasmeanb0bet.nii.gz --reg register.dat --surfs 
 
dwi2response: [03;32m[0m
dwi2response: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation. Please consult the help page (-help option) for more information.[0m
dwi2response: [03;32m[0m
dwi2response: [03;32mGenerated temporary directory: /tmp/dwi2response-tmp-8U7CKO/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_049/preproc/biascorr.mif /tmp/dwi2response-tmp-8U7CKO/dwi.mif -stride 0,0,0,1
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_049/preproc/biasmeanb0bet_mask.nii.gz /tmp/dwi2response-tmp-8U7CKO/mask.mif -datatype bit
dwi2response: [03;32mChanging to temporary directory (/tmp/dwi2response-tmp-8U7CKO/)[0m
dwi2response: [03;32m2 unique b-value(s) detected: 0,3000 with 12,90 volumes.[0m
[03;34mCommand:[0m maskfilter mask.mif erode eroded_mask.mif -npass 3
[03;34mCommand:[0m dwiextract dwi.mif -shell 0 dwi_b0.mif
[03;34mCommand:[0m mrmath dwi_b0.mif mean mean_b0.mif -axis 3
[03;34mCommand:[0m mrcalc mean_b0.mif -finite mean_b0.mif 0 -if 0 -le err_b0.mif -datatype bit
[03;34mCommand:[0m dwiextract dwi.mif -shell 3000 dwi_b3000.mif
[03;34mCommand:[0m mrmath dwi_b3000.mif mean mean_b3000.mif -axis 3
[03;34mCommand:[0m mrcalc mean_b3000.mif -finite mean_b3000.mif 0 -if 0 -le err_b3000.mif -datatype bit
[03;34mCommand:[0m mrcalc mean_b0.mif mean_b3000.mif -divide -log sdm_b3000.mif
[03;34mCommand:[0m mrcalc sdm_b3000.mif 90 -mult 90 -divide full_sdm.mif
[03;34mCommand:[0m mrcalc full_sdm.mif -finite full_sdm.mif 0 -if 0 -le err_sdm.mif -datatype bit
[03;34mCommand:[0m mrcalc err_b0.mif err_b3000.mif -add err_sdm.mif -add 0 eroded_mask.mif -if safe_mask.mif -datatype bit
[03;34mCommand:[0m mrcalc safe_mask.mif full_sdm.mif 0 -if 10 -min safe_sdm.mif
[03;34mCommand:[0m dwi2tensor dwi.mif - -mask safe_mask.mif | tensor2metric - -fa safe_fa.mif -vector safe_vecs.mif -modulate none -mask safe_mask.mif
[03;34mCommand:[0m mrcalc safe_mask.mif safe_fa.mif 0 -if 0.2 -gt crude_wm.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_wm.mif 0 safe_mask.mif -if _crudenonwm.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudenonwm.mif safe_sdm.mif 2.28219 -subtract 0 -if - | mrthreshold - - -mask _crudenonwm.mif | mrcalc _crudenonwm.mif - 0 -if crude_csf.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_csf.mif 0 _crudenonwm.mif -if crude_gm.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_wm.mif safe_sdm.mif 0 -if 1.56398 -gt _crudewmhigh.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudewmhigh.mif 0 crude_wm.mif -if _crudewmlow.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_wm.mif safe_sdm.mif 0 -if 1.98898 -gt _crudewmoutliers.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudewmoutliers.mif 0 crude_wm.mif -if refined_wm.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_gm.mif safe_sdm.mif 0 -if 1.93607 -gt _crudegmhigh.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmhigh.mif 0 crude_gm.mif -if _crudegmlow.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmhigh.mif safe_sdm.mif 1.93607 -subtract 0 -if - | mrthreshold - - -mask _crudegmhigh.mif -invert | mrcalc _crudegmhigh.mif - 0 -if _crudegmhighselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmlow.mif safe_sdm.mif 1.93607 -subtract -neg 0 -if - | mrthreshold - - -mask _crudegmlow.mif -invert | mrcalc _crudegmlow.mif - 0 -if _crudegmlowselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmhighselect.mif 1 _crudegmlowselect.mif -if refined_gm.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudewmoutliers.mif safe_sdm.mif 0 -if 2.77423 -gt 1 crude_csf.mif -if _crudecsfextra.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudecsfextra.mif safe_sdm.mif 2.77423 -subtract 0 -if - | mrthreshold - - -mask _crudecsfextra.mif | mrcalc _crudecsfextra.mif - 0 -if refined_csf.mif -datatype bit
dwi2response: [03;32mRunning 'tournier' algorithm to select 576 single-fibre WM voxels.[0m
[03;34mCommand:[0m dwi2response tournier dwi.mif _respsfwmss.txt -sf_voxels 576 -iter_voxels 5760 -mask refined_wm.mif -voxels voxels_sfwm.mif -quiet -tempdir /tmp/dwi2response-tmp-8U7CKO/
[03;34mCommand:[0m mrcalc refined_gm.mif safe_sdm.mif 0 -if 1.91449 -gt _refinedgmhigh.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmhigh.mif 0 refined_gm.mif -if _refinedgmlow.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmhigh.mif safe_sdm.mif 0 -if - | mrthreshold - - -bottom 598 -ignorezero | mrcalc _refinedgmhigh.mif - 0 -if _refinedgmhighselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmlow.mif safe_sdm.mif 0 -if - | mrthreshold - - -top 597 -ignorezero | mrcalc _refinedgmlow.mif - 0 -if _refinedgmlowselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmhighselect.mif 1 _refinedgmlowselect.mif -if voxels_gm.mif -datatype bit
[03;34mCommand:[0m mrcalc refined_csf.mif safe_sdm.mif 0 -if - | mrthreshold - - -top 2111 -ignorezero | mrcalc refined_csf.mif - 0 -if voxels_csf.mif -datatype bit
dwi2response: [03;32mSummary of voxel counts:[0m
dwi2response: [03;32mMask: 333580 --> 271639 --> 271578[0m
dwi2response: [03;32mWM: 122524 --> 115162 --> 576 (SF)[0m
dwi2response: [03;32mGM: 98291 --> 59749 --> 1195[0m
dwi2response: [03;32mCSF: 50763 --> 21113 --> 2111[0m
[03;34mCommand:[0m amp2sh dwi_b0.mif - | sh2response - voxels_sfwm.mif safe_vecs.mif _respsfwmb0.txt
[03;34mCommand:[0m amp2sh dwi_b3000.mif - | sh2response - voxels_sfwm.mif safe_vecs.mif _respsfwmb3000.txt
[03;34mCommand:[0m mrcat crude_csf.mif crude_gm.mif crude_wm.mif crude.mif -axis 3
[03;34mCommand:[0m mrcat refined_csf.mif refined_gm.mif refined_wm.mif refined.mif -axis 3
[03;34mCommand:[0m mrcat voxels_csf.mif voxels_gm.mif voxels_sfwm.mif voxels.mif -axis 3
dwi2response: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_049/preproc)[0m
dwi2response: [03;32mDeleting temporary directory /tmp/dwi2response-tmp-8U7CKO/[0m
