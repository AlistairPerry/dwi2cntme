dwipreproc_cust: [03;32m[0m
dwipreproc_cust: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
dwipreproc_cust: [03;32m[0m
dwipreproc_cust: [03;32mGenerated temporary directory: /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_050/preproc/dwipreproc_cust-tmp-ESLBLM/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_050/preproc/rawdataAPdn.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_050/preproc/dwipreproc_cust-tmp-ESLBLM/series.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_050/preproc/AP7b0s.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_050/preproc/dwipreproc_cust-tmp-ESLBLM/pair1.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_050/preproc/rawdataPAdn.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_050/preproc/dwipreproc_cust-tmp-ESLBLM/pair2.mif
dwipreproc_cust: [03;32mChanging to temporary directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_050/preproc/dwipreproc_cust-tmp-ESLBLM/)[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 102[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -dwgrad' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult:           0           0           0           0
          0           0           0           0
  -0.999992 -0.00167276  -0.0036813        3000
  0.0252838   -0.744132   -0.667554        3000
 -0.0031514     0.51744    0.855714        3000
   0.273059    0.827571   -0.490474        3000
  -0.652026    0.403364   -0.641997        3000
   0.507198    0.261557    0.821181        3000
   0.959646    0.278727   0.0372876        3000
   0.535079    0.379326   -0.754853        3000
  -0.317252    0.127379   -0.939748        3000
          0           0           0           0
   0.504216   -0.590545   -0.630097        3000
   0.599714   0.0889281   -0.795258        3000
   -0.95341   -0.156318   -0.258019        3000
  -0.528352   -0.741934     0.41277        3000
   0.194094   -0.924887    0.326973        3000
  -0.365657    0.925587  -0.0978979        3000
   0.259395    0.928641    0.265218        3000
  0.0248579    0.509089   -0.860355        3000
  -0.615004    0.787952  -0.0300389        3000
          0           0           0           0
   0.872098   0.0379342    0.487859        3000
  -0.744328   -0.228628    0.627459        3000
   0.487659    0.675802    0.552702        3000
  -0.451992   -0.890221  -0.0566557        3000
  -0.661841   -0.431263   -0.613171        3000
  -0.854395    0.230433   -0.465736        3000
  -0.438995   -0.505664   -0.742689        3000
   0.957148   -0.140294   -0.253348        3000
  -0.703173   -0.594223   -0.390445        3000
          0           0           0           0
  -0.386793    -0.17428    0.905548        3000
   0.143183    -0.68028    0.718831        3000
  -0.803632   -0.594857   0.0179104        3000
  -0.288688   -0.137346   -0.947521        3000
   0.963475   -0.122032     0.23838        3000
  -0.151633   -0.695471    0.702373        3000
 -0.0179752   -0.981669   -0.189744        3000
  -0.377705   -0.897025    0.229531        3000
   0.668694    0.726702    0.157332        3000
          0           0           0           0
   -0.29095    -0.46467    0.836319        3000
  -0.721339   -0.163536   -0.672998        3000
   0.717775   -0.657695    0.228553        3000
   0.428714   -0.580057    0.692631        3000
   0.959139   -0.281686  -0.0265693        3000
   0.494018   -0.290252    0.819573        3000
  -0.895112    0.396724   -0.203432        3000
    0.20364    0.978721  -0.0252262        3000
  -0.231162    0.965407    0.120639        3000
          0           0           0           0
   0.740464    0.598804   -0.305198        3000
   0.844588    0.334622   -0.417971        3000
   0.105832   -0.278255    0.954659        3000
   0.239957    0.398953    0.885018        3000
   0.614474    0.777618   -0.133159        3000
    -0.2668    0.455634   -0.849244        3000
  -0.658995    -0.51193    0.551047        3000
   0.256646   -0.892686   -0.370466        3000
  -0.249973   -0.819784   -0.515235        3000
          0           0           0           0
  -0.573664    0.657875   -0.487965        3000
 -0.0234762   -0.248389   -0.968376        3000
  -0.223949    0.320796    0.920291        3000
   0.836606    0.322834    0.442571        3000
   0.860399    0.462653    0.213694        3000
  -0.487628   -0.807292   -0.332412        3000
   0.107456    0.947188    -0.30214        3000
   -0.54222  0.00419132   -0.840226        3000
   0.249862   -0.576095   -0.778257        3000
          0           0           0           0
   0.228091  -0.0501169   -0.972349        3000
   0.216226    0.652139    0.726609        3000
  -0.961863    -0.14377      0.2327        3000
  -0.312072     0.78793   -0.530827        3000
   0.869972   -0.429908   -0.241513        3000
   -0.84413    0.264229    0.466505        3000
  -0.895224   -0.410193    0.174117        3000
   0.703346   -0.676251   -0.219064        3000
   0.665424    -0.35114   -0.658719        3000
          0           0           0           0
  -0.516339    0.749142    0.414946        3000
   0.719786    -0.12794    0.682305        3000
  0.0409376  -0.0150915    0.999048        3000
  -0.828025    0.560638  0.00770018        3000
  -0.452069    0.385337    0.804455        3000
   0.878873   0.0288684   -0.476181        3000
   0.148086     0.24068   -0.959241        3000
   0.768542   -0.482469    0.420199        3000
   0.478176   -0.134298   -0.867935        3000
          0           0           0           0
  -0.716756    0.532636    0.450065        3000
   0.482987   -0.821832    0.302184        3000
  -0.281138    0.761255     0.58434        3000
 -0.0171281    0.846724   -0.531757        3000
  0.0654992   -0.993244   0.0957939        3000
   0.421793    0.632733   -0.649415        3000
  -0.732297   0.0982582    0.673859        3000
  0.0016361    0.895968    0.444116        3000
   0.476308   -0.860435   -0.181061        3000
          0           0           0           0[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -stride' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 1 2 3 4[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair1.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair2.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
[03;34mCommand:[0m mrconvert series.mif dwi_pre_topup.nii -stride -1,+2,+3,+4
[03;34mCommand:[0m mrcat pair1.mif pair2.mif - -axis 3 | mrconvert - topup_in.nii -stride -1,+2,+3,+4
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair1.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair2.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
dwipreproc_cust: [03;32mCreating phase-encoding configuration file[0m
[03;34mCommand:[0m topup --imain=topup_in.nii --datain=config.txt --out=field --fout=field_map.nii.gz --config=/software/fsl/fsl-5.0.9_eddy/fsl/etc/flirtsch/b02b0.cnf
[03;34mCommand:[0m applytopup --imain=dwi_pre_topup.nii --datain=config.txt --inindex=1 --topup=field --out=dwi_post_topup.nii.gz --method=jac
[03;34mCommand:[0m mrconvert series.mif - -stride -1,+2,+3,+4 | mrinfo - -export_grad_fsl bvecs bvals
[03;34mCommand:[0m mrconvert dwi_post_topup.nii.gz -fslgrad bvecs bvals - | dwi2mask - - | maskfilter - dilate - | mrconvert - mask.nii -datatype float32 -stride -1,+2,+3
[03;34mCommand:[0m eddy_openmp --imain=dwi_pre_topup.nii --mask=mask.nii --index=indices.txt --acqp=config.txt --bvecs=bvecs --bvals=bvals --repol --topup=field --out=dwi_post_eddy
[03;34mCommand:[0m mrconvert dwi_post_eddy.nii.gz result.mif -stride 1,2,3,4 -fslgrad dwi_post_eddy.eddy_rotated_bvecs bvals
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_050/preproc/eddycorr.mif -export_grad_mrtrix /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_050/preproc/adjencoding.b
dwipreproc_cust: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_050/preproc)[0m
dwipreproc_cust: [03;32mDeleting temporary directory /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_050/preproc/dwipreproc_cust-tmp-ESLBLM/[0m
dwibiascorrect: [03;32m[0m
dwibiascorrect: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
dwibiascorrect: [03;32m[0m
dwibiascorrect: [03;32mGenerated temporary directory: /tmp/dwibiascorrect-tmp-Y8CTTY/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_050/preproc/eddycorr.mif /tmp/dwibiascorrect-tmp-Y8CTTY/in.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_050/preproc/eddymeanb0bet_mask.nii.gz /tmp/dwibiascorrect-tmp-Y8CTTY/mask.mif
dwibiascorrect: [03;32mChanging to temporary directory (/tmp/dwibiascorrect-tmp-Y8CTTY/)[0m
[03;34mCommand:[0m dwiextract in.mif - -bzero | mrmath - mean mean_bzero.mif -axis 3
[03;34mCommand:[0m mrcalc mean_bzero.mif mask.mif -mult - | mrconvert - mean_bzero_masked.nii -stride -1,+2,+3
[03;34mCommand:[0m fast -t 2 -o fast -n 3 -b mean_bzero_masked.nii
[03;34mCommand:[0m mrcalc in.mif fast_bias.nii.gz -div result.mif
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_050/preproc/biascorr.mif
dwibiascorrect: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_050/preproc)[0m
dwibiascorrect: [03;32mDeleting temporary directory /tmp/dwibiascorrect-tmp-Y8CTTY/[0m
Extracting mean of the b=0 shell.
Extracting mean of the b=3000 shell.
Extracting mean of the b=0 shell.
Extracting mean of the b=3000 shell.
8608
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mGenerated temporary directory: /tmp/labelsgmfix-tmp-T02OP9/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_050/preproc/parctempstr.nii /tmp/labelsgmfix-tmp-T02OP9/parc.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_050/preproc/brainFS.nii /tmp/labelsgmfix-tmp-T02OP9/T1.nii -stride -1,+2,+3
labelsgmfix: [03;32mChanging to temporary directory (/tmp/labelsgmfix-tmp-T02OP9/)[0m
[03;34mCommand:[0m run_first_all -s R_Thal,L_Puta,R_Caud,R_Hipp,L_Amyg,R_Pall,R_Amyg,L_Caud,L_Pall,L_Thal,L_Hipp,R_Accu,L_Accu,R_Puta -i T1.nii -b -o first
[03;34mCommand:[0m mrcalc parc.mif 0 -min sgm.mif
[03;34mCommand:[0m meshconvert first-R_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Thal_mask.mif 6 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Puta_mask.mif 3 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Caud_mask.mif 7 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Hipp_mask.mif 13 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Amyg_mask.mif 12 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Pall_mask.mif 9 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Amyg_mask.mif 14 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Caud_mask.mif 2 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Pall_mask.mif 4 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Thal_mask.mif 1 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Hipp_mask.mif 11 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Accu_mask.mif 10 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Accu_mask.mif 5 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Puta_mask.mif 8 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m mrmath R_Thal_mask.mif L_Puta_mask.mif R_Caud_mask.mif R_Hipp_mask.mif L_Amyg_mask.mif R_Pall_mask.mif R_Amyg_mask.mif L_Caud_mask.mif L_Pall_mask.mif L_Thal_mask.mif L_Hipp_mask.mif R_Accu_mask.mif L_Accu_mask.mif R_Puta_mask.mif sum - | mrcalc - 1 -gt sgm_overlap_mask.mif
[03;34mCommand:[0m mrcalc sgm_overlap_mask.mif 0 sgm.mif -if sgm_masked.mif
[03;34mCommand:[0m labelconvert sgm_masked.mif /software/mrtrix3/mrtrix3-AP/scripts/data/FreeSurferSGM.txt /software/mrtrix3/mrtrix3-AP/src/connectome/tables/fs_a2009s.txt sgm_new_labels.mif
[03;34mCommand:[0m mrcalc parc.mif 83 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 78 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 84 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 87 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 81 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 86 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 88 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 77 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 79 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 76 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 80 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 89 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 82 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 85 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc sgm_new_labels.mif 0.5 -gt sgm_new_labels.mif parc.mif -if result.mif -datatype uint32
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_050/preproc/parc_fixsubcort.nii
labelsgmfix: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_050/preproc)[0m
labelsgmfix: [03;32mDeleting temporary directory /tmp/labelsgmfix-tmp-T02OP9/[0m
tmp ./tmp.bbregister.44723
Log file is register.dat.log
Sat Mar 18 06:39:42 AEST 2017

setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/Park/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_050/preproc
/software/freesurfer/freesurfer-6.0.0/bin/bbregister --s Patient_050 --mov biasmeanb0bet.nii.gz --init-fsl --reg register.dat --dti --fslmat diff2FS.mat

$Id: bbregister,v 1.75 2016/05/10 20:02:28 greve Exp $
Linux hpcnode039.adqimr.ad.lan 3.10.0-327.3.1.el7.x86_64 #1 SMP Wed Dec 9 14:09:15 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
FREESURFER_HOME /software/freesurfer/freesurfer-6.0.0
mri_convert biasmeanb0bet.nii.gz ./tmp.bbregister.44723/template.nii
mri_convert.bin biasmeanb0bet.nii.gz ./tmp.bbregister.44723/template.nii 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from biasmeanb0bet.nii.gz...
TR=1000.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (0.987386, -0.1579, 0.0116606)
j_ras = (0.138769, 0.898507, 0.416448)
k_ras = (-0.0762342, -0.409577, 0.909085)
writing to ./tmp.bbregister.44723/template.nii...
fslregister --s Patient_050 --mov ./tmp.bbregister.44723/template.nii --reg ./tmp.bbregister.44723/reg.init.dat --niters 1 --maxangle 90 --tmp ./tmp.bbregister.44723/fslregister --dof 6 --fsvol brainmask.mgz --nobetmov

Log file is ./tmp.bbregister.44723/reg.init.dat.fslregister.log

Sat Mar 18 06:39:43 AEST 2017
--s Patient_050 --mov ./tmp.bbregister.44723/template.nii --reg ./tmp.bbregister.44723/reg.init.dat --niters 1 --maxangle 90 --tmp ./tmp.bbregister.44723/fslregister --dof 6 --fsvol brainmask.mgz --nobetmov
$Id: fslregister,v 1.40 2016/02/12 21:43:15 zkaufman Exp $
hpcnode039.adqimr.ad.lan
Linux hpcnode039.adqimr.ad.lan 3.10.0-327.3.1.el7.x86_64 #1 SMP Wed Dec 9 14:09:15 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
nIters 1
--------------------------------------
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_050/preproc
mri_convert /working/lab_michaebr/alistaiP/Park/FS/Patient_050/mri/brainmask.mgz ./tmp.bbregister.44723/fslregister/refvol.fslregister.nii
mri_convert.bin /working/lab_michaebr/alistaiP/Park/FS/Patient_050/mri/brainmask.mgz ./tmp.bbregister.44723/fslregister/refvol.fslregister.nii 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from /working/lab_michaebr/alistaiP/Park/FS/Patient_050/mri/brainmask.mgz...
TR=0.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (-1, 2.79397e-08, 0)
j_ras = (0, 0, -1)
k_ras = (7.45058e-09, 1, 0)
writing to ./tmp.bbregister.44723/fslregister/refvol.fslregister.nii...
--------------------------------------
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_050/preproc
mri_convert ./tmp.bbregister.44723/template.nii ./tmp.bbregister.44723/fslregister/movvol.fslregister.nii --frame 0
mri_convert.bin ./tmp.bbregister.44723/template.nii ./tmp.bbregister.44723/fslregister/movvol.fslregister.nii --frame 0 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from ./tmp.bbregister.44723/template.nii...
TR=1000.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (0.987386, -0.1579, 0.0116606)
j_ras = (0.138769, 0.898507, 0.416448)
k_ras = (-0.0762342, -0.409577, 0.909085)
keeping frame 0
writing to ./tmp.bbregister.44723/fslregister/movvol.fslregister.nii...
Mov determinant is 5.02197
Swapping dims for pos det
WARNING:: Flipping Left/Right orientation (as det < 0)
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
target  volume ./tmp.bbregister.44723/fslregister/movvol.fslregister.nii
movable volume ./tmp.bbregister.44723/template.nii
reg file       ./tmp.bbregister.44723/fslregister/swapreg.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target ./tmp.bbregister.44723/fslregister/movvol.fslregister.nii
INFO: target does not conform to COR format, so I'm going to
reslice to COR. This will not affect the final registration.
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.44723/template.nii
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 1, float2int = 0
Computing reg from header (and possibly input matrix)
---- Input registration matrix (computed) --------
-0.98739   0.15790  -0.01166   1.71875;
-0.07623  -0.40958   0.90908  -0.00002;
-0.13877  -0.89851  -0.41645  -0.00000;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
-0.98739   0.15790  -0.01166   1.71875;
-0.07623  -0.40958   0.90908  -0.00002;
-0.13877  -0.89851  -0.41645  -0.00000;
 0.00000   0.00000   0.00000   1.00000;
Determinant -1
subject = subject-unknown
RegMat ---------------------------
-1.00000   0.00000   0.00000   1.71875;
 0.00000   1.00000   0.00000  -0.00002;
 0.00000   0.00000   1.00000  -0.00000;
 0.00000   0.00000   0.00000   1.00000;
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_050/preproc
tkregister2_cmdl --mov ./tmp.bbregister.44723/fslregister/movvol.fslregister.nii --reg ./tmp.bbregister.44723/fslregister/reg0.44763.dat --regheader --fslregout ./tmp.bbregister.44723/reg.init.dat.fsl.mat0 --s Patient_050 --noedit
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume ./tmp.bbregister.44723/fslregister/movvol.fslregister.nii
reg file       ./tmp.bbregister.44723/fslregister/reg0.44763.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target /working/lab_michaebr/alistaiP/Park/FS/Patient_050/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.44723/fslregister/movvol.fslregister.nii
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 1, float2int = 0
Computing reg from header (and possibly input matrix)
---- Input registration matrix (computed) --------
 0.98739  -0.15790   0.01166   0.97652;
-0.07623  -0.40958   0.90908  -0.34999;
-0.13877  -0.89851  -0.41645   0.74216;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
 0.98739  -0.15790   0.01166   0.97652;
-0.07623  -0.40958   0.90908  -0.34999;
-0.13877  -0.89851  -0.41645   0.74216;
 0.00000   0.00000   0.00000   1.00000;
Determinant 1
subject = Patient_050
RegMat ---------------------------
 0.98739  -0.15790   0.01166   0.97652;
-0.07623  -0.40958   0.90908  -0.34999;
-0.13877  -0.89851  -0.41645   0.74216;
 0.00000   0.00000   0.00000   1.00000;
FSLOUTPUTTYPE NIFTI 
tkreg2FSL: mov det = -5.02197, ref det = -1
Sat Mar 18 06:39:45 AEST 2017
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_050/preproc
flirt.fsl -ref ./tmp.bbregister.44723/fslregister/refvol.fslregister.nii -in ./tmp.bbregister.44723/fslregister/movvol.fslregister.nii -bins 256 -cost corratio -dof 6 -searchrx -90 90 -searchry -90 90 -searchrz -90 90 -verbose 0 -omat ./tmp.bbregister.44723/fslregister/fslmat0.trans.mat -schedule /software/freesurfer/freesurfer-6.0.0/bin/fsl.5.0.2.xyztrans.sch -init ./tmp.bbregister.44723/reg.init.dat.fsl.mat0
Sat Mar 18 06:40:20 AEST 2017
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_050/preproc
flirt.fsl -ref ./tmp.bbregister.44723/fslregister/refvol.fslregister.nii -in ./tmp.bbregister.44723/fslregister/movvol.fslregister.nii -bins 256 -cost corratio -dof 6 -searchrx -90 90 -searchry -90 90 -searchrz -90 90 -verbose 0 -omat ./tmp.bbregister.44723/reg.init.dat.fsl.mat -init ./tmp.bbregister.44723/fslregister/fslmat0.trans.mat -schedule /software/freesurfer/freesurfer-6.0.0/bin/flirt.newdefault.20080811.sch
tkregister2_cmdl --s Patient_050 --mov ./tmp.bbregister.44723/fslregister/movvol.fslregister.nii --reg ./tmp.bbregister.44723/reg.init.dat --fslreg ./tmp.bbregister.44723/reg.init.dat.fsl.mat --noedit
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
---- FSL registration matrix --------
 0.98493  -0.14637   0.09216   29.23440;
 0.02568  -0.40313  -0.91478   238.72000;
 0.17105   0.90336  -0.39329   42.39680;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume ./tmp.bbregister.44723/fslregister/movvol.fslregister.nii
reg file       ./tmp.bbregister.44723/reg.init.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target /working/lab_michaebr/alistaiP/Park/FS/Patient_050/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.44723/fslregister/movvol.fslregister.nii
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 0, float2int = 0
FSLOUTPUTTYPE NIFTI 
fsl2TkReg: mov det = -5.02197, ref det = -1
---- Input registration matrix (computed) --------
 0.98493  -0.17105   0.02568   0.92438;
-0.09216  -0.39329   0.91478   0.22003;
-0.14637  -0.90336  -0.40313   2.49181;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
 0.98493  -0.17105   0.02568   0.92438;
-0.09216  -0.39329   0.91478   0.22003;
-0.14637  -0.90336  -0.40313   2.49181;
 0.00000   0.00000   0.00000   1.00000;
Determinant 1
subject = Patient_050
RegMat ---------------------------
 0.98493  -0.17105   0.02568   0.92438;
-0.09216  -0.39329   0.91478   0.22003;
-0.14637  -0.90336  -0.40313   2.49181;
 0.00000   0.00000   0.00000   1.00000;
mri_matrix_multiply -im ./tmp.bbregister.44723/fslregister/swapreg.dat -im ./tmp.bbregister.44723/reg.init.dat -om ./tmp.bbregister.44723/reg.init.dat
(standard_in) 1: illegal character: P
 
Started at Sat Mar 18 06:39:43 AEST 2017 
Ended   at Sat Mar 18 06:41:37 AEST 2017
 
fslregister Done
 
To check results, run:
tkregister2 --mov ./tmp.bbregister.44723/template.nii --reg ./tmp.bbregister.44723/reg.init.dat --surf orig
 
mri_segreg --mov ./tmp.bbregister.44723/template.nii --init-reg ./tmp.bbregister.44723/reg.init.dat --out-reg ./tmp.bbregister.44723/bbr.pass1.dat --subsamp-brute 100 --subsamp 100 --tol 1e-4 --tol1d 1e-3 --brute -4 4 4 --surf white --gm-proj-frac 0.5 --gm-gt-wm 0.5
$Id: mri_segreg.c,v 1.113 2016/05/10 03:23:20 greve Exp $
setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/Park/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_050/preproc
mri_segreg --mov ./tmp.bbregister.44723/template.nii --init-reg ./tmp.bbregister.44723/reg.init.dat --out-reg ./tmp.bbregister.44723/bbr.pass1.dat --subsamp-brute 100 --subsamp 100 --tol 1e-4 --tol1d 1e-3 --brute -4 4 4 --surf white --gm-proj-frac 0.5 --gm-gt-wm 0.5 
sysname  Linux
hostname hpcnode039.adqimr.ad.lan
machine  x86_64
user     alistaiP
movvol ./tmp.bbregister.44723/template.nii
regfile ./tmp.bbregister.44723/reg.init.dat
subject Patient_050
dof 6
outregfile ./tmp.bbregister.44723/bbr.pass1.dat
UseMask 0
UseLH 1
UseRH 1
nsubsamp 100
PenaltySign  -1
PenaltySlope 0.500000
PenaltyCenter 0.000000
surfname white
GMProjFrac 0.500000
WMProjAbs 2.000000
lhcostfile (null)
rhcostfile (null)
interp  trilinear (1)
frame  0
TolPowell 0.000100
nMaxItersPowell 36
n1dmin  3
Profile   0
Gdiag_no  -1
AddNoise  0 (0)
SynthSeed 1490416046
TransRandMax 0.000000
RotRandMax 0.000000
Translations 0.000000 0.000000 0.000000
Rotations   0.000000 0.000000 0.000000
Input reg
-0.98493   0.17105  -0.02568   0.79437;
-0.09216  -0.39329   0.91478   0.22002;
-0.14637  -0.90336  -0.40313   2.49180;
 0.00000   0.00000   0.00000   1.00000;

Loading mov
Projecting LH Surfs
Loading lh.white surf
Loading lh.thickness for GM
GM Proj: 1 0.500000 2.000000
WM Proj: 0 0.500000 2.000000
Projecting RH Surfs
Loading rh.white surf
Loading rh.thickness for GM
Projecting RH Surfs
Using lh.cortex.label
Using rh.cortex.label
Computing relative cost
 0  -25.0 -25.0 -25.0   1.024557
 1  -25.0 -25.0  25.0   1.018028
 2  -25.0  25.0 -25.0   0.975591
 3  -25.0  25.0  25.0   1.050214
 4   25.0 -25.0 -25.0   0.984320
 5   25.0 -25.0  25.0   0.990085
 6   25.0  25.0 -25.0   1.016616
 7   25.0  25.0  25.0   0.967565
REL:  8  0.293690    8.026976  1.003372 rel = 0.292703 
Initial costs ----------------
Number of surface hits 2347
WM  Intensity   434.2636 +/- 104.1370
Ctx Intensity   659.9708 +/- 264.8411
Pct Contrast     35.3967 +/-  36.7413
Cost   0.2937
RelCost   0.2927

------------------------------------
Brute force preopt -4 4 4, n = 729
     0  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000      0.9776   0.9776  0.0
     1  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000   0.0000      0.9711   0.9711  0.0
     7  -4.0000  -4.0000  -4.0000  -4.0000   4.0000   0.0000      0.8697   0.8697  0.0
    15  -4.0000  -4.0000  -4.0000   0.0000   4.0000  -4.0000      0.8341   0.8341  0.0
    24  -4.0000  -4.0000  -4.0000   4.0000   4.0000  -4.0000      0.8272   0.8272  0.0
    33  -4.0000  -4.0000   0.0000  -4.0000   4.0000  -4.0000      0.7957   0.7957  0.0
    39  -4.0000  -4.0000   0.0000   0.0000   0.0000  -4.0000      0.7820   0.7820  0.0
   120  -4.0000   0.0000   0.0000   0.0000   0.0000  -4.0000      0.7436   0.7436  0.0
   123  -4.0000   0.0000   0.0000   0.0000   4.0000  -4.0000      0.7196   0.7196  0.0
   124  -4.0000   0.0000   0.0000   0.0000   4.0000   0.0000      0.7049   0.7049  0.0
   274   0.0000  -4.0000   0.0000  -4.0000   0.0000   0.0000      0.6250   0.6250  0.0
   283   0.0000  -4.0000   0.0000   0.0000   0.0000   0.0000      0.6234   0.6234  0.0
   364   0.0000   0.0000   0.0000   0.0000   0.0000   0.0000      0.2937   0.2937  0.0
Brute Force --------------------------
Min cost was 0.293690
Number of iterations   729
Search time 2.931000 sec
Parameters at best (transmm, rotdeg)
  0.000   0.000   0.000  0.000  0.000  0.000 
--------------------------------------------

Starting Powell Minimization
Init Powel Params dof = 6
0 0
1 0
2 0
3 0
4 0
5 0
fs_powell::minimize
  nparams 6
  maxfev 36
  ftol   0.000100
  linmin_xtol_   0.001000
  powell nthiter 0: fret = 0.293690
  11  0.015  0.000  0.000  0.000  0.000  0.000   0.2935686835
  12  0.014  0.000  0.000  0.000  0.000  0.000   0.2935672369
  13  0.013  0.000  0.000  0.000  0.000  0.000   0.2935670123
  18  0.013 -1.618  0.000  0.000  0.000  0.000   0.1884794365
  19  0.013 -1.522  0.000  0.000  0.000  0.000   0.1838393202
  21  0.013 -0.941  0.000  0.000  0.000  0.000   0.1808094033
  23  0.013 -1.209  0.000  0.000  0.000  0.000   0.1716960945
  26  0.013 -1.188  0.000  0.000  0.000  0.000   0.1713791509
  27  0.013 -1.183  0.000  0.000  0.000  0.000   0.1713467399
  29  0.013 -1.181  0.000  0.000  0.000  0.000   0.1713443862
  32  0.013 -1.181  1.000  0.000  0.000  0.000   0.1478983891
  36  0.013 -1.181  0.618  0.000  0.000  0.000   0.1381301829
  40  0.013 -1.181  0.620  0.000  0.000  0.000   0.1381283734
  49  0.013 -1.181  0.620 -0.098  0.000  0.000   0.1371363400
  51  0.013 -1.181  0.620 -0.081  0.000  0.000   0.1370231395
  52  0.013 -1.181  0.620 -0.050  0.000  0.000   0.1369701367
  53  0.013 -1.181  0.620 -0.057  0.000  0.000   0.1369423714
  54  0.013 -1.181  0.620 -0.062  0.000  0.000   0.1369376867
  64  0.013 -1.181  0.620 -0.062  0.016  0.000   0.1369021378
  66  0.013 -1.181  0.620 -0.062  0.012  0.000   0.1368924598
  68  0.013 -1.181  0.620 -0.062  0.010  0.000   0.1368922315
  75  0.013 -1.181  0.620 -0.062  0.010  0.382   0.1256884408
  76  0.013 -1.181  0.620 -0.062  0.010  0.367   0.1256674639
  77  0.013 -1.181  0.620 -0.062  0.010  0.366   0.1256643398
  81  0.013 -1.181  0.620 -0.062  0.010  0.358   0.1256414029
  83  0.013 -1.181  0.620 -0.062  0.010  0.357   0.1256399133
  powell nthiter 1: fret = 0.125640
  92 -0.173 -1.181  0.620 -0.062  0.010  0.357   0.1218378042
  94 -0.147 -1.181  0.620 -0.062  0.010  0.357   0.1213195628
  95 -0.086 -1.181  0.620 -0.062  0.010  0.357   0.1207479659
  97 -0.107 -1.181  0.620 -0.062  0.010  0.357   0.1206330990
  99 -0.102 -1.181  0.620 -0.062  0.010  0.357   0.1206149209
 100 -0.101 -1.181  0.620 -0.062  0.010  0.357   0.1206123680
 101 -0.100 -1.181  0.620 -0.062  0.010  0.357   0.1206121245
 111 -0.100 -1.185  0.620 -0.062  0.010  0.357   0.1204951676
 112 -0.100 -1.210  0.620 -0.062  0.010  0.357   0.1204735200
 114 -0.100 -1.198  0.620 -0.062  0.010  0.357   0.1203716065
 116 -0.100 -1.197  0.620 -0.062  0.010  0.357   0.1203711177
 125 -0.100 -1.197  0.691 -0.062  0.010  0.357   0.1196488704
 126 -0.100 -1.197  0.707 -0.062  0.010  0.357   0.1195357329
 128 -0.100 -1.197  0.755 -0.062  0.010  0.357   0.1192002061
 131 -0.100 -1.197  0.756 -0.062  0.010  0.357   0.1191997565
 132 -0.100 -1.197  0.758 -0.062  0.010  0.357   0.1191995744
 133 -0.100 -1.197  0.759 -0.062  0.010  0.357   0.1191995629
 141 -0.100 -1.197  0.759 -0.187  0.010  0.357   0.1173209066
 142 -0.100 -1.197  0.759 -0.205  0.010  0.357   0.1162079149
 144 -0.100 -1.197  0.759 -0.279  0.010  0.357   0.1146221917
 145 -0.100 -1.197  0.759 -0.267  0.010  0.357   0.1144702759
 146 -0.100 -1.197  0.759 -0.262  0.010  0.357   0.1144161044
 148 -0.100 -1.197  0.759 -0.256  0.010  0.357   0.1143912102
 149 -0.100 -1.197  0.759 -0.254  0.010  0.357   0.1143908417
 151 -0.100 -1.197  0.759 -0.255  0.010  0.357   0.1143899156
 158 -0.100 -1.197  0.759 -0.255  0.154  0.357   0.1126085736
 161 -0.100 -1.197  0.759 -0.255  0.173  0.357   0.1125549076
 162 -0.100 -1.197  0.759 -0.255  0.166  0.357   0.1125303050
 163 -0.100 -1.197  0.759 -0.255  0.165  0.357   0.1125301495
 172 -0.100 -1.197  0.759 -0.255  0.165  0.420   0.1117209816
 174 -0.100 -1.197  0.759 -0.255  0.165  0.435   0.1113485448
 176 -0.100 -1.197  0.759 -0.255  0.165  0.451   0.1111356284
  powell nthiter 2: fret = 0.111136
 189 -0.102 -1.197  0.759 -0.255  0.165  0.451   0.1111335544
 200 -0.102 -1.223  0.759 -0.255  0.165  0.451   0.1104012220
 202 -0.102 -1.227  0.759 -0.255  0.165  0.451   0.1103937890
 203 -0.102 -1.226  0.759 -0.255  0.165  0.451   0.1103930477
 213 -0.102 -1.226  0.788 -0.255  0.165  0.451   0.1101773313
 214 -0.102 -1.226  0.784 -0.255  0.165  0.451   0.1101333639
 215 -0.102 -1.226  0.779 -0.255  0.165  0.451   0.1101203540
 226 -0.102 -1.226  0.779 -0.260  0.165  0.451   0.1100950904
 227 -0.102 -1.226  0.779 -0.265  0.165  0.451   0.1100927900
 228 -0.102 -1.226  0.779 -0.263  0.165  0.451   0.1100906676
 239 -0.102 -1.226  0.779 -0.263  0.154  0.451   0.1100650264
 241 -0.102 -1.226  0.779 -0.263  0.155  0.451   0.1100646697
  powell nthiter 3: fret = 0.110065
 264 -0.105 -1.226  0.779 -0.263  0.155  0.451   0.1100523721
 265 -0.107 -1.226  0.779 -0.263  0.155  0.451   0.1100503736
 275 -0.107 -1.232  0.779 -0.263  0.155  0.451   0.1100472657
 276 -0.107 -1.230  0.779 -0.263  0.155  0.451   0.1100430453
 287 -0.107 -1.230  0.781 -0.263  0.155  0.451   0.1100387777
 288 -0.107 -1.230  0.782 -0.263  0.155  0.451   0.1100385787
 298 -0.107 -1.230  0.782 -0.266  0.155  0.451   0.1100358513
 299 -0.107 -1.230  0.782 -0.265  0.155  0.451   0.1100353257
 320 -0.107 -1.230  0.782 -0.265  0.155  0.449   0.1100317789
 323 -0.112 -1.233  0.785 -0.268  0.155  0.446   0.1100283023
  powell nthiter 4: fret = 0.110032
 333 -0.110 -1.230  0.782 -0.265  0.155  0.449   0.1100258346
 346 -0.110 -1.231  0.782 -0.265  0.155  0.449   0.1100243921
 347 -0.110 -1.232  0.782 -0.265  0.155  0.449   0.1100243524
 379 -0.110 -1.232  0.782 -0.265  0.156  0.449   0.1100241343
 380 -0.110 -1.232  0.782 -0.265  0.157  0.449   0.1100241163
 392 -0.110 -1.232  0.782 -0.265  0.157  0.446   0.1100196231
 395 -0.114 -1.234  0.782 -0.265  0.159  0.443   0.1100136885
 400 -0.116 -1.235  0.782 -0.265  0.160  0.441   0.1100132821
 402 -0.115 -1.235  0.782 -0.265  0.160  0.442   0.1100131056
 405 -0.115 -1.235  0.782 -0.265  0.160  0.442   0.1100130916
  powell nthiter 5: fret = 0.110013
 431 -0.115 -1.236  0.782 -0.265  0.160  0.442   0.1100125904
 442 -0.115 -1.236  0.781 -0.265  0.160  0.442   0.1100114646
 462 -0.115 -1.236  0.781 -0.265  0.159  0.442   0.1100113132
 469 -0.117 -1.236  0.781 -0.265  0.159  0.441   0.1100113113
 470 -0.116 -1.236  0.781 -0.265  0.159  0.441   0.1100111012
 472 -0.116 -1.236  0.781 -0.265  0.159  0.441   0.1100109815
 474 -0.116 -1.236  0.781 -0.265  0.159  0.441   0.1100108829
Powell done niters = 5
Computing relative cost
 0  -25.0 -25.0 -25.0   1.031939
 1  -25.0 -25.0  25.0   1.017540
 2  -25.0  25.0 -25.0   0.982155
 3  -25.0  25.0  25.0   1.032826
 4   25.0 -25.0 -25.0   0.988819
 5   25.0 -25.0  25.0   0.989846
 6   25.0  25.0 -25.0   1.003030
 7   25.0  25.0  25.0   0.959585
REL:  8  0.110011    8.005740  1.000718 rel = 0.109932 
Number of iterations     5
Min cost was 0.110011
Number of FunctionCalls   478
TolPowell 0.000100
nMaxItersPowell 36
OptimizationTime 1.960000 sec
Parameters at optimum (transmm) -0.11615 -1.23604  0.78083
Parameters at optimum (rotdeg) -0.26509  0.15923  0.44117 
Final costs ----------------
Number of surface hits 2347
WM  Intensity   411.0308 +/-  85.9409
Ctx Intensity   621.1687 +/- 172.0156
Pct Contrast     38.3649 +/-  27.4242
Cost   0.1100
RelCost   0.2927
Reg at min cost was 
-0.98459   0.17160  -0.03385   0.68333;
-0.10042  -0.39616   0.91268  -0.99833;
-0.14321  -0.90201  -0.40728   3.26937;
 0.00000   0.00000   0.00000   1.00000;

Writing optimal reg to ./tmp.bbregister.44723/bbr.pass1.dat, type = 14 
Original Reg 
-0.98493   0.17105  -0.02568   0.79437;
-0.09216  -0.39329   0.91478   0.22002;
-0.14637  -0.90336  -0.40313   2.49180;
 0.00000   0.00000   0.00000   1.00000;

Original Reg - Optimal Reg
-0.00034  -0.00055   0.00816   0.11104;
 0.00826   0.00287   0.00211   1.21835;
-0.00317  -0.00136   0.00416  -0.77757;
 0.00000   0.00000   0.00000   0.00000;

Computing change in lh position
LH rmsDiffMean 1.120080
Computing change in rh position
Surface-RMS-Diff-mm 1.341967 0.294737 1.984263
mri_segreg done
mri_segreg --mov ./tmp.bbregister.44723/template.nii --init-reg ./tmp.bbregister.44723/bbr.pass1.dat --out-reg register.dat --interp trilinear --wm-proj-abs 2 --tol 1e-8 --tol1d 1e-3 --c0 0 --mincost register.dat.mincost --dof 6 --nmax 36 --param register.dat.param --surf white --brute -0.1 0.1 0.1 --cur-reg ./tmp.bbregister.44723/reg.curopt.dat --gm-proj-frac 0.5 --nsub 1 --gm-gt-wm 0.5
$Id: mri_segreg.c,v 1.113 2016/05/10 03:23:20 greve Exp $
setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/Park/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_050/preproc
mri_segreg --mov ./tmp.bbregister.44723/template.nii --init-reg ./tmp.bbregister.44723/bbr.pass1.dat --out-reg register.dat --interp trilinear --wm-proj-abs 2 --tol 1e-8 --tol1d 1e-3 --c0 0 --mincost register.dat.mincost --dof 6 --nmax 36 --param register.dat.param --surf white --brute -0.1 0.1 0.1 --cur-reg ./tmp.bbregister.44723/reg.curopt.dat --gm-proj-frac 0.5 --nsub 1 --gm-gt-wm 0.5 
sysname  Linux
hostname hpcnode039.adqimr.ad.lan
machine  x86_64
user     alistaiP
movvol ./tmp.bbregister.44723/template.nii
regfile ./tmp.bbregister.44723/bbr.pass1.dat
subject Patient_050
dof 6
outregfile register.dat
UseMask 0
UseLH 1
UseRH 1
nsubsamp 1
PenaltySign  -1
PenaltySlope 0.500000
PenaltyCenter 0.000000
surfname white
GMProjFrac 0.500000
WMProjAbs 2.000000
lhcostfile (null)
rhcostfile (null)
interp  trilinear (1)
frame  0
TolPowell 0.000000
nMaxItersPowell 36
n1dmin  3
Profile   0
Gdiag_no  -1
AddNoise  0 (0)
SynthSeed 1490740704
TransRandMax 0.000000
RotRandMax 0.000000
Translations 0.000000 0.000000 0.000000
Rotations   0.000000 0.000000 0.000000
Input reg
-0.98459   0.17160  -0.03385   0.68333;
-0.10042  -0.39616   0.91268  -0.99833;
-0.14321  -0.90201  -0.40728   3.26937;
 0.00000   0.00000   0.00000   1.00000;

Loading mov
Projecting LH Surfs
Loading lh.white surf
Loading lh.thickness for GM
GM Proj: 1 0.500000 2.000000
WM Proj: 0 0.500000 2.000000
Projecting RH Surfs
Loading rh.white surf
Loading rh.thickness for GM
Projecting RH Surfs
Using lh.cortex.label
Using rh.cortex.label
Computing relative cost
 0  -25.0 -25.0 -25.0   1.033375
 1  -25.0 -25.0  25.0   1.013580
 2  -25.0  25.0 -25.0   1.014627
 3  -25.0  25.0  25.0   1.032287
 4   25.0 -25.0 -25.0   0.994089
 5   25.0 -25.0  25.0   1.004589
 6   25.0  25.0 -25.0   0.996785
 7   25.0  25.0  25.0   0.977399
REL:  8  0.119207    8.066732  1.008342 rel = 0.118221 
Initial costs ----------------
Number of surface hits 234084
WM  Intensity   410.4457 +/-  89.4461
Ctx Intensity   619.2807 +/- 170.0142
Pct Contrast     38.3332 +/-  27.5653
Cost   0.1192
RelCost   0.1182

------------------------------------
Brute force preopt -0.1 0.1 0.1, n = 729
     0  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000      0.1164   0.1164  0.0
     1  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000   0.0000      0.1151   0.1151  0.0
     4  -0.1000  -0.1000  -0.1000  -0.1000   0.0000   0.0000      0.1150   0.1150  0.0
     6  -0.1000  -0.1000  -0.1000  -0.1000   0.1000  -0.1000      0.1133   0.1133  0.0
     7  -0.1000  -0.1000  -0.1000  -0.1000   0.1000   0.0000      0.1124   0.1124  0.0
   120  -0.1000   0.0000   0.0000   0.0000   0.0000  -0.1000      0.1123   0.1123  0.0
   364   0.0000   0.0000   0.0000   0.0000   0.0000   0.0000      0.1100   0.1100  0.0
Brute Force --------------------------
Min cost was 0.110011
Number of iterations   729
Search time 2.535000 sec
Parameters at best (transmm, rotdeg)
  0.000   0.000   0.000  0.000  0.000  0.000 
--------------------------------------------

Starting Powell Minimization
Init Powel Params dof = 6
0 0
1 0
2 0
3 0
4 0
5 0
fs_powell::minimize
  nparams 6
  maxfev 36
  ftol   0.000000
  linmin_xtol_   0.001000
  powell nthiter 0: fret = 0.119207
   8  0.008  0.000  0.000  0.000  0.000  0.000   0.1191913609
  12  0.007  0.000  0.000  0.000  0.000  0.000   0.1191909874
  20  0.007 -0.139  0.000  0.000  0.000  0.000   0.1173065070
  22  0.007 -0.136  0.000  0.000  0.000  0.000   0.1173057514
  31  0.007 -0.136  0.030  0.000  0.000  0.000   0.1172441550
  33  0.007 -0.136  0.032  0.000  0.000  0.000   0.1172439128
  43  0.007 -0.136  0.032 -0.040  0.000  0.000   0.1170798061
  44  0.007 -0.136  0.032 -0.045  0.000  0.000   0.1170784306
  45  0.007 -0.136  0.032 -0.044  0.000  0.000   0.1170784111
  54  0.007 -0.136  0.032 -0.044  0.011  0.000   0.1170707231
  55  0.007 -0.136  0.032 -0.044  0.010  0.000   0.1170699196
  56  0.007 -0.136  0.032 -0.044  0.008  0.000   0.1170691081
  65  0.007 -0.136  0.032 -0.044  0.008 -0.136   0.1157950583
  67  0.007 -0.136  0.032 -0.044  0.008 -0.133   0.1157939865
  68  0.007 -0.136  0.032 -0.044  0.008 -0.132   0.1157939441
  powell nthiter 1: fret = 0.115794
  77 -0.057 -0.136  0.032 -0.044  0.008 -0.132   0.1152009792
  78 -0.065 -0.136  0.032 -0.044  0.008 -0.132   0.1151960002
  80 -0.066 -0.136  0.032 -0.044  0.008 -0.132   0.1151959180
  90 -0.066 -0.141  0.032 -0.044  0.008 -0.132   0.1151929794
  99 -0.066 -0.141  0.054 -0.044  0.008 -0.132   0.1151618242
 100 -0.066 -0.141  0.053 -0.044  0.008 -0.132   0.1151614842
 101 -0.066 -0.141  0.051 -0.044  0.008 -0.132   0.1151612486
 103 -0.066 -0.141  0.050 -0.044  0.008 -0.132   0.1151612137
 112 -0.066 -0.141  0.050 -0.042  0.008 -0.132   0.1151608544
 113 -0.066 -0.141  0.050 -0.041  0.008 -0.132   0.1151607174
 114 -0.066 -0.141  0.050 -0.040  0.008 -0.132   0.1151606070
 120 -0.066 -0.141  0.050 -0.039  0.008 -0.132   0.1151605991
 127 -0.066 -0.141  0.050 -0.039  0.074 -0.132   0.1148612929
 128 -0.066 -0.141  0.050 -0.039  0.066 -0.132   0.1148593085
 133 -0.066 -0.141  0.050 -0.039  0.065 -0.132   0.1148590972
 141 -0.066 -0.141  0.050 -0.039  0.065 -0.172   0.1147501084
 142 -0.066 -0.141  0.050 -0.039  0.065 -0.168   0.1147468534
 143 -0.066 -0.141  0.050 -0.039  0.065 -0.165   0.1147465307
 145 -0.066 -0.141  0.050 -0.039  0.065 -0.166   0.1147463812
  powell nthiter 2: fret = 0.114746
 153 -0.093 -0.141  0.050 -0.039  0.065 -0.166   0.1147419109
 154 -0.080 -0.141  0.050 -0.039  0.065 -0.166   0.1147104740
 155 -0.079 -0.141  0.050 -0.039  0.065 -0.166   0.1147104396
 164 -0.079 -0.139  0.050 -0.039  0.065 -0.166   0.1147100145
 173 -0.079 -0.139  0.056 -0.039  0.065 -0.166   0.1147009343
 174 -0.079 -0.139  0.065 -0.039  0.065 -0.166   0.1146926185
 176 -0.079 -0.139  0.068 -0.039  0.065 -0.166   0.1146921046
 186 -0.079 -0.139  0.068 -0.043  0.065 -0.166   0.1146892153
 187 -0.079 -0.139  0.068 -0.044  0.065 -0.166   0.1146890171
 196 -0.079 -0.139  0.068 -0.044  0.070 -0.166   0.1146866131
 198 -0.079 -0.139  0.068 -0.044  0.069 -0.166   0.1146865018
 206 -0.079 -0.139  0.068 -0.044  0.069 -0.179   0.1146812144
 207 -0.079 -0.139  0.068 -0.044  0.069 -0.175   0.1146803957
  powell nthiter 3: fret = 0.114680
 219 -0.081 -0.139  0.068 -0.044  0.069 -0.175   0.1146798715
 222 -0.080 -0.139  0.068 -0.044  0.069 -0.175   0.1146797559
 229 -0.080 -0.142  0.068 -0.044  0.069 -0.175   0.1146771544
 230 -0.080 -0.144  0.068 -0.044  0.069 -0.175   0.1146768647
 239 -0.080 -0.144  0.071 -0.044  0.069 -0.175   0.1146762243
 240 -0.080 -0.144  0.070 -0.044  0.069 -0.175   0.1146761880
 258 -0.080 -0.144  0.070 -0.044  0.070 -0.175   0.1146761780
 266 -0.080 -0.144  0.070 -0.044  0.070 -0.179   0.1146746473
 268 -0.080 -0.144  0.070 -0.044  0.070 -0.178   0.1146744866
  powell nthiter 4: fret = 0.114674
 278 -0.081 -0.144  0.070 -0.044  0.070 -0.178   0.1146739487
 279 -0.082 -0.144  0.070 -0.044  0.070 -0.178   0.1146738816
 324 -0.082 -0.144  0.070 -0.044  0.070 -0.180   0.1146734966
  powell nthiter 5: fret = 0.114673
 336 -0.083 -0.144  0.070 -0.044  0.070 -0.180   0.1146734279
 363 -0.083 -0.144  0.070 -0.041  0.070 -0.180   0.1146733134
 365 -0.083 -0.144  0.070 -0.042  0.070 -0.180   0.1146731666
 373 -0.083 -0.144  0.070 -0.042  0.071 -0.180   0.1146731075
  powell nthiter 6: fret = 0.114673
Powell done niters = 6
Computing relative cost
 0  -25.0 -25.0 -25.0   1.032951
 1  -25.0 -25.0  25.0   1.012867
 2  -25.0  25.0 -25.0   1.016480
 3  -25.0  25.0  25.0   1.030763
 4   25.0 -25.0 -25.0   0.996461
 5   25.0 -25.0  25.0   1.004449
 6   25.0  25.0 -25.0   0.995217
 7   25.0  25.0  25.0   0.979457
REL:  8  0.114673    8.068645  1.008581 rel = 0.113698 
Number of iterations     6
Min cost was 0.114673
Number of FunctionCalls   438
TolPowell 0.000000
nMaxItersPowell 36
OptimizationTime 65.545000 sec
Parameters at optimum (transmm) -0.08342 -0.14401  0.06992
Parameters at optimum (rotdeg) -0.04246  0.07107 -0.18031 
Final costs ----------------
Number of surface hits 234079
WM  Intensity   409.6638 +/-  88.4919
Ctx Intensity   616.3059 +/- 166.5507
Pct Contrast     38.1536 +/-  27.2600
Cost   0.1147
RelCost   0.1182
Reg at min cost was 
-0.98507   0.16923  -0.03148   0.60083;
-0.09742  -0.39736   0.91248  -1.14208;
-0.14191  -0.90192  -0.40791   3.33917;
 0.00000   0.00000   0.00000   1.00000;

Writing optimal reg to register.dat, type = 14 
Original Reg 
-0.98459   0.17160  -0.03385   0.68333;
-0.10042  -0.39616   0.91268  -0.99833;
-0.14321  -0.90201  -0.40728   3.26937;
 0.00000   0.00000   0.00000   1.00000;

Original Reg - Optimal Reg
 0.00049   0.00237  -0.00237   0.08250;
-0.00299   0.00120   0.00020   0.14375;
-0.00130  -0.00008   0.00063  -0.06980;
 0.00000   0.00000   0.00000   0.00000;

Computing change in lh position
LH rmsDiffMean 0.235396
Computing change in rh position
Surface-RMS-Diff-mm 0.187602 0.065412 0.363337
mri_segreg done
MinCost: 0.114673 409.663767 616.305876 38.153558 
tkregister2_cmdl --mov biasmeanb0bet.nii.gz --reg register.dat --noedit --fslregout diff2FS.mat
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume biasmeanb0bet.nii.gz
reg file       register.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
---- Input registration matrix --------
-0.98507   0.16923  -0.03148   0.60083;
-0.09742  -0.39736   0.91248  -1.14208;
-0.14191  -0.90192  -0.40791   3.33917;
 0.00000   0.00000   0.00000   1.00000;
float2int = 0
---------------------------------------
INFO: loading target /working/lab_michaebr/alistaiP/Park/FS/Patient_050/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable biasmeanb0bet.nii.gz
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 0, float2int = 0
---- Input registration matrix --------
-0.98507   0.16923  -0.03148   0.60083;
-0.09742  -0.39736   0.91248  -1.14208;
-0.14191  -0.90192  -0.40791   3.33917;
 0.00000   0.00000   0.00000   1.00000;
Determinant -1
subject = Patient_050
RegMat ---------------------------
-0.98507   0.16923  -0.03148   0.60083;
-0.09742  -0.39736   0.91248  -1.14208;
-0.14191  -0.90192  -0.40791   3.33917;
 0.00000   0.00000   0.00000   1.00000;
FSLOUTPUTTYPE NIFTI_GZ 
tkreg2FSL: mov det = 5.02197, ref det = -1
INFO: FSL2FreeSurfer: Mov volume is NIFTI with positive det,
      applying LR flip to registration matrix.
Cleaning up
 
Started at Sat Mar 18 06:39:42 AEST 2017 
Ended   at Sat Mar 18 06:43:18 AEST 2017
BBR-Run-Time-Sec 216
 
bbregister Done
To check results, run:
tkregisterfv --mov biasmeanb0bet.nii.gz --reg register.dat --surfs 
 
dwi2response: [03;32m[0m
dwi2response: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation. Please consult the help page (-help option) for more information.[0m
dwi2response: [03;32m[0m
dwi2response: [03;32mGenerated temporary directory: /tmp/dwi2response-tmp-Z8XJ9O/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_050/preproc/biascorr.mif /tmp/dwi2response-tmp-Z8XJ9O/dwi.mif -stride 0,0,0,1
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_050/preproc/biasmeanb0bet_mask.nii.gz /tmp/dwi2response-tmp-Z8XJ9O/mask.mif -datatype bit
dwi2response: [03;32mChanging to temporary directory (/tmp/dwi2response-tmp-Z8XJ9O/)[0m
dwi2response: [03;32m2 unique b-value(s) detected: 0,3000 with 12,90 volumes.[0m
[03;34mCommand:[0m maskfilter mask.mif erode eroded_mask.mif -npass 3
[03;34mCommand:[0m dwiextract dwi.mif -shell 0 dwi_b0.mif
[03;34mCommand:[0m mrmath dwi_b0.mif mean mean_b0.mif -axis 3
[03;34mCommand:[0m mrcalc mean_b0.mif -finite mean_b0.mif 0 -if 0 -le err_b0.mif -datatype bit
[03;34mCommand:[0m dwiextract dwi.mif -shell 3000 dwi_b3000.mif
[03;34mCommand:[0m mrmath dwi_b3000.mif mean mean_b3000.mif -axis 3
[03;34mCommand:[0m mrcalc mean_b3000.mif -finite mean_b3000.mif 0 -if 0 -le err_b3000.mif -datatype bit
[03;34mCommand:[0m mrcalc mean_b0.mif mean_b3000.mif -divide -log sdm_b3000.mif
[03;34mCommand:[0m mrcalc sdm_b3000.mif 90 -mult 90 -divide full_sdm.mif
[03;34mCommand:[0m mrcalc full_sdm.mif -finite full_sdm.mif 0 -if 0 -le err_sdm.mif -datatype bit
[03;34mCommand:[0m mrcalc err_b0.mif err_b3000.mif -add err_sdm.mif -add 0 eroded_mask.mif -if safe_mask.mif -datatype bit
[03;34mCommand:[0m mrcalc safe_mask.mif full_sdm.mif 0 -if 10 -min safe_sdm.mif
[03;34mCommand:[0m dwi2tensor dwi.mif - -mask safe_mask.mif | tensor2metric - -fa safe_fa.mif -vector safe_vecs.mif -modulate none -mask safe_mask.mif
[03;34mCommand:[0m mrcalc safe_mask.mif safe_fa.mif 0 -if 0.2 -gt crude_wm.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_wm.mif 0 safe_mask.mif -if _crudenonwm.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudenonwm.mif safe_sdm.mif 2.49444 -subtract 0 -if - | mrthreshold - - -mask _crudenonwm.mif | mrcalc _crudenonwm.mif - 0 -if crude_csf.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_csf.mif 0 _crudenonwm.mif -if crude_gm.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_wm.mif safe_sdm.mif 0 -if 1.53797 -gt _crudewmhigh.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudewmhigh.mif 0 crude_wm.mif -if _crudewmlow.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_wm.mif safe_sdm.mif 0 -if 2.00606 -gt _crudewmoutliers.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudewmoutliers.mif 0 crude_wm.mif -if refined_wm.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_gm.mif safe_sdm.mif 0 -if 2.0279 -gt _crudegmhigh.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmhigh.mif 0 crude_gm.mif -if _crudegmlow.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmhigh.mif safe_sdm.mif 2.0279 -subtract 0 -if - | mrthreshold - - -mask _crudegmhigh.mif -invert | mrcalc _crudegmhigh.mif - 0 -if _crudegmhighselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmlow.mif safe_sdm.mif 2.0279 -subtract -neg 0 -if - | mrthreshold - - -mask _crudegmlow.mif -invert | mrcalc _crudegmlow.mif - 0 -if _crudegmlowselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmhighselect.mif 1 _crudegmlowselect.mif -if refined_gm.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudewmoutliers.mif safe_sdm.mif 0 -if 2.9747 -gt 1 crude_csf.mif -if _crudecsfextra.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudecsfextra.mif safe_sdm.mif 2.9747 -subtract 0 -if - | mrthreshold - - -mask _crudecsfextra.mif | mrcalc _crudecsfextra.mif - 0 -if refined_csf.mif -datatype bit
dwi2response: [03;32mRunning 'tournier' algorithm to select 425 single-fibre WM voxels.[0m
[03;34mCommand:[0m dwi2response tournier dwi.mif _respsfwmss.txt -sf_voxels 425 -iter_voxels 4250 -mask refined_wm.mif -voxels voxels_sfwm.mif -quiet -tempdir /tmp/dwi2response-tmp-Z8XJ9O/
[03;34mCommand:[0m mrcalc refined_gm.mif safe_sdm.mif 0 -if 2.01107 -gt _refinedgmhigh.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmhigh.mif 0 refined_gm.mif -if _refinedgmlow.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmhigh.mif safe_sdm.mif 0 -if - | mrthreshold - - -bottom 515 -ignorezero | mrcalc _refinedgmhigh.mif - 0 -if _refinedgmhighselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmlow.mif safe_sdm.mif 0 -if - | mrthreshold - - -top 515 -ignorezero | mrcalc _refinedgmlow.mif - 0 -if _refinedgmlowselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmhighselect.mif 1 _refinedgmlowselect.mif -if voxels_gm.mif -datatype bit
[03;34mCommand:[0m mrcalc refined_csf.mif safe_sdm.mif 0 -if - | mrthreshold - - -top 2375 -ignorezero | mrcalc refined_csf.mif - 0 -if voxels_csf.mif -datatype bit
dwi2response: [03;32mSummary of voxel counts:[0m
dwi2response: [03;32mMask: 287836 --> 231780 --> 231765[0m
dwi2response: [03;32mWM: 91230 --> 84973 --> 425 (SF)[0m
dwi2response: [03;32mGM: 89302 --> 51455 --> 1030[0m
dwi2response: [03;32mCSF: 51233 --> 23747 --> 2375[0m
[03;34mCommand:[0m amp2sh dwi_b0.mif - | sh2response - voxels_sfwm.mif safe_vecs.mif _respsfwmb0.txt
[03;34mCommand:[0m amp2sh dwi_b3000.mif - | sh2response - voxels_sfwm.mif safe_vecs.mif _respsfwmb3000.txt
[03;34mCommand:[0m mrcat crude_csf.mif crude_gm.mif crude_wm.mif crude.mif -axis 3
[03;34mCommand:[0m mrcat refined_csf.mif refined_gm.mif refined_wm.mif refined.mif -axis 3
[03;34mCommand:[0m mrcat voxels_csf.mif voxels_gm.mif voxels_sfwm.mif voxels.mif -axis 3
dwi2response: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_050/preproc)[0m
dwi2response: [03;32mDeleting temporary directory /tmp/dwi2response-tmp-Z8XJ9O/[0m
