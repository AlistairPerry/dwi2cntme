dwipreproc_cust: [03;32m[0m
dwipreproc_cust: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
dwipreproc_cust: [03;32m[0m
dwipreproc_cust: [03;32mGenerated temporary directory: /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_052/preproc/dwipreproc_cust-tmp-HXVNJC/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_052/preproc/rawdataAPdn.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_052/preproc/dwipreproc_cust-tmp-HXVNJC/series.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_052/preproc/AP7b0s.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_052/preproc/dwipreproc_cust-tmp-HXVNJC/pair1.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_052/preproc/rawdataPAdn.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_052/preproc/dwipreproc_cust-tmp-HXVNJC/pair2.mif
dwipreproc_cust: [03;32mChanging to temporary directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_052/preproc/dwipreproc_cust-tmp-HXVNJC/)[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 102[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -dwgrad' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult:           0           0           0           0
          0           0           0           0
  -0.999993  0.00301468 -0.00200967        3000
  0.0264858   -0.744279   -0.667344        3000
-0.00447557    0.517424    0.855718        3000
   0.272576    0.827819   -0.490324        3000
  -0.651708    0.404355   -0.641696        3000
   0.507554    0.261162    0.821087        3000
   0.959356    0.279811   0.0366371        3000
   0.534571    0.380161   -0.754792        3000
  -0.316782    0.128063   -0.939813        3000
          0           0           0           0
   0.504934   -0.590421   -0.629639        3000
    0.60026   0.0894531   -0.794787        3000
  -0.953747    -0.15545   -0.257299        3000
  -0.527903   -0.742263    0.412751        3000
   0.194466   -0.924779    0.327057        3000
  -0.365545    0.925593  -0.0982548        3000
   0.259502    0.930335    0.259106        3000
  0.0243556    0.509763    -0.85997        3000
  -0.614807     0.78809  -0.0304383        3000
          0           0           0           0
   0.872369   0.0375502    0.487403        3000
  -0.743797   -0.229581     0.62774        3000
   0.487621    0.676037    0.552448        3000
  -0.451455   -0.890528  -0.0561065        3000
  -0.662047   -0.431133    -0.61304        3000
   -0.85385    0.236223    -0.46383        3000
  -0.438926   -0.505746   -0.742674        3000
   0.957528   -0.139801   -0.252181        3000
  -0.703337   -0.594365   -0.389933        3000
          0           0           0           0
  -0.387314   -0.179672    0.904271        3000
   0.143378   -0.680663     0.71843        3000
   -0.80304   -0.595649   0.0181684        3000
  -0.288556   -0.136949   -0.947618        3000
   0.963191   -0.127897    0.236442        3000
   -0.15136   -0.695625    0.702279        3000
 -0.0172358    -0.98287    -0.18349        3000
  -0.376979   -0.897251    0.229842        3000
   0.668296    0.728399    0.151052        3000
          0           0           0           0
  -0.290509   -0.465151    0.836205        3000
  -0.721578   -0.163118   -0.672843        3000
    0.71742   -0.657969    0.228879        3000
   0.428595   -0.580428    0.692394        3000
   0.958778   -0.283413  -0.0205264        3000
   0.493557   -0.295606    0.817936        3000
  -0.894719    0.397412   -0.203817        3000
   0.203246    0.978796  -0.0254953        3000
  -0.231019    0.965471    0.120397        3000
          0           0           0           0
   0.739723    0.599597    -0.30544        3000
   0.844078     0.33543   -0.418353        3000
   0.105481   -0.283714     0.95309        3000
   0.239616    0.398922    0.885125        3000
   0.613821    0.778092   -0.133405        3000
  -0.266826      0.4566   -0.848717        3000
  -0.658449   -0.512593    0.551083        3000
   0.256779   -0.895068    -0.36458        3000
  -0.249561   -0.820126   -0.514891        3000
          0           0           0           0
   -0.57342    0.658274   -0.487713        3000
 -0.0215736   -0.248154    -0.96848        3000
  -0.224435     0.32066    0.920221        3000
    0.83692     0.32261    0.442139        3000
    0.86081    0.464713    0.207481        3000
  -0.487909   -0.809612   -0.326301        3000
   0.106269    0.947315    -0.30216        3000
  -0.542128  0.00466449   -0.840283        3000
   0.250518   -0.576145   -0.778009        3000
          0           0           0           0
   0.228826  -0.0498467    -0.97219        3000
   0.215939    0.652376    0.726482        3000
  -0.961554   -0.144552    0.233491        3000
  -0.312141    0.788206   -0.530376        3000
   0.870514     -0.4293   -0.240637        3000
  -0.844702    0.263879    0.465667        3000
  -0.894843   -0.410835    0.174558        3000
   0.703384   -0.678203   -0.212819        3000
   0.666323   -0.350701   -0.658044        3000
          0           0           0           0
  -0.516984    0.749062    0.414287        3000
   0.719799   -0.133738    0.681178        3000
  0.0403503  -0.0154587    0.999066        3000
  -0.827646    0.561204  0.00722024        3000
  -0.452633     0.38525     0.80418        3000
   0.879363   0.0296147    -0.47523        3000
   0.148488    0.245764   -0.957889        3000
   0.768251   -0.483108    0.419996        3000
   0.478861   -0.133818   -0.867632        3000
          0           0           0           0
  -0.717456    0.532255    0.449402        3000
   0.482884   -0.821868    0.302252        3000
  -0.281697    0.761356    0.583938        3000
 -0.0175567    0.846883    -0.53149        3000
   0.065733   -0.993181   0.0962819        3000
   0.421376    0.633099   -0.649329        3000
  -0.732913   0.0978053    0.673255        3000
  0.0005974    0.896238    0.443573        3000
   0.476187   -0.861795   -0.174803        3000
          0           0           0           0[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -stride' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 1 2 3 4[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair1.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair2.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
[03;34mCommand:[0m mrconvert series.mif dwi_pre_topup.nii -stride -1,+2,+3,+4
[03;34mCommand:[0m mrcat pair1.mif pair2.mif - -axis 3 | mrconvert - topup_in.nii -stride -1,+2,+3,+4
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair1.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair2.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
dwipreproc_cust: [03;32mCreating phase-encoding configuration file[0m
[03;34mCommand:[0m topup --imain=topup_in.nii --datain=config.txt --out=field --fout=field_map.nii.gz --config=/software/fsl/fsl-5.0.9_eddy/fsl/etc/flirtsch/b02b0.cnf
[03;34mCommand:[0m applytopup --imain=dwi_pre_topup.nii --datain=config.txt --inindex=1 --topup=field --out=dwi_post_topup.nii.gz --method=jac
[03;34mCommand:[0m mrconvert series.mif - -stride -1,+2,+3,+4 | mrinfo - -export_grad_fsl bvecs bvals
[03;34mCommand:[0m mrconvert dwi_post_topup.nii.gz -fslgrad bvecs bvals - | dwi2mask - - | maskfilter - dilate - | mrconvert - mask.nii -datatype float32 -stride -1,+2,+3
[03;34mCommand:[0m eddy_openmp --imain=dwi_pre_topup.nii --mask=mask.nii --index=indices.txt --acqp=config.txt --bvecs=bvecs --bvals=bvals --repol --topup=field --out=dwi_post_eddy
[03;34mCommand:[0m mrconvert dwi_post_eddy.nii.gz result.mif -stride 1,2,3,4 -fslgrad dwi_post_eddy.eddy_rotated_bvecs bvals
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_052/preproc/eddycorr.mif -export_grad_mrtrix /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_052/preproc/adjencoding.b
dwipreproc_cust: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_052/preproc)[0m
dwipreproc_cust: [03;32mDeleting temporary directory /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_052/preproc/dwipreproc_cust-tmp-HXVNJC/[0m
dwibiascorrect: [03;32m[0m
dwibiascorrect: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
dwibiascorrect: [03;32m[0m
dwibiascorrect: [03;32mGenerated temporary directory: /tmp/dwibiascorrect-tmp-7KWT94/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_052/preproc/eddycorr.mif /tmp/dwibiascorrect-tmp-7KWT94/in.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_052/preproc/eddymeanb0bet_mask.nii.gz /tmp/dwibiascorrect-tmp-7KWT94/mask.mif
dwibiascorrect: [03;32mChanging to temporary directory (/tmp/dwibiascorrect-tmp-7KWT94/)[0m
[03;34mCommand:[0m dwiextract in.mif - -bzero | mrmath - mean mean_bzero.mif -axis 3
[03;34mCommand:[0m mrcalc mean_bzero.mif mask.mif -mult - | mrconvert - mean_bzero_masked.nii -stride -1,+2,+3
[03;34mCommand:[0m fast -t 2 -o fast -n 3 -b mean_bzero_masked.nii
[03;34mCommand:[0m mrcalc in.mif fast_bias.nii.gz -div result.mif
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_052/preproc/biascorr.mif
dwibiascorrect: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_052/preproc)[0m
dwibiascorrect: [03;32mDeleting temporary directory /tmp/dwibiascorrect-tmp-7KWT94/[0m
Extracting mean of the b=0 shell.
Extracting mean of the b=3000 shell.
Extracting mean of the b=0 shell.
Extracting mean of the b=3000 shell.
17888
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mGenerated temporary directory: /tmp/labelsgmfix-tmp-C4C6L2/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_052/preproc/parctempstr.nii /tmp/labelsgmfix-tmp-C4C6L2/parc.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_052/preproc/brainFS.nii /tmp/labelsgmfix-tmp-C4C6L2/T1.nii -stride -1,+2,+3
labelsgmfix: [03;32mChanging to temporary directory (/tmp/labelsgmfix-tmp-C4C6L2/)[0m
[03;34mCommand:[0m run_first_all -s R_Thal,L_Puta,R_Caud,R_Hipp,L_Amyg,R_Pall,R_Amyg,L_Caud,L_Pall,L_Thal,L_Hipp,R_Accu,L_Accu,R_Puta -i T1.nii -b -o first
[03;34mCommand:[0m mrcalc parc.mif 0 -min sgm.mif
[03;34mCommand:[0m meshconvert first-R_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Thal_mask.mif 6 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Puta_mask.mif 3 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Caud_mask.mif 7 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Hipp_mask.mif 13 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Amyg_mask.mif 12 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Pall_mask.mif 9 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Amyg_mask.mif 14 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Caud_mask.mif 2 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Pall_mask.mif 4 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Thal_mask.mif 1 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Hipp_mask.mif 11 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Accu_mask.mif 10 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Accu_mask.mif 5 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Puta_mask.mif 8 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m mrmath R_Thal_mask.mif L_Puta_mask.mif R_Caud_mask.mif R_Hipp_mask.mif L_Amyg_mask.mif R_Pall_mask.mif R_Amyg_mask.mif L_Caud_mask.mif L_Pall_mask.mif L_Thal_mask.mif L_Hipp_mask.mif R_Accu_mask.mif L_Accu_mask.mif R_Puta_mask.mif sum - | mrcalc - 1 -gt sgm_overlap_mask.mif
[03;34mCommand:[0m mrcalc sgm_overlap_mask.mif 0 sgm.mif -if sgm_masked.mif
[03;34mCommand:[0m labelconvert sgm_masked.mif /software/mrtrix3/mrtrix3-AP/scripts/data/FreeSurferSGM.txt /software/mrtrix3/mrtrix3-AP/src/connectome/tables/fs_a2009s.txt sgm_new_labels.mif
[03;34mCommand:[0m mrcalc parc.mif 83 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 78 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 84 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 87 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 81 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 86 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 88 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 77 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 79 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 76 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 80 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 89 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 82 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 85 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc sgm_new_labels.mif 0.5 -gt sgm_new_labels.mif parc.mif -if result.mif -datatype uint32
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_052/preproc/parc_fixsubcort.nii
labelsgmfix: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_052/preproc)[0m
labelsgmfix: [03;32mDeleting temporary directory /tmp/labelsgmfix-tmp-C4C6L2/[0m
tmp ./tmp.bbregister.60004
Log file is register.dat.log
Sat Mar 18 06:50:54 AEST 2017

setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/Park/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_052/preproc
/software/freesurfer/freesurfer-6.0.0/bin/bbregister --s Patient_052 --mov biasmeanb0bet.nii.gz --init-fsl --reg register.dat --dti --fslmat diff2FS.mat

$Id: bbregister,v 1.75 2016/05/10 20:02:28 greve Exp $
Linux hpcnode039.adqimr.ad.lan 3.10.0-327.3.1.el7.x86_64 #1 SMP Wed Dec 9 14:09:15 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
FREESURFER_HOME /software/freesurfer/freesurfer-6.0.0
mri_convert biasmeanb0bet.nii.gz ./tmp.bbregister.60004/template.nii
mri_convert.bin biasmeanb0bet.nii.gz ./tmp.bbregister.60004/template.nii 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from biasmeanb0bet.nii.gz...
TR=1000.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (0.99869, 0.00452248, 0.0509631)
j_ras = (-0.0122019, 0.988397, 0.151402)
k_ras = (-0.049687, -0.151826, 0.987158)
writing to ./tmp.bbregister.60004/template.nii...
fslregister --s Patient_052 --mov ./tmp.bbregister.60004/template.nii --reg ./tmp.bbregister.60004/reg.init.dat --niters 1 --maxangle 90 --tmp ./tmp.bbregister.60004/fslregister --dof 6 --fsvol brainmask.mgz --nobetmov

Log file is ./tmp.bbregister.60004/reg.init.dat.fslregister.log

Sat Mar 18 06:50:54 AEST 2017
--s Patient_052 --mov ./tmp.bbregister.60004/template.nii --reg ./tmp.bbregister.60004/reg.init.dat --niters 1 --maxangle 90 --tmp ./tmp.bbregister.60004/fslregister --dof 6 --fsvol brainmask.mgz --nobetmov
$Id: fslregister,v 1.40 2016/02/12 21:43:15 zkaufman Exp $
hpcnode039.adqimr.ad.lan
Linux hpcnode039.adqimr.ad.lan 3.10.0-327.3.1.el7.x86_64 #1 SMP Wed Dec 9 14:09:15 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
nIters 1
--------------------------------------
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_052/preproc
mri_convert /working/lab_michaebr/alistaiP/Park/FS/Patient_052/mri/brainmask.mgz ./tmp.bbregister.60004/fslregister/refvol.fslregister.nii
mri_convert.bin /working/lab_michaebr/alistaiP/Park/FS/Patient_052/mri/brainmask.mgz ./tmp.bbregister.60004/fslregister/refvol.fslregister.nii 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from /working/lab_michaebr/alistaiP/Park/FS/Patient_052/mri/brainmask.mgz...
TR=0.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (-1, 9.31323e-10, 0)
j_ras = (-3.72529e-09, 0, -1)
k_ras = (1.86265e-09, 1, 1.49012e-08)
writing to ./tmp.bbregister.60004/fslregister/refvol.fslregister.nii...
--------------------------------------
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_052/preproc
mri_convert ./tmp.bbregister.60004/template.nii ./tmp.bbregister.60004/fslregister/movvol.fslregister.nii --frame 0
mri_convert.bin ./tmp.bbregister.60004/template.nii ./tmp.bbregister.60004/fslregister/movvol.fslregister.nii --frame 0 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from ./tmp.bbregister.60004/template.nii...
TR=1000.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (0.99869, 0.00452248, 0.0509631)
j_ras = (-0.0122019, 0.988397, 0.151402)
k_ras = (-0.049687, -0.151826, 0.987158)
keeping frame 0
writing to ./tmp.bbregister.60004/fslregister/movvol.fslregister.nii...
Mov determinant is 5.02197
Swapping dims for pos det
WARNING:: Flipping Left/Right orientation (as det < 0)
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
target  volume ./tmp.bbregister.60004/fslregister/movvol.fslregister.nii
movable volume ./tmp.bbregister.60004/template.nii
reg file       ./tmp.bbregister.60004/fslregister/swapreg.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target ./tmp.bbregister.60004/fslregister/movvol.fslregister.nii
INFO: target does not conform to COR format, so I'm going to
reslice to COR. This will not affect the final registration.
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.60004/template.nii
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 1, float2int = 0
Computing reg from header (and possibly input matrix)
---- Input registration matrix (computed) --------
-0.99869  -0.00452  -0.05096   1.71875;
-0.04969  -0.15183   0.98716   0.00000;
 0.01220  -0.98840  -0.15140   0.00000;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
-0.99869  -0.00452  -0.05096   1.71875;
-0.04969  -0.15183   0.98716   0.00000;
 0.01220  -0.98840  -0.15140   0.00000;
 0.00000   0.00000   0.00000   1.00000;
Determinant -1
subject = subject-unknown
RegMat ---------------------------
-1.00000   0.00000  -0.00000   1.71875;
-0.00000   1.00000  -0.00000   0.00000;
 0.00000  -0.00000   1.00000   0.00000;
 0.00000   0.00000   0.00000   1.00000;
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_052/preproc
tkregister2_cmdl --mov ./tmp.bbregister.60004/fslregister/movvol.fslregister.nii --reg ./tmp.bbregister.60004/fslregister/reg0.60054.dat --regheader --fslregout ./tmp.bbregister.60004/reg.init.dat.fsl.mat0 --s Patient_052 --noedit
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume ./tmp.bbregister.60004/fslregister/movvol.fslregister.nii
reg file       ./tmp.bbregister.60004/fslregister/reg0.60054.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target /working/lab_michaebr/alistaiP/Park/FS/Patient_052/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.60004/fslregister/movvol.fslregister.nii
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 1, float2int = 0
Computing reg from header (and possibly input matrix)
---- Input registration matrix (computed) --------
 0.99869   0.00452   0.05096   1.04097;
-0.04969  -0.15183   0.98716  -1.46255;
 0.01220  -0.98840  -0.15140  -6.51136;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
 0.99869   0.00452   0.05096   1.04097;
-0.04969  -0.15183   0.98716  -1.46255;
 0.01220  -0.98840  -0.15140  -6.51136;
 0.00000   0.00000   0.00000   1.00000;
Determinant 1
subject = Patient_052
RegMat ---------------------------
 0.99869   0.00452   0.05096   1.04097;
-0.04969  -0.15183   0.98716  -1.46255;
 0.01220  -0.98840  -0.15140  -6.51136;
 0.00000   0.00000   0.00000   1.00000;
FSLOUTPUTTYPE NIFTI 
tkreg2FSL: mov det = -5.02197, ref det = -1
Sat Mar 18 06:50:56 AEST 2017
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_052/preproc
flirt.fsl -ref ./tmp.bbregister.60004/fslregister/refvol.fslregister.nii -in ./tmp.bbregister.60004/fslregister/movvol.fslregister.nii -bins 256 -cost corratio -dof 6 -searchrx -90 90 -searchry -90 90 -searchrz -90 90 -verbose 0 -omat ./tmp.bbregister.60004/fslregister/fslmat0.trans.mat -schedule /software/freesurfer/freesurfer-6.0.0/bin/fsl.5.0.2.xyztrans.sch -init ./tmp.bbregister.60004/reg.init.dat.fsl.mat0
Sat Mar 18 06:51:29 AEST 2017
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_052/preproc
flirt.fsl -ref ./tmp.bbregister.60004/fslregister/refvol.fslregister.nii -in ./tmp.bbregister.60004/fslregister/movvol.fslregister.nii -bins 256 -cost corratio -dof 6 -searchrx -90 90 -searchry -90 90 -searchrz -90 90 -verbose 0 -omat ./tmp.bbregister.60004/reg.init.dat.fsl.mat -init ./tmp.bbregister.60004/fslregister/fslmat0.trans.mat -schedule /software/freesurfer/freesurfer-6.0.0/bin/flirt.newdefault.20080811.sch
tkregister2_cmdl --s Patient_052 --mov ./tmp.bbregister.60004/fslregister/movvol.fslregister.nii --reg ./tmp.bbregister.60004/reg.init.dat --fslreg ./tmp.bbregister.60004/reg.init.dat.fsl.mat --noedit
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
---- FSL registration matrix --------
 0.99914   0.00100   0.04138   15.80580;
 0.04114  -0.13440  -0.99007   215.18700;
 0.00457   0.99093  -0.13433   23.01940;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume ./tmp.bbregister.60004/fslregister/movvol.fslregister.nii
reg file       ./tmp.bbregister.60004/reg.init.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target /working/lab_michaebr/alistaiP/Park/FS/Patient_052/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.60004/fslregister/movvol.fslregister.nii
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 0, float2int = 0
FSLOUTPUTTYPE NIFTI 
fsl2TkReg: mov det = -5.02197, ref det = -1
---- Input registration matrix (computed) --------
 0.99914  -0.00457   0.04114   1.00923;
-0.04138  -0.13433   0.99007   0.36282;
 0.00100  -0.99093  -0.13440  -5.85835;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
 0.99914  -0.00457   0.04114   1.00923;
-0.04138  -0.13433   0.99007   0.36282;
 0.00100  -0.99093  -0.13440  -5.85835;
 0.00000   0.00000   0.00000   1.00000;
Determinant 1
subject = Patient_052
RegMat ---------------------------
 0.99914  -0.00457   0.04114   1.00923;
-0.04138  -0.13433   0.99007   0.36282;
 0.00100  -0.99093  -0.13440  -5.85835;
 0.00000   0.00000   0.00000   1.00000;
mri_matrix_multiply -im ./tmp.bbregister.60004/fslregister/swapreg.dat -im ./tmp.bbregister.60004/reg.init.dat -om ./tmp.bbregister.60004/reg.init.dat
(standard_in) 1: illegal character: P
 
Started at Sat Mar 18 06:50:54 AEST 2017 
Ended   at Sat Mar 18 06:52:26 AEST 2017
 
fslregister Done
 
To check results, run:
tkregister2 --mov ./tmp.bbregister.60004/template.nii --reg ./tmp.bbregister.60004/reg.init.dat --surf orig
 
mri_segreg --mov ./tmp.bbregister.60004/template.nii --init-reg ./tmp.bbregister.60004/reg.init.dat --out-reg ./tmp.bbregister.60004/bbr.pass1.dat --subsamp-brute 100 --subsamp 100 --tol 1e-4 --tol1d 1e-3 --brute -4 4 4 --surf white --gm-proj-frac 0.5 --gm-gt-wm 0.5
$Id: mri_segreg.c,v 1.113 2016/05/10 03:23:20 greve Exp $
setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/Park/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_052/preproc
mri_segreg --mov ./tmp.bbregister.60004/template.nii --init-reg ./tmp.bbregister.60004/reg.init.dat --out-reg ./tmp.bbregister.60004/bbr.pass1.dat --subsamp-brute 100 --subsamp 100 --tol 1e-4 --tol1d 1e-3 --brute -4 4 4 --surf white --gm-proj-frac 0.5 --gm-gt-wm 0.5 
sysname  Linux
hostname hpcnode039.adqimr.ad.lan
machine  x86_64
user     alistaiP
movvol ./tmp.bbregister.60004/template.nii
regfile ./tmp.bbregister.60004/reg.init.dat
subject Patient_052
dof 6
outregfile ./tmp.bbregister.60004/bbr.pass1.dat
UseMask 0
UseLH 1
UseRH 1
nsubsamp 100
PenaltySign  -1
PenaltySlope 0.500000
PenaltyCenter 0.000000
surfname white
GMProjFrac 0.500000
WMProjAbs 2.000000
lhcostfile (null)
rhcostfile (null)
interp  trilinear (1)
frame  0
TolPowell 0.000100
nMaxItersPowell 36
n1dmin  3
Profile   0
Gdiag_no  -1
AddNoise  0 (0)
SynthSeed 1490426470
TransRandMax 0.000000
RotRandMax 0.000000
Translations 0.000000 0.000000 0.000000
Rotations   0.000000 0.000000 0.000000
Input reg
-0.99914   0.00457  -0.04114   0.70952;
-0.04138  -0.13433   0.99007   0.36282;
 0.00100  -0.99093  -0.13440  -5.85835;
 0.00000   0.00000   0.00000   1.00000;

Loading mov
Projecting LH Surfs
Loading lh.white surf
Loading lh.thickness for GM
GM Proj: 1 0.500000 2.000000
WM Proj: 0 0.500000 2.000000
Projecting RH Surfs
Loading rh.white surf
Loading rh.thickness for GM
Projecting RH Surfs
Using lh.cortex.label
Using rh.cortex.label
Computing relative cost
 0  -25.0 -25.0 -25.0   0.989089
 1  -25.0 -25.0  25.0   0.997025
 2  -25.0  25.0 -25.0   1.034669
 3  -25.0  25.0  25.0   1.019412
 4   25.0 -25.0 -25.0   1.017049
 5   25.0 -25.0  25.0   1.005738
 6   25.0  25.0 -25.0   0.982723
 7   25.0  25.0  25.0   0.989050
REL:  8  0.213526    8.034753  1.004344 rel = 0.212602 
Initial costs ----------------
Number of surface hits 3526
WM  Intensity   416.9752 +/-  87.8858
Ctx Intensity   613.1094 +/- 201.5953
Pct Contrast     34.1542 +/-  31.1543
Cost   0.2135
RelCost   0.2126

------------------------------------
Brute force preopt -4 4 4, n = 729
     0  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000      1.0167   1.0167  0.0
     1  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000   0.0000      0.9913   0.9913  0.0
     2  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000   4.0000      0.9463   0.9463  0.0
     7  -4.0000  -4.0000  -4.0000  -4.0000   4.0000   0.0000      0.9153   0.9153  0.0
    15  -4.0000  -4.0000  -4.0000   0.0000   4.0000  -4.0000      0.8779   0.8779  0.0
   105  -4.0000   0.0000  -4.0000   4.0000   4.0000  -4.0000      0.8717   0.8717  0.0
   106  -4.0000   0.0000  -4.0000   4.0000   4.0000   0.0000      0.8708   0.8708  0.0
   118  -4.0000   0.0000   0.0000   0.0000  -4.0000   0.0000      0.8106   0.8106  0.0
   120  -4.0000   0.0000   0.0000   0.0000   0.0000  -4.0000      0.7985   0.7985  0.0
   274   0.0000  -4.0000   0.0000  -4.0000   0.0000   0.0000      0.7547   0.7547  0.0
   284   0.0000  -4.0000   0.0000   0.0000   0.0000   4.0000      0.7180   0.7180  0.0
   363   0.0000   0.0000   0.0000   0.0000   0.0000  -4.0000      0.7056   0.7056  0.0
   364   0.0000   0.0000   0.0000   0.0000   0.0000   0.0000      0.2135   0.2135  0.0
Brute Force --------------------------
Min cost was 0.213526
Number of iterations   729
Search time 4.295000 sec
Parameters at best (transmm, rotdeg)
  0.000   0.000   0.000  0.000  0.000  0.000 
--------------------------------------------

Starting Powell Minimization
Init Powel Params dof = 6
0 0
1 0
2 0
3 0
4 0
5 0
fs_powell::minimize
  nparams 6
  maxfev 36
  ftol   0.000100
  linmin_xtol_   0.001000
  powell nthiter 0: fret = 0.213526
   7 -0.001  0.000  0.000  0.000  0.000  0.000   0.2134901174
   9 -0.095  0.000  0.000  0.000  0.000  0.000   0.2112620319
  11 -0.089  0.000  0.000  0.000  0.000  0.000   0.2112490999
  12 -0.088  0.000  0.000  0.000  0.000  0.000   0.2112460837
  14 -0.076  0.000  0.000  0.000  0.000  0.000   0.2112424322
  15 -0.081  0.000  0.000  0.000  0.000  0.000   0.2112344017
  17 -0.080  0.000  0.000  0.000  0.000  0.000   0.2112342385
  21 -0.080 -1.618  0.000  0.000  0.000  0.000   0.2106156256
  22 -0.080 -0.811  0.000  0.000  0.000  0.000   0.1347726433
  26 -0.080 -0.765  0.000  0.000  0.000  0.000   0.1346443199
  29 -0.080 -0.726  0.000  0.000  0.000  0.000   0.1341835766
  31 -0.080 -0.724  0.000  0.000  0.000  0.000   0.1341809970
  32 -0.080 -0.723  0.000  0.000  0.000  0.000   0.1341809200
  39 -0.080 -0.723  0.382  0.000  0.000  0.000   0.1336458907
  40 -0.080 -0.723  0.200  0.000  0.000  0.000   0.1298162920
  41 -0.080 -0.723  0.197  0.000  0.000  0.000   0.1297940710
  42 -0.080 -0.723  0.140  0.000  0.000  0.000   0.1297935157
  44 -0.080 -0.723  0.169  0.000  0.000  0.000   0.1296806205
  46 -0.080 -0.723  0.166  0.000  0.000  0.000   0.1296783419
  48 -0.080 -0.723  0.161  0.000  0.000  0.000   0.1296777596
  49 -0.080 -0.723  0.163  0.000  0.000  0.000   0.1296774087
  57 -0.080 -0.723  0.163  0.119  0.000  0.000   0.1282277409
  59 -0.080 -0.723  0.163  0.220  0.000  0.000   0.1278654336
  63 -0.080 -0.723  0.163  0.224  0.000  0.000   0.1278623004
  64 -0.080 -0.723  0.163  0.223  0.000  0.000   0.1278619520
  72 -0.080 -0.723  0.163  0.223 -0.098  0.000   0.1268233535
  75 -0.080 -0.723  0.163  0.223 -0.174  0.000   0.1266832524
  76 -0.080 -0.723  0.163  0.223 -0.140  0.000   0.1262510201
  84 -0.080 -0.723  0.163  0.223 -0.140  0.382   0.1158550791
  88 -0.080 -0.723  0.163  0.223 -0.140  0.395   0.1157827210
  90 -0.080 -0.723  0.163  0.223 -0.140  0.396   0.1157826088
  powell nthiter 1: fret = 0.115783
  99  0.104 -0.723  0.163  0.223 -0.140  0.396   0.1136926834
 102  0.131 -0.723  0.163  0.223 -0.140  0.396   0.1130946251
 104  0.140 -0.723  0.163  0.223 -0.140  0.396   0.1130376785
 117  0.140 -0.697  0.163  0.223 -0.140  0.396   0.1128764614
 118  0.140 -0.698  0.163  0.223 -0.140  0.396   0.1128730700
 119  0.140 -0.702  0.163  0.223 -0.140  0.396   0.1128648249
 121  0.140 -0.703  0.163  0.223 -0.140  0.396   0.1128647531
 129  0.140 -0.703  0.109  0.223 -0.140  0.396   0.1128302136
 131  0.140 -0.703  0.098  0.223 -0.140  0.396   0.1128209805
 135  0.140 -0.703  0.086  0.223 -0.140  0.396   0.1128206896
 136  0.140 -0.703  0.092  0.223 -0.140  0.396   0.1128182261
 145  0.140 -0.703  0.092  0.232 -0.140  0.396   0.1127124627
 146  0.140 -0.703  0.092  0.270 -0.140  0.396   0.1122222005
 152  0.140 -0.703  0.092  0.267 -0.140  0.396   0.1121828968
 153  0.140 -0.703  0.092  0.265 -0.140  0.396   0.1121635828
 154  0.140 -0.703  0.092  0.264 -0.140  0.396   0.1121538859
 161  0.140 -0.703  0.092  0.264 -0.149  0.396   0.1119371566
 163  0.140 -0.703  0.092  0.264 -0.217  0.396   0.1110732427
 164  0.140 -0.703  0.092  0.264 -0.224  0.396   0.1110199733
 166  0.140 -0.703  0.092  0.264 -0.230  0.396   0.1109869426
 168  0.140 -0.703  0.092  0.264 -0.229  0.396   0.1109859371
 180  0.140 -0.703  0.092  0.264 -0.229  0.399   0.1109364259
 181  0.140 -0.703  0.092  0.264 -0.229  0.408   0.1108765087
 182  0.140 -0.703  0.092  0.264 -0.229  0.409   0.1108763099
  powell nthiter 2: fret = 0.110876
 194  0.135 -0.703  0.092  0.264 -0.229  0.409   0.1108580684
 195  0.136 -0.703  0.092  0.264 -0.229  0.409   0.1108578948
 213  0.136 -0.702  0.092  0.264 -0.229  0.409   0.1108568626
 222  0.136 -0.702  0.065  0.264 -0.229  0.409   0.1107914981
 223  0.136 -0.702  0.070  0.264 -0.229  0.409   0.1107840341
 238  0.136 -0.702  0.070  0.262 -0.229  0.409   0.1107765646
 261  0.136 -0.702  0.070  0.262 -0.229  0.406   0.1107574499
 262  0.136 -0.702  0.070  0.262 -0.229  0.402   0.1107484422
 263  0.136 -0.702  0.070  0.262 -0.229  0.403   0.1107479099
  powell nthiter 3: fret = 0.110748
 275  0.134 -0.702  0.070  0.262 -0.229  0.403   0.1107440946
 289  0.134 -0.722  0.070  0.262 -0.229  0.403   0.1107193858
 290  0.134 -0.718  0.070  0.262 -0.229  0.403   0.1107162990
 291  0.134 -0.717  0.070  0.262 -0.229  0.403   0.1107144863
 293  0.134 -0.715  0.070  0.262 -0.229  0.403   0.1107139586
 295  0.134 -0.716  0.070  0.262 -0.229  0.403   0.1107137895
 305  0.134 -0.716  0.055  0.262 -0.229  0.403   0.1106835231
 307  0.134 -0.716  0.057  0.262 -0.229  0.403   0.1106828018
 309  0.134 -0.716  0.058  0.262 -0.229  0.403   0.1106827647
 321  0.134 -0.716  0.058  0.258 -0.229  0.403   0.1106467224
 322  0.134 -0.716  0.058  0.256 -0.229  0.403   0.1106264328
 323  0.134 -0.716  0.058  0.255 -0.229  0.403   0.1106140652
 337  0.134 -0.716  0.058  0.255 -0.228  0.403   0.1106133711
 352  0.134 -0.716  0.058  0.255 -0.228  0.404   0.1106127811
  powell nthiter 4: fret = 0.110613
 363  0.135 -0.716  0.058  0.255 -0.228  0.404   0.1106117362
 372  0.135 -0.754  0.058  0.255 -0.228  0.404   0.1105597011
 374  0.135 -0.779  0.058  0.255 -0.228  0.404   0.1105139750
 376  0.135 -0.771  0.058  0.255 -0.228  0.404   0.1105070179
 377  0.135 -0.773  0.058  0.255 -0.228  0.404   0.1105060888
 389  0.135 -0.773  0.015  0.255 -0.228  0.404   0.1101363603
 391  0.135 -0.773  0.002  0.255 -0.228  0.404   0.1100526604
 392  0.135 -0.773 -0.004  0.255 -0.228  0.404   0.1100243868
 394  0.135 -0.773 -0.009  0.255 -0.228  0.404   0.1100123916
 405  0.135 -0.773 -0.009  0.280 -0.228  0.404   0.1095890588
 407  0.135 -0.773 -0.009  0.287 -0.228  0.404   0.1095594155
 419  0.135 -0.773 -0.009  0.287 -0.233  0.404   0.1095434872
 432  0.135 -0.773 -0.009  0.287 -0.233  0.406   0.1095413221
  powell nthiter 5: fret = 0.109541
 445  0.133 -0.773 -0.009  0.287 -0.233  0.406   0.1095324285
 457  0.133 -0.772 -0.009  0.287 -0.233  0.406   0.1095320131
 468  0.133 -0.772 -0.010  0.287 -0.233  0.406   0.1095157387
 470  0.133 -0.772 -0.022  0.287 -0.233  0.406   0.1094710465
 482  0.133 -0.772 -0.022  0.290 -0.233  0.406   0.1094693943
 485  0.133 -0.772 -0.022  0.289 -0.233  0.406   0.1094685527
 507  0.133 -0.772 -0.022  0.289 -0.233  0.405   0.1094684581
  powell nthiter 6: fret = 0.109468
 519  0.132 -0.772 -0.022  0.289 -0.233  0.405   0.1094682977
 543  0.132 -0.772 -0.021  0.289 -0.233  0.405   0.1094682347
 565  0.132 -0.772 -0.021  0.289 -0.232  0.405   0.1094663723
Powell done niters = 6
Computing relative cost
 0  -25.0 -25.0 -25.0   1.012038
 1  -25.0 -25.0  25.0   0.996712
 2  -25.0  25.0 -25.0   1.013633
 3  -25.0  25.0  25.0   1.011493
 4   25.0 -25.0 -25.0   1.004735
 5   25.0 -25.0  25.0   0.979573
 6   25.0  25.0 -25.0   0.992879
 7   25.0  25.0  25.0   0.978670
REL:  8  0.109466    7.989732  0.998717 rel = 0.109607 
Number of iterations     6
Min cost was 0.109466
Number of FunctionCalls   579
TolPowell 0.000100
nMaxItersPowell 36
OptimizationTime 3.305000 sec
Parameters at optimum (transmm)  0.13154 -0.77234 -0.02053
Parameters at optimum (rotdeg)  0.28862 -0.23185  0.40531 
Final costs ----------------
Number of surface hits 3525
WM  Intensity   408.0804 +/-  78.0666
Ctx Intensity   595.9314 +/- 156.2629
Pct Contrast     35.2138 +/-  25.5538
Cost   0.1095
RelCost   0.2126
Reg at min cost was 
-0.99882   0.00950  -0.04763   0.86196;
-0.04845  -0.12927   0.99043  -0.37484;
-0.00325  -0.99156  -0.12958  -5.87405;
 0.00000   0.00000   0.00000   1.00000;

Writing optimal reg to ./tmp.bbregister.60004/bbr.pass1.dat, type = 14 
Original Reg 
-0.99914   0.00457  -0.04114   0.70952;
-0.04138  -0.13433   0.99007   0.36282;
 0.00100  -0.99093  -0.13440  -5.85835;
 0.00000   0.00000   0.00000   1.00000;

Original Reg - Optimal Reg
-0.00032  -0.00493   0.00648  -0.15244;
 0.00707  -0.00506  -0.00035   0.73766;
 0.00425   0.00064  -0.00482   0.01571;
 0.00000   0.00000   0.00000   0.00000;

Computing change in lh position
LH rmsDiffMean 0.733190
Computing change in rh position
Surface-RMS-Diff-mm 0.895963 0.286279 1.460572
mri_segreg done
mri_segreg --mov ./tmp.bbregister.60004/template.nii --init-reg ./tmp.bbregister.60004/bbr.pass1.dat --out-reg register.dat --interp trilinear --wm-proj-abs 2 --tol 1e-8 --tol1d 1e-3 --c0 0 --mincost register.dat.mincost --dof 6 --nmax 36 --param register.dat.param --surf white --brute -0.1 0.1 0.1 --cur-reg ./tmp.bbregister.60004/reg.curopt.dat --gm-proj-frac 0.5 --nsub 1 --gm-gt-wm 0.5
$Id: mri_segreg.c,v 1.113 2016/05/10 03:23:20 greve Exp $
setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/Park/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_052/preproc
mri_segreg --mov ./tmp.bbregister.60004/template.nii --init-reg ./tmp.bbregister.60004/bbr.pass1.dat --out-reg register.dat --interp trilinear --wm-proj-abs 2 --tol 1e-8 --tol1d 1e-3 --c0 0 --mincost register.dat.mincost --dof 6 --nmax 36 --param register.dat.param --surf white --brute -0.1 0.1 0.1 --cur-reg ./tmp.bbregister.60004/reg.curopt.dat --gm-proj-frac 0.5 --nsub 1 --gm-gt-wm 0.5 
sysname  Linux
hostname hpcnode039.adqimr.ad.lan
machine  x86_64
user     alistaiP
movvol ./tmp.bbregister.60004/template.nii
regfile ./tmp.bbregister.60004/bbr.pass1.dat
subject Patient_052
dof 6
outregfile register.dat
UseMask 0
UseLH 1
UseRH 1
nsubsamp 1
PenaltySign  -1
PenaltySlope 0.500000
PenaltyCenter 0.000000
surfname white
GMProjFrac 0.500000
WMProjAbs 2.000000
lhcostfile (null)
rhcostfile (null)
interp  trilinear (1)
frame  0
TolPowell 0.000000
nMaxItersPowell 36
n1dmin  3
Profile   0
Gdiag_no  -1
AddNoise  0 (0)
SynthSeed 1489841182
TransRandMax 0.000000
RotRandMax 0.000000
Translations 0.000000 0.000000 0.000000
Rotations   0.000000 0.000000 0.000000
Input reg
-0.99882   0.00950  -0.04763   0.86196;
-0.04845  -0.12927   0.99043  -0.37484;
-0.00325  -0.99156  -0.12958  -5.87405;
 0.00000   0.00000   0.00000   1.00000;

Loading mov
Projecting LH Surfs
Loading lh.white surf
Loading lh.thickness for GM
GM Proj: 1 0.500000 2.000000
WM Proj: 0 0.500000 2.000000
Projecting RH Surfs
Loading rh.white surf
Loading rh.thickness for GM
Projecting RH Surfs
Using lh.cortex.label
Using rh.cortex.label
Computing relative cost
 0  -25.0 -25.0 -25.0   1.014662
 1  -25.0 -25.0  25.0   1.005056
 2  -25.0  25.0 -25.0   1.001846
 3  -25.0  25.0  25.0   0.995331
 4   25.0 -25.0 -25.0   1.010435
 5   25.0 -25.0  25.0   1.009003
 6   25.0  25.0 -25.0   1.007186
 7   25.0  25.0  25.0   0.984680
REL:  8  0.109151    8.028198  1.003525 rel = 0.108767 
Initial costs ----------------
Number of surface hits 353038
WM  Intensity   408.0403 +/-  77.1652
Ctx Intensity   597.5215 +/- 156.0503
Pct Contrast     35.5440 +/-  25.2175
Cost   0.1092
RelCost   0.1088

------------------------------------
Brute force preopt -0.1 0.1 0.1, n = 729
     0  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000      0.1162   0.1162  0.0
     1  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000   0.0000      0.1153   0.1153  0.0
     2  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000   0.1000      0.1140   0.1140  0.0
     4  -0.1000  -0.1000  -0.1000  -0.1000   0.0000   0.0000      0.1137   0.1137  0.0
     5  -0.1000  -0.1000  -0.1000  -0.1000   0.0000   0.1000      0.1119   0.1119  0.0
    14  -0.1000  -0.1000  -0.1000   0.0000   0.0000   0.1000      0.1107   0.1107  0.0
    38  -0.1000  -0.1000   0.0000   0.0000  -0.1000   0.1000      0.1105   0.1105  0.0
    41  -0.1000  -0.1000   0.0000   0.0000   0.0000   0.1000      0.1097   0.1097  0.0
   122  -0.1000   0.0000   0.0000   0.0000   0.0000   0.1000      0.1096   0.1096  0.0
   364   0.0000   0.0000   0.0000   0.0000   0.0000   0.0000      0.1095   0.1095  0.0
Brute Force --------------------------
Min cost was 0.109466
Number of iterations   729
Search time 4.350000 sec
Parameters at best (transmm, rotdeg)
  0.000   0.000   0.000  0.000  0.000  0.000 
--------------------------------------------

Starting Powell Minimization
Init Powel Params dof = 6
0 0
1 0
2 0
3 0
4 0
5 0
fs_powell::minimize
  nparams 6
  maxfev 36
  ftol   0.000000
  linmin_xtol_   0.001000
  powell nthiter 0: fret = 0.109151
   7  0.023  0.000  0.000  0.000  0.000  0.000   0.1091450002
   8  0.013  0.000  0.000  0.000  0.000  0.000   0.1091321584
  10  0.012  0.000  0.000  0.000  0.000  0.000   0.1091321228
  19  0.012 -0.046  0.000  0.000  0.000  0.000   0.1087504779
  20  0.012 -0.067  0.000  0.000  0.000  0.000   0.1087305794
  21  0.012 -0.060  0.000  0.000  0.000  0.000   0.1087250834
  30  0.012 -0.060  0.054  0.000  0.000  0.000   0.1085930459
  31  0.012 -0.060  0.044  0.000  0.000  0.000   0.1085836191
  32  0.012 -0.060  0.043  0.000  0.000  0.000   0.1085833473
  33  0.012 -0.060  0.041  0.000  0.000  0.000   0.1085832822
  42  0.012 -0.060  0.041 -0.033  0.000  0.000   0.1084119444
  43  0.012 -0.060  0.041 -0.043  0.000  0.000   0.1084084406
  44  0.012 -0.060  0.041 -0.039  0.000  0.000   0.1084070776
  53  0.012 -0.060  0.041 -0.039  0.073  0.000   0.1081654611
  54  0.012 -0.060  0.041 -0.039  0.054  0.000   0.1080904414
  55  0.012 -0.060  0.041 -0.039  0.049  0.000   0.1080882886
  56  0.012 -0.060  0.041 -0.039  0.050  0.000   0.1080880068
  64  0.012 -0.060  0.041 -0.039  0.050  0.130   0.1069602504
  67  0.012 -0.060  0.041 -0.039  0.050  0.153   0.1068826214
  69  0.012 -0.060  0.041 -0.039  0.050  0.156   0.1068818759
  70  0.012 -0.060  0.041 -0.039  0.050  0.157   0.1068816849
  72  0.012 -0.060  0.041 -0.039  0.050  0.158   0.1068816568
  powell nthiter 1: fret = 0.106882
  82  0.033 -0.060  0.041 -0.039  0.050  0.158   0.1068326833
  84  0.031 -0.060  0.041 -0.039  0.050  0.158   0.1068323449
  94  0.031 -0.050  0.041 -0.039  0.050  0.158   0.1068198581
  96  0.031 -0.051  0.041 -0.039  0.050  0.158   0.1068196899
 105  0.031 -0.051  0.064 -0.039  0.050  0.158   0.1068122140
 106  0.031 -0.051  0.055 -0.039  0.050  0.158   0.1068035406
 107  0.031 -0.051  0.054 -0.039  0.050  0.158   0.1068034751
 116  0.031 -0.051  0.054 -0.038  0.050  0.158   0.1068031595
 124  0.031 -0.051  0.054 -0.038  0.070  0.158   0.1068031152
 125  0.031 -0.051  0.054 -0.038  0.060  0.158   0.1067882169
 127  0.031 -0.051  0.054 -0.038  0.062  0.158   0.1067866154
 128  0.031 -0.051  0.054 -0.038  0.065  0.158   0.1067850058
 130  0.031 -0.051  0.054 -0.038  0.064  0.158   0.1067849489
 139  0.031 -0.051  0.054 -0.038  0.064  0.169   0.1067715558
  powell nthiter 2: fret = 0.106772
 163  0.031 -0.049  0.054 -0.038  0.064  0.169   0.1067706237
 174  0.031 -0.049  0.052 -0.038  0.064  0.169   0.1067697640
 175  0.031 -0.049  0.051 -0.038  0.064  0.169   0.1067695100
 197  0.031 -0.049  0.051 -0.038  0.061  0.169   0.1067691218
 199  0.031 -0.049  0.051 -0.038  0.062  0.169   0.1067689247
 207  0.031 -0.049  0.051 -0.038  0.062  0.170   0.1067686837
  powell nthiter 3: fret = 0.106769
 220  0.032 -0.049  0.051 -0.038  0.062  0.170   0.1067682155
 239  0.032 -0.049  0.050 -0.038  0.062  0.170   0.1067681479
 261  0.032 -0.049  0.050 -0.038  0.061  0.170   0.1067680320
  powell nthiter 4: fret = 0.106768
Powell done niters = 4
Computing relative cost
 0  -25.0 -25.0 -25.0   1.013988
 1  -25.0 -25.0  25.0   1.005011
 2  -25.0  25.0 -25.0   1.002348
 3  -25.0  25.0  25.0   0.996352
 4   25.0 -25.0 -25.0   1.009498
 5   25.0 -25.0  25.0   1.007830
 6   25.0  25.0 -25.0   1.008243
 7   25.0  25.0  25.0   0.983390
REL:  8  0.106768    8.026659  1.003332 rel = 0.106413 
Number of iterations     4
Min cost was 0.106768
Number of FunctionCalls   333
TolPowell 0.000000
nMaxItersPowell 36
OptimizationTime 75.668000 sec
Parameters at optimum (transmm)  0.03213 -0.04884  0.04988
Parameters at optimum (rotdeg) -0.03756  0.06137  0.17018 
Final costs ----------------
Number of surface hits 353039
WM  Intensity   407.8542 +/-  76.8947
Ctx Intensity   596.8664 +/- 155.1412
Pct Contrast     35.5186 +/-  25.0775
Cost   0.1068
RelCost   0.1088
Reg at min cost was 
-0.99867   0.00882  -0.05071   0.88892;
-0.05142  -0.12989   0.99019  -0.42498;
-0.00215  -0.99149  -0.13017  -5.82484;
 0.00000   0.00000   0.00000   1.00000;

Writing optimal reg to register.dat, type = 14 
Original Reg 
-0.99882   0.00950  -0.04763   0.86196;
-0.04845  -0.12927   0.99043  -0.37484;
-0.00325  -0.99156  -0.12958  -5.87405;
 0.00000   0.00000   0.00000   1.00000;

Original Reg - Optimal Reg
-0.00015   0.00068   0.00308  -0.02696;
 0.00297   0.00062   0.00023   0.05015;
-0.00110  -0.00008   0.00060  -0.04921;
 0.00000   0.00000   0.00000   0.00000;

Computing change in lh position
LH rmsDiffMean 0.124056
Computing change in rh position
Surface-RMS-Diff-mm 0.150205 0.061138 0.304133
mri_segreg done
MinCost: 0.106768 407.854153 596.866402 35.518582 
tkregister2_cmdl --mov biasmeanb0bet.nii.gz --reg register.dat --noedit --fslregout diff2FS.mat
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume biasmeanb0bet.nii.gz
reg file       register.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
---- Input registration matrix --------
-0.99867   0.00882  -0.05071   0.88892;
-0.05142  -0.12989   0.99019  -0.42498;
-0.00215  -0.99149  -0.13017  -5.82484;
 0.00000   0.00000   0.00000   1.00000;
float2int = 0
---------------------------------------
INFO: loading target /working/lab_michaebr/alistaiP/Park/FS/Patient_052/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable biasmeanb0bet.nii.gz
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 0, float2int = 0
---- Input registration matrix --------
-0.99867   0.00882  -0.05071   0.88892;
-0.05142  -0.12989   0.99019  -0.42498;
-0.00215  -0.99149  -0.13017  -5.82484;
 0.00000   0.00000   0.00000   1.00000;
Determinant -1
subject = Patient_052
RegMat ---------------------------
-0.99867   0.00882  -0.05071   0.88892;
-0.05142  -0.12989   0.99019  -0.42498;
-0.00215  -0.99149  -0.13017  -5.82484;
 0.00000   0.00000   0.00000   1.00000;
FSLOUTPUTTYPE NIFTI_GZ 
tkreg2FSL: mov det = 5.02197, ref det = -1
INFO: FSL2FreeSurfer: Mov volume is NIFTI with positive det,
      applying LR flip to registration matrix.
Cleaning up
 
Started at Sat Mar 18 06:50:54 AEST 2017 
Ended   at Sat Mar 18 06:54:32 AEST 2017
BBR-Run-Time-Sec 218
 
bbregister Done
To check results, run:
tkregisterfv --mov biasmeanb0bet.nii.gz --reg register.dat --surfs 
 
dwi2response: [03;32m[0m
dwi2response: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation. Please consult the help page (-help option) for more information.[0m
dwi2response: [03;32m[0m
dwi2response: [03;32mGenerated temporary directory: /tmp/dwi2response-tmp-B9OFVR/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_052/preproc/biascorr.mif /tmp/dwi2response-tmp-B9OFVR/dwi.mif -stride 0,0,0,1
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_052/preproc/biasmeanb0bet_mask.nii.gz /tmp/dwi2response-tmp-B9OFVR/mask.mif -datatype bit
dwi2response: [03;32mChanging to temporary directory (/tmp/dwi2response-tmp-B9OFVR/)[0m
dwi2response: [03;32m2 unique b-value(s) detected: 0,3000 with 12,90 volumes.[0m
[03;34mCommand:[0m maskfilter mask.mif erode eroded_mask.mif -npass 3
[03;34mCommand:[0m dwiextract dwi.mif -shell 0 dwi_b0.mif
[03;34mCommand:[0m mrmath dwi_b0.mif mean mean_b0.mif -axis 3
[03;34mCommand:[0m mrcalc mean_b0.mif -finite mean_b0.mif 0 -if 0 -le err_b0.mif -datatype bit
[03;34mCommand:[0m dwiextract dwi.mif -shell 3000 dwi_b3000.mif
[03;34mCommand:[0m mrmath dwi_b3000.mif mean mean_b3000.mif -axis 3
[03;34mCommand:[0m mrcalc mean_b3000.mif -finite mean_b3000.mif 0 -if 0 -le err_b3000.mif -datatype bit
[03;34mCommand:[0m mrcalc mean_b0.mif mean_b3000.mif -divide -log sdm_b3000.mif
[03;34mCommand:[0m mrcalc sdm_b3000.mif 90 -mult 90 -divide full_sdm.mif
[03;34mCommand:[0m mrcalc full_sdm.mif -finite full_sdm.mif 0 -if 0 -le err_sdm.mif -datatype bit
[03;34mCommand:[0m mrcalc err_b0.mif err_b3000.mif -add err_sdm.mif -add 0 eroded_mask.mif -if safe_mask.mif -datatype bit
[03;34mCommand:[0m mrcalc safe_mask.mif full_sdm.mif 0 -if 10 -min safe_sdm.mif
[03;34mCommand:[0m dwi2tensor dwi.mif - -mask safe_mask.mif | tensor2metric - -fa safe_fa.mif -vector safe_vecs.mif -modulate none -mask safe_mask.mif
[03;34mCommand:[0m mrcalc safe_mask.mif safe_fa.mif 0 -if 0.2 -gt crude_wm.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_wm.mif 0 safe_mask.mif -if _crudenonwm.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudenonwm.mif safe_sdm.mif 2.3376 -subtract 0 -if - | mrthreshold - - -mask _crudenonwm.mif | mrcalc _crudenonwm.mif - 0 -if crude_csf.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_csf.mif 0 _crudenonwm.mif -if crude_gm.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_wm.mif safe_sdm.mif 0 -if 1.54725 -gt _crudewmhigh.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudewmhigh.mif 0 crude_wm.mif -if _crudewmlow.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_wm.mif safe_sdm.mif 0 -if 1.9619 -gt _crudewmoutliers.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudewmoutliers.mif 0 crude_wm.mif -if refined_wm.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_gm.mif safe_sdm.mif 0 -if 1.97695 -gt _crudegmhigh.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmhigh.mif 0 crude_gm.mif -if _crudegmlow.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmhigh.mif safe_sdm.mif 1.97695 -subtract 0 -if - | mrthreshold - - -mask _crudegmhigh.mif -invert | mrcalc _crudegmhigh.mif - 0 -if _crudegmhighselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmlow.mif safe_sdm.mif 1.97695 -subtract -neg 0 -if - | mrthreshold - - -mask _crudegmlow.mif -invert | mrcalc _crudegmlow.mif - 0 -if _crudegmlowselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmhighselect.mif 1 _crudegmlowselect.mif -if refined_gm.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudewmoutliers.mif safe_sdm.mif 0 -if 2.89528 -gt 1 crude_csf.mif -if _crudecsfextra.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudecsfextra.mif safe_sdm.mif 2.89528 -subtract 0 -if - | mrthreshold - - -mask _crudecsfextra.mif | mrcalc _crudecsfextra.mif - 0 -if refined_csf.mif -datatype bit
dwi2response: [03;32mRunning 'tournier' algorithm to select 700 single-fibre WM voxels.[0m
[03;34mCommand:[0m dwi2response tournier dwi.mif _respsfwmss.txt -sf_voxels 700 -iter_voxels 7000 -mask refined_wm.mif -voxels voxels_sfwm.mif -quiet -tempdir /tmp/dwi2response-tmp-B9OFVR/
[03;34mCommand:[0m mrcalc refined_gm.mif safe_sdm.mif 0 -if 1.95734 -gt _refinedgmhigh.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmhigh.mif 0 refined_gm.mif -if _refinedgmlow.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmhigh.mif safe_sdm.mif 0 -if - | mrthreshold - - -bottom 796 -ignorezero | mrcalc _refinedgmhigh.mif - 0 -if _refinedgmhighselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmlow.mif safe_sdm.mif 0 -if - | mrthreshold - - -top 796 -ignorezero | mrcalc _refinedgmlow.mif - 0 -if _refinedgmlowselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmhighselect.mif 1 _refinedgmlowselect.mif -if voxels_gm.mif -datatype bit
[03;34mCommand:[0m mrcalc refined_csf.mif safe_sdm.mif 0 -if - | mrthreshold - - -top 2855 -ignorezero | mrcalc refined_csf.mif - 0 -if voxels_csf.mif -datatype bit
dwi2response: [03;32mSummary of voxel counts:[0m
dwi2response: [03;32mMask: 416937 --> 343769 --> 343728[0m
dwi2response: [03;32mWM: 147802 --> 140090 --> 700 (SF)[0m
dwi2response: [03;32mGM: 129645 --> 79621 --> 1592[0m
dwi2response: [03;32mCSF: 66281 --> 28547 --> 2855[0m
[03;34mCommand:[0m amp2sh dwi_b0.mif - | sh2response - voxels_sfwm.mif safe_vecs.mif _respsfwmb0.txt
[03;34mCommand:[0m amp2sh dwi_b3000.mif - | sh2response - voxels_sfwm.mif safe_vecs.mif _respsfwmb3000.txt
[03;34mCommand:[0m mrcat crude_csf.mif crude_gm.mif crude_wm.mif crude.mif -axis 3
[03;34mCommand:[0m mrcat refined_csf.mif refined_gm.mif refined_wm.mif refined.mif -axis 3
[03;34mCommand:[0m mrcat voxels_csf.mif voxels_gm.mif voxels_sfwm.mif voxels.mif -axis 3
dwi2response: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_052/preproc)[0m
dwi2response: [03;32mDeleting temporary directory /tmp/dwi2response-tmp-B9OFVR/[0m
