dwipreproc_cust: [03;32m[0m
dwipreproc_cust: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
dwipreproc_cust: [03;32m[0m
dwipreproc_cust: [03;32mGenerated temporary directory: /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_041/preproc/dwipreproc_cust-tmp-LTEE59/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_041/preproc/rawdataAPdn.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_041/preproc/dwipreproc_cust-tmp-LTEE59/series.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_041/preproc/AP7b0s.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_041/preproc/dwipreproc_cust-tmp-LTEE59/pair1.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_041/preproc/rawdataPAdn.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_041/preproc/dwipreproc_cust-tmp-LTEE59/pair2.mif
dwipreproc_cust: [03;32mChanging to temporary directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_041/preproc/dwipreproc_cust-tmp-LTEE59/)[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 102[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -dwgrad' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult:           0           0           0           0
          0           0           0           0
  -0.999993 -0.00267821 -0.00267821        3000
  0.0253765   -0.744251   -0.667417        3000
-0.00333394    0.517289    0.855804        3000
   0.272679    0.827764    -0.49036        3000
  -0.651253    0.404559   -0.642029        3000
   0.507879    0.260879    0.820975        3000
   0.959235    0.280272   0.0362809        3000
   0.534631    0.380365   -0.754646        3000
  -0.316553    0.133273   -0.939166        3000
          0           0           0           0
   0.504947   -0.590188   -0.629847        3000
   0.600306   0.0949032    -0.79412        3000
  -0.953892    -0.15535   -0.256818        3000
  -0.527761   -0.742221     0.41301        3000
   0.193968   -0.924849    0.327156        3000
  -0.364902    0.925808   -0.098619        3000
   0.259887    0.930293    0.258871        3000
  0.0247991    0.509899   -0.859877        3000
   -0.61417    0.788587   -0.030427        3000
          0           0           0           0
   0.872681   0.0370903     0.48688        3000
   -0.74382   -0.229805    0.627632        3000
   0.487917    0.676037    0.552188        3000
  -0.451955   -0.890657  -0.0496637        3000
  -0.662413   -0.430877   -0.612824        3000
  -0.853518    0.236789   -0.464153        3000
  -0.439392   -0.505527   -0.742548        3000
   0.957623   -0.139293   -0.252101        3000
   -0.70368    -0.59417   -0.389611        3000
          0           0           0           0
  -0.387382   -0.179806    0.904215        3000
   0.143237    -0.68069    0.718432        3000
  -0.802974   -0.595723   0.0186167        3000
  -0.288808   -0.136583   -0.947594        3000
   0.963035   -0.128311    0.236855        3000
  -0.151459   -0.695759    0.702125        3000
 -0.0180332   -0.982936   -0.183064        3000
  -0.377102    -0.89715    0.230036        3000
   0.668704     0.72812    0.150589        3000
          0           0           0           0
  -0.290652   -0.465339    0.836051        3000
  -0.721925   -0.162963   -0.672508        3000
   0.717087   -0.658291    0.228994        3000
   0.428197   -0.580704    0.692409        3000
   0.958926   -0.282964  -0.0198113        3000
   0.493152   -0.296042    0.818022        3000
  -0.894431    0.397893   -0.204141        3000
   0.203646    0.978705  -0.0257894        3000
  -0.230587    0.966338    0.114109        3000
          0           0           0           0
    0.73972    0.599583   -0.305474        3000
   0.843974    0.335837   -0.418236        3000
   0.105082   -0.283916    0.953074        3000
   0.239888    0.398809    0.885102        3000
   0.613733    0.778103    -0.13374        3000
  -0.266674    0.456777   -0.848669        3000
  -0.658372   -0.512661    0.551112        3000
   0.256769   -0.895147   -0.364392        3000
  -0.249844   -0.820061   -0.514856        3000
          0           0           0           0
  -0.572956    0.658566   -0.487865        3000
  -0.021916   -0.247943   -0.968527        3000
  -0.224381    0.320299    0.920359        3000
    0.83727      0.3222    0.441775        3000
   0.860992    0.464538    0.207116        3000
   -0.48835   -0.809425   -0.326108        3000
   0.107422     0.94707    -0.30252        3000
  -0.542512   0.0049485   -0.840033        3000
   0.250429   -0.575993    -0.77815        3000
          0           0           0           0
   0.228605  -0.0491594   -0.972277        3000
   0.216252    0.652398    0.726369        3000
  -0.961495    -0.14475    0.233611        3000
  -0.311617    0.788414   -0.530376        3000
   0.870715   -0.429177   -0.240131        3000
  -0.844943     0.26364    0.465366        3000
  -0.894669   -0.411121    0.174779        3000
   0.703544   -0.678095   -0.212636        3000
   0.666464   -0.350406   -0.658059        3000
          0           0           0           0
  -0.517114    0.749114     0.41403        3000
   0.719569   -0.133973    0.681375        3000
  0.0400472  -0.0205306    0.998987        3000
  -0.827231     0.56186  0.00120403        3000
  -0.452612    0.385021    0.804302        3000
   0.879434   0.0352838   -0.474712        3000
   0.148781    0.246275   -0.957712        3000
   0.767805   -0.483365    0.420516        3000
   0.478837   -0.133453   -0.867701        3000
          0           0           0           0
   -0.71759    0.532211    0.449239        3000
   0.482425   -0.822042    0.302512        3000
   -0.28174    0.761362     0.58391        3000
 -0.0172491    0.846891   -0.531486        3000
  0.0653677   -0.993177    0.096569        3000
   0.421364    0.633224   -0.649214        3000
  -0.732979   0.0974395    0.673236        3000
 0.00164008    0.896357     0.44333        3000
   0.476159   -0.861865   -0.174532        3000
          0           0           0           0[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -stride' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 1 2 3 4[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair1.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair2.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
[03;34mCommand:[0m mrconvert series.mif dwi_pre_topup.nii -stride -1,+2,+3,+4
[03;34mCommand:[0m mrcat pair1.mif pair2.mif - -axis 3 | mrconvert - topup_in.nii -stride -1,+2,+3,+4
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair1.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair2.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
dwipreproc_cust: [03;32mCreating phase-encoding configuration file[0m
[03;34mCommand:[0m topup --imain=topup_in.nii --datain=config.txt --out=field --fout=field_map.nii.gz --config=/software/fsl/fsl-5.0.9_eddy/fsl/etc/flirtsch/b02b0.cnf
[03;34mCommand:[0m applytopup --imain=dwi_pre_topup.nii --datain=config.txt --inindex=1 --topup=field --out=dwi_post_topup.nii.gz --method=jac
[03;34mCommand:[0m mrconvert series.mif - -stride -1,+2,+3,+4 | mrinfo - -export_grad_fsl bvecs bvals
[03;34mCommand:[0m mrconvert dwi_post_topup.nii.gz -fslgrad bvecs bvals - | dwi2mask - - | maskfilter - dilate - | mrconvert - mask.nii -datatype float32 -stride -1,+2,+3
[03;34mCommand:[0m eddy_openmp --imain=dwi_pre_topup.nii --mask=mask.nii --index=indices.txt --acqp=config.txt --bvecs=bvecs --bvals=bvals --repol --topup=field --out=dwi_post_eddy
[03;34mCommand:[0m mrconvert dwi_post_eddy.nii.gz result.mif -stride 1,2,3,4 -fslgrad dwi_post_eddy.eddy_rotated_bvecs bvals
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_041/preproc/eddycorr.mif -export_grad_mrtrix /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_041/preproc/adjencoding.b
dwipreproc_cust: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_041/preproc)[0m
dwipreproc_cust: [03;32mDeleting temporary directory /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_041/preproc/dwipreproc_cust-tmp-LTEE59/[0m
dwibiascorrect: [03;32m[0m
dwibiascorrect: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
dwibiascorrect: [03;32m[0m
dwibiascorrect: [03;32mGenerated temporary directory: /tmp/dwibiascorrect-tmp-WF3N73/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_041/preproc/eddycorr.mif /tmp/dwibiascorrect-tmp-WF3N73/in.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_041/preproc/eddymeanb0bet_mask.nii.gz /tmp/dwibiascorrect-tmp-WF3N73/mask.mif
dwibiascorrect: [03;32mChanging to temporary directory (/tmp/dwibiascorrect-tmp-WF3N73/)[0m
[03;34mCommand:[0m dwiextract in.mif - -bzero | mrmath - mean mean_bzero.mif -axis 3
[03;34mCommand:[0m mrcalc mean_bzero.mif mask.mif -mult - | mrconvert - mean_bzero_masked.nii -stride -1,+2,+3
[03;34mCommand:[0m fast -t 2 -o fast -n 3 -b mean_bzero_masked.nii
[03;34mCommand:[0m mrcalc in.mif fast_bias.nii.gz -div result.mif
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_041/preproc/biascorr.mif
dwibiascorrect: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_041/preproc)[0m
dwibiascorrect: [03;32mDeleting temporary directory /tmp/dwibiascorrect-tmp-WF3N73/[0m
Extracting mean of the b=0 shell.
Extracting mean of the b=3000 shell.
Extracting mean of the b=0 shell.
Extracting mean of the b=3000 shell.
46722
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mGenerated temporary directory: /tmp/labelsgmfix-tmp-6A654L/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_041/preproc/parctempstr.nii /tmp/labelsgmfix-tmp-6A654L/parc.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_041/preproc/brainFS.nii /tmp/labelsgmfix-tmp-6A654L/T1.nii -stride -1,+2,+3
labelsgmfix: [03;32mChanging to temporary directory (/tmp/labelsgmfix-tmp-6A654L/)[0m
[03;34mCommand:[0m run_first_all -s R_Thal,L_Puta,R_Caud,R_Hipp,L_Amyg,R_Pall,R_Amyg,L_Caud,L_Pall,L_Thal,L_Hipp,R_Accu,L_Accu,R_Puta -i T1.nii -b -o first
[03;34mCommand:[0m mrcalc parc.mif 0 -min sgm.mif
[03;34mCommand:[0m meshconvert first-R_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Thal_mask.mif 6 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Puta_mask.mif 3 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Caud_mask.mif 7 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Hipp_mask.mif 13 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Amyg_mask.mif 12 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Pall_mask.mif 9 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Amyg_mask.mif 14 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Caud_mask.mif 2 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Pall_mask.mif 4 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Thal_mask.mif 1 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Hipp_mask.mif 11 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Accu_mask.mif 10 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Accu_mask.mif 5 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Puta_mask.mif 8 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m mrmath R_Thal_mask.mif L_Puta_mask.mif R_Caud_mask.mif R_Hipp_mask.mif L_Amyg_mask.mif R_Pall_mask.mif R_Amyg_mask.mif L_Caud_mask.mif L_Pall_mask.mif L_Thal_mask.mif L_Hipp_mask.mif R_Accu_mask.mif L_Accu_mask.mif R_Puta_mask.mif sum - | mrcalc - 1 -gt sgm_overlap_mask.mif
[03;34mCommand:[0m mrcalc sgm_overlap_mask.mif 0 sgm.mif -if sgm_masked.mif
[03;34mCommand:[0m labelconvert sgm_masked.mif /software/mrtrix3/mrtrix3-AP/scripts/data/FreeSurferSGM.txt /software/mrtrix3/mrtrix3-AP/src/connectome/tables/fs_a2009s.txt sgm_new_labels.mif
[03;34mCommand:[0m mrcalc parc.mif 83 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 78 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 84 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 87 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 81 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 86 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 88 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 77 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 79 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 76 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 80 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 89 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 82 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 85 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc sgm_new_labels.mif 0.5 -gt sgm_new_labels.mif parc.mif -if result.mif -datatype uint32
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_041/preproc/parc_fixsubcort.nii
labelsgmfix: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_041/preproc)[0m
labelsgmfix: [03;32mDeleting temporary directory /tmp/labelsgmfix-tmp-6A654L/[0m
tmp ./tmp.bbregister.27311
Log file is register.dat.log
Sat Mar 18 06:50:35 AEST 2017

setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/Park/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_041/preproc
/software/freesurfer/freesurfer-6.0.0/bin/bbregister --s Patient_041 --mov biasmeanb0bet.nii.gz --init-fsl --reg register.dat --dti --fslmat diff2FS.mat

$Id: bbregister,v 1.75 2016/05/10 20:02:28 greve Exp $
Linux hpcnode036.adqimr.ad.lan 3.10.0-327.3.1.el7.x86_64 #1 SMP Wed Dec 9 14:09:15 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
FREESURFER_HOME /software/freesurfer/freesurfer-6.0.0
mri_convert biasmeanb0bet.nii.gz ./tmp.bbregister.27311/template.nii
mri_convert.bin biasmeanb0bet.nii.gz ./tmp.bbregister.27311/template.nii 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from biasmeanb0bet.nii.gz...
TR=1000.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (0.994229, -0.101032, 0.0360836)
j_ras = (0.100719, 0.994861, 0.0103819)
k_ras = (-0.0369471, -0.0066877, 0.999295)
writing to ./tmp.bbregister.27311/template.nii...
fslregister --s Patient_041 --mov ./tmp.bbregister.27311/template.nii --reg ./tmp.bbregister.27311/reg.init.dat --niters 1 --maxangle 90 --tmp ./tmp.bbregister.27311/fslregister --dof 6 --fsvol brainmask.mgz --nobetmov

Log file is ./tmp.bbregister.27311/reg.init.dat.fslregister.log

Sat Mar 18 06:50:35 AEST 2017
--s Patient_041 --mov ./tmp.bbregister.27311/template.nii --reg ./tmp.bbregister.27311/reg.init.dat --niters 1 --maxangle 90 --tmp ./tmp.bbregister.27311/fslregister --dof 6 --fsvol brainmask.mgz --nobetmov
$Id: fslregister,v 1.40 2016/02/12 21:43:15 zkaufman Exp $
hpcnode036.adqimr.ad.lan
Linux hpcnode036.adqimr.ad.lan 3.10.0-327.3.1.el7.x86_64 #1 SMP Wed Dec 9 14:09:15 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
nIters 1
--------------------------------------
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_041/preproc
mri_convert /working/lab_michaebr/alistaiP/Park/FS/Patient_041/mri/brainmask.mgz ./tmp.bbregister.27311/fslregister/refvol.fslregister.nii
mri_convert.bin /working/lab_michaebr/alistaiP/Park/FS/Patient_041/mri/brainmask.mgz ./tmp.bbregister.27311/fslregister/refvol.fslregister.nii 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from /working/lab_michaebr/alistaiP/Park/FS/Patient_041/mri/brainmask.mgz...
TR=0.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (-1, 5.12227e-09, 3.72529e-09)
j_ras = (3.72529e-09, 3.72529e-09, -1)
k_ras = (2.09548e-09, 1, 0)
writing to ./tmp.bbregister.27311/fslregister/refvol.fslregister.nii...
--------------------------------------
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_041/preproc
mri_convert ./tmp.bbregister.27311/template.nii ./tmp.bbregister.27311/fslregister/movvol.fslregister.nii --frame 0
mri_convert.bin ./tmp.bbregister.27311/template.nii ./tmp.bbregister.27311/fslregister/movvol.fslregister.nii --frame 0 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from ./tmp.bbregister.27311/template.nii...
TR=1000.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (0.994229, -0.101032, 0.0360836)
j_ras = (0.100719, 0.994861, 0.0103819)
k_ras = (-0.0369471, -0.0066877, 0.999295)
keeping frame 0
writing to ./tmp.bbregister.27311/fslregister/movvol.fslregister.nii...
Mov determinant is 5.02197
Swapping dims for pos det
WARNING:: Flipping Left/Right orientation (as det < 0)
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
target  volume ./tmp.bbregister.27311/fslregister/movvol.fslregister.nii
movable volume ./tmp.bbregister.27311/template.nii
reg file       ./tmp.bbregister.27311/fslregister/swapreg.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target ./tmp.bbregister.27311/fslregister/movvol.fslregister.nii
INFO: target does not conform to COR format, so I'm going to
reslice to COR. This will not affect the final registration.
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.27311/template.nii
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 1, float2int = 0
Computing reg from header (and possibly input matrix)
---- Input registration matrix (computed) --------
-0.99423   0.10103  -0.03608   1.71875;
-0.03695  -0.00669   0.99929  -0.00001;
-0.10072  -0.99486  -0.01038   0.00001;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
-0.99423   0.10103  -0.03608   1.71875;
-0.03695  -0.00669   0.99929  -0.00001;
-0.10072  -0.99486  -0.01038   0.00001;
 0.00000   0.00000   0.00000   1.00000;
Determinant -1
subject = subject-unknown
RegMat ---------------------------
-1.00000  -0.00000  -0.00000   1.71875;
 0.00000   1.00000  -0.00000  -0.00001;
-0.00000   0.00000   1.00000   0.00002;
 0.00000   0.00000   0.00000   1.00000;
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_041/preproc
tkregister2_cmdl --mov ./tmp.bbregister.27311/fslregister/movvol.fslregister.nii --reg ./tmp.bbregister.27311/fslregister/reg0.27365.dat --regheader --fslregout ./tmp.bbregister.27311/reg.init.dat.fsl.mat0 --s Patient_041 --noedit
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume ./tmp.bbregister.27311/fslregister/movvol.fslregister.nii
reg file       ./tmp.bbregister.27311/fslregister/reg0.27365.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target /working/lab_michaebr/alistaiP/Park/FS/Patient_041/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.27311/fslregister/movvol.fslregister.nii
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 1, float2int = 0
Computing reg from header (and possibly input matrix)
---- Input registration matrix (computed) --------
 0.99423  -0.10103   0.03608  -1.14580;
-0.03695  -0.00669   0.99929  -1.14416;
-0.10072  -0.99486  -0.01038  -15.95511;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
 0.99423  -0.10103   0.03608  -1.14580;
-0.03695  -0.00669   0.99929  -1.14416;
-0.10072  -0.99486  -0.01038  -15.95511;
 0.00000   0.00000   0.00000   1.00000;
Determinant 1
subject = Patient_041
RegMat ---------------------------
 0.99423  -0.10103   0.03608  -1.14580;
-0.03695  -0.00669   0.99929  -1.14416;
-0.10072  -0.99486  -0.01038  -15.95511;
 0.00000   0.00000   0.00000   1.00000;
FSLOUTPUTTYPE NIFTI 
tkreg2FSL: mov det = -5.02197, ref det = -1
Sat Mar 18 06:50:38 AEST 2017
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_041/preproc
flirt.fsl -ref ./tmp.bbregister.27311/fslregister/refvol.fslregister.nii -in ./tmp.bbregister.27311/fslregister/movvol.fslregister.nii -bins 256 -cost corratio -dof 6 -searchrx -90 90 -searchry -90 90 -searchrz -90 90 -verbose 0 -omat ./tmp.bbregister.27311/fslregister/fslmat0.trans.mat -schedule /software/freesurfer/freesurfer-6.0.0/bin/fsl.5.0.2.xyztrans.sch -init ./tmp.bbregister.27311/reg.init.dat.fsl.mat0
Sat Mar 18 06:51:12 AEST 2017
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_041/preproc
flirt.fsl -ref ./tmp.bbregister.27311/fslregister/refvol.fslregister.nii -in ./tmp.bbregister.27311/fslregister/movvol.fslregister.nii -bins 256 -cost corratio -dof 6 -searchrx -90 90 -searchry -90 90 -searchrz -90 90 -verbose 0 -omat ./tmp.bbregister.27311/reg.init.dat.fsl.mat -init ./tmp.bbregister.27311/fslregister/fslmat0.trans.mat -schedule /software/freesurfer/freesurfer-6.0.0/bin/flirt.newdefault.20080811.sch
tkregister2_cmdl --s Patient_041 --mov ./tmp.bbregister.27311/fslregister/movvol.fslregister.nii --reg ./tmp.bbregister.27311/reg.init.dat --fslreg ./tmp.bbregister.27311/reg.init.dat.fsl.mat --noedit
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
---- FSL registration matrix --------
 0.99472  -0.09144   0.04653   25.99910;
 0.05021   0.03827  -0.99800   195.53300;
 0.08947   0.99508   0.04266  -8.76139;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume ./tmp.bbregister.27311/fslregister/movvol.fslregister.nii
reg file       ./tmp.bbregister.27311/reg.init.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target /working/lab_michaebr/alistaiP/Park/FS/Patient_041/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.27311/fslregister/movvol.fslregister.nii
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 0, float2int = 0
FSLOUTPUTTYPE NIFTI 
fsl2TkReg: mov det = -5.02197, ref det = -1
---- Input registration matrix (computed) --------
 0.99472  -0.08947   0.05021  -0.30833;
-0.04653   0.04266   0.99801   1.47933;
-0.09144  -0.99507   0.03827  -14.17655;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
 0.99472  -0.08947   0.05021  -0.30833;
-0.04653   0.04266   0.99801   1.47933;
-0.09144  -0.99507   0.03827  -14.17655;
 0.00000   0.00000   0.00000   1.00000;
Determinant 0.999999
subject = Patient_041
RegMat ---------------------------
 0.99472  -0.08947   0.05021  -0.30833;
-0.04653   0.04266   0.99801   1.47933;
-0.09144  -0.99507   0.03827  -14.17655;
 0.00000   0.00000   0.00000   1.00000;
mri_matrix_multiply -im ./tmp.bbregister.27311/fslregister/swapreg.dat -im ./tmp.bbregister.27311/reg.init.dat -om ./tmp.bbregister.27311/reg.init.dat
(standard_in) 1: illegal character: P
 
Started at Sat Mar 18 06:50:35 AEST 2017 
Ended   at Sat Mar 18 06:52:29 AEST 2017
 
fslregister Done
 
To check results, run:
tkregister2 --mov ./tmp.bbregister.27311/template.nii --reg ./tmp.bbregister.27311/reg.init.dat --surf orig
 
mri_segreg --mov ./tmp.bbregister.27311/template.nii --init-reg ./tmp.bbregister.27311/reg.init.dat --out-reg ./tmp.bbregister.27311/bbr.pass1.dat --subsamp-brute 100 --subsamp 100 --tol 1e-4 --tol1d 1e-3 --brute -4 4 4 --surf white --gm-proj-frac 0.5 --gm-gt-wm 0.5
$Id: mri_segreg.c,v 1.113 2016/05/10 03:23:20 greve Exp $
setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/Park/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_041/preproc
mri_segreg --mov ./tmp.bbregister.27311/template.nii --init-reg ./tmp.bbregister.27311/reg.init.dat --out-reg ./tmp.bbregister.27311/bbr.pass1.dat --subsamp-brute 100 --subsamp 100 --tol 1e-4 --tol1d 1e-3 --brute -4 4 4 --surf white --gm-proj-frac 0.5 --gm-gt-wm 0.5 
sysname  Linux
hostname hpcnode036.adqimr.ad.lan
machine  x86_64
user     alistaiP
movvol ./tmp.bbregister.27311/template.nii
regfile ./tmp.bbregister.27311/reg.init.dat
subject Patient_041
dof 6
outregfile ./tmp.bbregister.27311/bbr.pass1.dat
UseMask 0
UseLH 1
UseRH 1
nsubsamp 100
PenaltySign  -1
PenaltySlope 0.500000
PenaltyCenter 0.000000
surfname white
GMProjFrac 0.500000
WMProjAbs 2.000000
lhcostfile (null)
rhcostfile (null)
interp  trilinear (1)
frame  0
TolPowell 0.000100
nMaxItersPowell 36
n1dmin  3
Profile   0
Gdiag_no  -1
AddNoise  0 (0)
SynthSeed 1490072484
TransRandMax 0.000000
RotRandMax 0.000000
Translations 0.000000 0.000000 0.000000
Rotations   0.000000 0.000000 0.000000
Input reg
-0.99472   0.08947  -0.05020   2.02708;
-0.04653   0.04266   0.99800   1.47932;
-0.09144  -0.99507   0.03827  -14.17653;
 0.00000   0.00000   0.00000   1.00000;

Loading mov
Projecting LH Surfs
Loading lh.white surf
Loading lh.thickness for GM
GM Proj: 1 0.500000 2.000000
WM Proj: 0 0.500000 2.000000
Projecting RH Surfs
Loading rh.white surf
Loading rh.thickness for GM
Projecting RH Surfs
Using lh.cortex.label
Using rh.cortex.label
Computing relative cost
 0  -25.0 -25.0 -25.0   0.992667
 1  -25.0 -25.0  25.0   0.994095
 2  -25.0  25.0 -25.0   1.027229
 3  -25.0  25.0  25.0   0.996456
 4   25.0 -25.0 -25.0   0.963765
 5   25.0 -25.0  25.0   0.961422
 6   25.0  25.0 -25.0   0.973604
 7   25.0  25.0  25.0   0.955943
REL:  8  0.257520    7.865183  0.983148 rel = 0.261934 
Initial costs ----------------
Number of surface hits 2437
WM  Intensity   376.7785 +/-  96.7639
Ctx Intensity   584.0758 +/- 236.9622
Pct Contrast     37.3482 +/-  37.7869
Cost   0.2575
RelCost   0.2619

------------------------------------
Brute force preopt -4 4 4, n = 729
     0  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000      0.9683   0.9683  0.0
     1  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000   0.0000      0.9608   0.9608  0.0
     3  -4.0000  -4.0000  -4.0000  -4.0000   0.0000  -4.0000      0.9291   0.9291  0.0
    10  -4.0000  -4.0000  -4.0000   0.0000  -4.0000   0.0000      0.9245   0.9245  0.0
    12  -4.0000  -4.0000  -4.0000   0.0000   0.0000  -4.0000      0.9136   0.9136  0.0
    13  -4.0000  -4.0000  -4.0000   0.0000   0.0000   0.0000      0.8858   0.8858  0.0
    15  -4.0000  -4.0000  -4.0000   0.0000   4.0000  -4.0000      0.8246   0.8246  0.0
    19  -4.0000  -4.0000  -4.0000   4.0000  -4.0000   0.0000      0.8115   0.8115  0.0
    61  -4.0000  -4.0000   4.0000  -4.0000   4.0000   0.0000      0.8046   0.8046  0.0
   117  -4.0000   0.0000   0.0000   0.0000  -4.0000  -4.0000      0.8024   0.8024  0.0
   120  -4.0000   0.0000   0.0000   0.0000   0.0000  -4.0000      0.7489   0.7489  0.0
   265   0.0000  -4.0000  -4.0000   4.0000   0.0000   0.0000      0.7415   0.7415  0.0
   274   0.0000  -4.0000   0.0000  -4.0000   0.0000   0.0000      0.6388   0.6388  0.0
   283   0.0000  -4.0000   0.0000   0.0000   0.0000   0.0000      0.6277   0.6277  0.0
   363   0.0000   0.0000   0.0000   0.0000   0.0000  -4.0000      0.6270   0.6270  0.0
   364   0.0000   0.0000   0.0000   0.0000   0.0000   0.0000      0.2575   0.2575  0.0
Brute Force --------------------------
Min cost was 0.257520
Number of iterations   729
Search time 3.127000 sec
Parameters at best (transmm, rotdeg)
  0.000   0.000   0.000  0.000  0.000  0.000 
--------------------------------------------

Starting Powell Minimization
Init Powel Params dof = 6
0 0
1 0
2 0
3 0
4 0
5 0
fs_powell::minimize
  nparams 6
  maxfev 36
  ftol   0.000100
  linmin_xtol_   0.001000
  powell nthiter 0: fret = 0.257520
   7 -0.073  0.000  0.000  0.000  0.000  0.000   0.2556976727
   9 -0.127  0.000  0.000  0.000  0.000  0.000   0.2552280424
  10 -0.134  0.000  0.000  0.000  0.000  0.000   0.2551595674
  12 -0.155  0.000  0.000  0.000  0.000  0.000   0.2550636485
  13 -0.154  0.000  0.000  0.000  0.000  0.000   0.2550578220
  14 -0.149  0.000  0.000  0.000  0.000  0.000   0.2550532852
  16 -0.151  0.000  0.000  0.000  0.000  0.000   0.2550515388
  20 -0.151 -1.618  0.000  0.000  0.000  0.000   0.1167492227
  23 -0.151 -1.000  0.000  0.000  0.000  0.000   0.1141769437
  25 -0.151 -1.290  0.000  0.000  0.000  0.000   0.1047279721
  28 -0.151 -1.264  0.000  0.000  0.000  0.000   0.1041989120
  30 -0.151 -1.263  0.000  0.000  0.000  0.000   0.1041954267
  31 -0.151 -1.262  0.000  0.000  0.000  0.000   0.1041947623
  39 -0.151 -1.262 -0.183  0.000  0.000  0.000   0.1011139566
  40 -0.151 -1.262 -0.198  0.000  0.000  0.000   0.1006826867
  42 -0.151 -1.262 -0.260  0.000  0.000  0.000   0.0997176970
  44 -0.151 -1.262 -0.250  0.000  0.000  0.000   0.0996239680
  46 -0.151 -1.262 -0.247  0.000  0.000  0.000   0.0996097708
  48 -0.151 -1.262 -0.245  0.000  0.000  0.000   0.0996050934
  49 -0.151 -1.262 -0.244  0.000  0.000  0.000   0.0996050140
  61 -0.151 -1.262 -0.244 -0.010  0.000  0.000   0.0995603954
  62 -0.151 -1.262 -0.244 -0.008  0.000  0.000   0.0995557827
  63 -0.151 -1.262 -0.244 -0.007  0.000  0.000   0.0995545071
  74 -0.151 -1.262 -0.244 -0.007  0.026  0.000   0.0988772308
  85 -0.151 -1.262 -0.244 -0.007  0.026  0.046   0.0981277678
  87 -0.151 -1.262 -0.244 -0.007  0.026  0.060   0.0980477998
  powell nthiter 1: fret = 0.098048
 101 -0.144 -1.262 -0.244 -0.007  0.026  0.060   0.0979161306
 103 -0.141 -1.262 -0.244 -0.007  0.026  0.060   0.0979016438
 112 -0.141 -1.317 -0.244 -0.007  0.026  0.060   0.0978638528
 113 -0.141 -1.292 -0.244 -0.007  0.026  0.060   0.0975861545
 124 -0.141 -1.292 -0.251 -0.007  0.026  0.060   0.0974902122
 126 -0.141 -1.292 -0.265 -0.007  0.026  0.060   0.0974818528
 127 -0.141 -1.292 -0.259 -0.007  0.026  0.060   0.0974478477
 137 -0.141 -1.292 -0.259 -0.068  0.026  0.060   0.0971490415
 138 -0.141 -1.292 -0.259 -0.069  0.026  0.060   0.0971464588
 140 -0.141 -1.292 -0.259 -0.078  0.026  0.060   0.0971329467
 141 -0.141 -1.292 -0.259 -0.084  0.026  0.060   0.0971329135
 142 -0.141 -1.292 -0.259 -0.081  0.026  0.060   0.0971318492
 154 -0.141 -1.292 -0.259 -0.081  0.043  0.060   0.0971188792
 156 -0.141 -1.292 -0.259 -0.081  0.035  0.060   0.0970510447
 158 -0.141 -1.292 -0.259 -0.081  0.033  0.060   0.0970507170
 171 -0.141 -1.292 -0.259 -0.081  0.033  0.076   0.0967508322
 173 -0.141 -1.292 -0.259 -0.081  0.033  0.080   0.0967391464
  powell nthiter 2: fret = 0.096739
 184 -0.098 -1.292 -0.259 -0.081  0.033  0.080   0.0965314599
 185 -0.095 -1.292 -0.259 -0.081  0.033  0.080   0.0964480399
 186 -0.072 -1.292 -0.259 -0.081  0.033  0.080   0.0957677967
 188 -0.070 -1.292 -0.259 -0.081  0.033  0.080   0.0957661110
 197 -0.070 -1.296 -0.259 -0.081  0.033  0.080   0.0957558119
 198 -0.070 -1.297 -0.259 -0.081  0.033  0.080   0.0957553084
 206 -0.070 -1.297 -0.213 -0.081  0.033  0.080   0.0949746471
 209 -0.070 -1.297 -0.212 -0.081  0.033  0.080   0.0949741132
 211 -0.070 -1.297 -0.211 -0.081  0.033  0.080   0.0949740980
 219 -0.070 -1.297 -0.211 -0.169  0.033  0.080   0.0946560271
 220 -0.070 -1.297 -0.211 -0.140  0.033  0.080   0.0941903756
 222 -0.070 -1.297 -0.211 -0.141  0.033  0.080   0.0941894761
 233 -0.070 -1.297 -0.211 -0.141  0.041  0.080   0.0941394045
 242 -0.070 -1.297 -0.211 -0.141  0.041  0.268   0.0935314770
 243 -0.070 -1.297 -0.211 -0.141  0.041  0.257   0.0934824475
 244 -0.070 -1.297 -0.211 -0.141  0.041  0.212   0.0926510207
 245 -0.070 -1.297 -0.211 -0.141  0.041  0.162   0.0922112959
 248 -0.070 -1.297 -0.211 -0.141  0.041  0.157   0.0921957686
 249 -0.070 -1.297 -0.211 -0.141  0.041  0.156   0.0921955899
 251  0.001 -1.301 -0.164 -0.200  0.048  0.232   0.0892079658
 254  0.115 -1.308 -0.088 -0.297  0.059  0.355   0.0888485362
 255  0.065 -1.305 -0.121 -0.255  0.054  0.302   0.0875012116
 259  0.063 -1.305 -0.123 -0.253  0.054  0.299   0.0874893037
 261  0.061 -1.305 -0.124 -0.251  0.054  0.297   0.0874856489
 264  0.061 -1.305 -0.124 -0.251  0.054  0.297   0.0874856221
  powell nthiter 3: fret = 0.087486
 275  0.069 -1.305 -0.124 -0.251  0.054  0.297   0.0874276833
 276  0.067 -1.305 -0.124 -0.251  0.054  0.297   0.0874212917
 284  0.067 -1.380 -0.124 -0.251  0.054  0.297   0.0866682263
 286  0.067 -1.363 -0.124 -0.251  0.054  0.297   0.0866473015
 287  0.067 -1.369 -0.124 -0.251  0.054  0.297   0.0866347978
 298  0.067 -1.369 -0.153 -0.251  0.054  0.297   0.0865284426
 299  0.067 -1.369 -0.152 -0.251  0.054  0.297   0.0865260088
 300  0.067 -1.369 -0.147 -0.251  0.054  0.297   0.0865146037
 315  0.067 -1.369 -0.147 -0.259  0.054  0.297   0.0864908284
 317  0.067 -1.369 -0.147 -0.257  0.054  0.297   0.0864898578
 328  0.067 -1.369 -0.147 -0.257  0.052  0.297   0.0864879973
 330  0.067 -1.369 -0.147 -0.257  0.051  0.297   0.0864865847
 339  0.072 -1.370 -0.143 -0.262  0.052  0.303   0.0864039462
 340  0.076 -1.370 -0.140 -0.265  0.052  0.307   0.0863900922
 342  0.076 -1.370 -0.140 -0.265  0.052  0.307   0.0863900789
 343  0.076 -1.370 -0.140 -0.265  0.052  0.307   0.0863899583
  powell nthiter 4: fret = 0.086390
 357  0.075 -1.370 -0.140 -0.265  0.052  0.307   0.0863897018
 365  0.075 -1.374 -0.140 -0.265  0.052  0.307   0.0863777981
 368  0.075 -1.377 -0.140 -0.265  0.052  0.307   0.0863756795
 379  0.075 -1.377 -0.118 -0.265  0.052  0.307   0.0863125878
 382  0.075 -1.377 -0.116 -0.265  0.052  0.307   0.0863112716
 384  0.075 -1.377 -0.117 -0.265  0.052  0.307   0.0863111676
 394  0.075 -1.377 -0.117 -0.269  0.052  0.307   0.0862998553
 406  0.075 -1.377 -0.117 -0.269  0.061  0.307   0.0862429357
 415  0.076 -1.377 -0.116 -0.270  0.061  0.308   0.0862373893
 416  0.080 -1.377 -0.113 -0.274  0.062  0.313   0.0862035503
 417  0.080 -1.377 -0.113 -0.274  0.062  0.313   0.0862034298
 418  0.081 -1.377 -0.113 -0.274  0.062  0.313   0.0862030332
  powell nthiter 5: fret = 0.086203
 435  0.077 -1.377 -0.113 -0.274  0.062  0.313   0.0861826132
 447  0.077 -1.384 -0.113 -0.274  0.062  0.313   0.0861721251
 448  0.077 -1.382 -0.113 -0.274  0.062  0.313   0.0861710872
 458  0.077 -1.382 -0.112 -0.274  0.062  0.313   0.0861664124
 459  0.077 -1.382 -0.104 -0.274  0.062  0.313   0.0861533848
 461  0.077 -1.382 -0.106 -0.274  0.062  0.313   0.0861529519
 473  0.077 -1.382 -0.106 -0.276  0.062  0.313   0.0861522427
 484  0.077 -1.382 -0.106 -0.276  0.065  0.313   0.0861431433
 494  0.080 -1.382 -0.103 -0.279  0.066  0.317   0.0861252535
 496  0.080 -1.382 -0.103 -0.278  0.066  0.317   0.0861249785
 497  0.080 -1.382 -0.104 -0.278  0.065  0.317   0.0861249062
 499  0.080 -1.382 -0.104 -0.278  0.065  0.316   0.0861248739
 500  0.080 -1.382 -0.104 -0.278  0.065  0.316   0.0861247739
 502  0.079 -1.387 -0.094 -0.283  0.069  0.320   0.0860913892
  powell nthiter 6: fret = 0.086125
 570  0.081 -1.386 -0.101 -0.281  0.068  0.321   0.0860783209
 572  0.080 -1.386 -0.101 -0.280  0.068  0.320   0.0860777083
 575  0.080 -1.386 -0.101 -0.280  0.068  0.320   0.0860776596
 576  0.080 -1.389 -0.099 -0.282  0.070  0.324   0.0860267400
 579  0.081 -1.395 -0.095 -0.285  0.073  0.330   0.0859177189
 580  0.082 -1.404 -0.089 -0.290  0.078  0.340   0.0856128249
 581  0.083 -1.419 -0.079 -0.298  0.087  0.356   0.0854827453
 582  0.083 -1.416 -0.081 -0.296  0.085  0.353   0.0854294599
 584  0.082 -1.411 -0.084 -0.294  0.083  0.348   0.0854015888
 586  0.082 -1.413 -0.083 -0.294  0.083  0.350   0.0853970002
 591  0.082 -1.413 -0.083 -0.294  0.083  0.349   0.0853968831
 594  0.082 -1.413 -0.083 -0.294  0.083  0.349   0.0853968510
  powell nthiter 7: fret = 0.085397
 605  0.075 -1.413 -0.083 -0.294  0.083  0.349   0.0853286952
 606  0.074 -1.413 -0.083 -0.294  0.083  0.349   0.0853283658
 628  0.074 -1.413 -0.084 -0.294  0.083  0.349   0.0853223568
 631  0.074 -1.413 -0.091 -0.294  0.083  0.349   0.0852995194
 644  0.074 -1.413 -0.091 -0.293  0.083  0.349   0.0852831625
 645  0.074 -1.413 -0.091 -0.278  0.083  0.349   0.0852446869
 647  0.074 -1.413 -0.091 -0.284  0.083  0.349   0.0852138994
 660  0.074 -1.413 -0.091 -0.284  0.081  0.349   0.0852049258
 661  0.074 -1.413 -0.091 -0.284  0.080  0.349   0.0852046064
 669  0.074 -1.413 -0.090 -0.284  0.080  0.350   0.0852043010
 670  0.074 -1.413 -0.090 -0.284  0.080  0.350   0.0852039512
  powell nthiter 8: fret = 0.085204
 686  0.078 -1.413 -0.090 -0.284  0.080  0.350   0.0851908765
 700  0.078 -1.412 -0.090 -0.284  0.080  0.350   0.0851890665
 711  0.078 -1.412 -0.096 -0.284  0.080  0.350   0.0851779287
 712  0.078 -1.412 -0.095 -0.284  0.080  0.350   0.0851777570
 724  0.078 -1.412 -0.095 -0.283  0.080  0.350   0.0851730295
 725  0.078 -1.412 -0.095 -0.281  0.080  0.350   0.0851715574
 743  0.078 -1.413 -0.094 -0.282  0.081  0.351   0.0851619294
 745  0.078 -1.413 -0.095 -0.282  0.081  0.351   0.0851618631
 748  0.078 -1.413 -0.095 -0.282  0.081  0.351   0.0851618574
 755  0.082 -1.413 -0.099 -0.279  0.081  0.352   0.0851460230
  powell nthiter 9: fret = 0.085162
 823  0.079 -1.413 -0.097 -0.280  0.080  0.353   0.0851430927
 828  0.079 -1.413 -0.097 -0.280  0.080  0.353   0.0851430063
 833  0.080 -1.414 -0.100 -0.279  0.079  0.354   0.0851301349
 838  0.081 -1.414 -0.102 -0.278  0.078  0.355   0.0851270044
 843  0.081 -1.414 -0.102 -0.278  0.078  0.355   0.0851269591
 848  0.081 -1.414 -0.102 -0.278  0.078  0.355   0.0851268737
  powell nthiter 10: fret = 0.085127
 873  0.081 -1.411 -0.102 -0.278  0.078  0.355   0.0851154598
 886  0.081 -1.411 -0.101 -0.278  0.078  0.355   0.0851154425
 912  0.082 -1.411 -0.104 -0.276  0.077  0.356   0.0851128291
 916  0.082 -1.411 -0.103 -0.277  0.078  0.356   0.0851124091
 917  0.082 -1.411 -0.103 -0.277  0.078  0.356   0.0851123745
 918  0.082 -1.411 -0.103 -0.277  0.078  0.356   0.0851123359
 926  0.082 -1.411 -0.103 -0.277  0.078  0.356   0.0851122498
  powell nthiter 11: fret = 0.085112
 937  0.081 -1.411 -0.103 -0.277  0.078  0.356   0.0851116290
 950  0.081 -1.410 -0.103 -0.277  0.078  0.356   0.0851112136
 961  0.081 -1.410 -0.100 -0.277  0.078  0.356   0.0851101335
 964  0.081 -1.410 -0.101 -0.277  0.078  0.356   0.0851094267
 976  0.081 -1.410 -0.101 -0.278  0.078  0.356   0.0851081686
 991  0.082 -1.410 -0.104 -0.276  0.077  0.357   0.0851069942
 995  0.082 -1.410 -0.103 -0.277  0.077  0.357   0.0851058707
 997  0.082 -1.410 -0.103 -0.277  0.077  0.357   0.0851058122
 998  0.082 -1.410 -0.103 -0.277  0.077  0.357   0.0851057253
1002  0.082 -1.410 -0.103 -0.277  0.077  0.357   0.0851057075
Powell done niters = 11
Computing relative cost
 0  -25.0 -25.0 -25.0   0.982223
 1  -25.0 -25.0  25.0   0.980143
 2  -25.0  25.0 -25.0   0.999943
 3  -25.0  25.0  25.0   1.024263
 4   25.0 -25.0 -25.0   0.985639
 5   25.0 -25.0  25.0   0.939717
 6   25.0  25.0 -25.0   0.964803
 7   25.0  25.0  25.0   0.963667
REL:  8  0.085106    7.840398  0.980050 rel = 0.0868381 
Number of iterations    11
Min cost was 0.085106
Number of FunctionCalls  1006
TolPowell 0.000100
nMaxItersPowell 36
OptimizationTime 4.217000 sec
Parameters at optimum (transmm)  0.08170 -1.41017 -0.10291
Parameters at optimum (rotdeg) -0.27717  0.07712  0.35668 
Final costs ----------------
Number of surface hits 2437
WM  Intensity   361.1669 +/-  77.2765
Ctx Intensity   539.5958 +/- 138.4850
Pct Contrast     38.0038 +/-  25.1045
Cost   0.0851
RelCost   0.2619
Reg at min cost was 
-0.99453   0.08789  -0.05637   2.08087;
-0.05317   0.03840   0.99785   0.01303;
-0.08987  -0.99539   0.03351  -14.28915;
 0.00000   0.00000   0.00000   1.00000;

Writing optimal reg to ./tmp.bbregister.27311/bbr.pass1.dat, type = 14 
Original Reg 
-0.99472   0.08947  -0.05020   2.02708;
-0.04653   0.04266   0.99800   1.47932;
-0.09144  -0.99507   0.03827  -14.17653;
 0.00000   0.00000   0.00000   1.00000;

Original Reg - Optimal Reg
-0.00019   0.00158   0.00617  -0.05379;
 0.00663   0.00427   0.00016   1.46629;
-0.00157   0.00031   0.00476   0.11262;
 0.00000   0.00000   0.00000   0.00000;

Computing change in lh position
LH rmsDiffMean 1.183501
Computing change in rh position
Surface-RMS-Diff-mm 1.351553 0.270426 1.917843
mri_segreg done
mri_segreg --mov ./tmp.bbregister.27311/template.nii --init-reg ./tmp.bbregister.27311/bbr.pass1.dat --out-reg register.dat --interp trilinear --wm-proj-abs 2 --tol 1e-8 --tol1d 1e-3 --c0 0 --mincost register.dat.mincost --dof 6 --nmax 36 --param register.dat.param --surf white --brute -0.1 0.1 0.1 --cur-reg ./tmp.bbregister.27311/reg.curopt.dat --gm-proj-frac 0.5 --nsub 1 --gm-gt-wm 0.5
$Id: mri_segreg.c,v 1.113 2016/05/10 03:23:20 greve Exp $
setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/Park/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_041/preproc
mri_segreg --mov ./tmp.bbregister.27311/template.nii --init-reg ./tmp.bbregister.27311/bbr.pass1.dat --out-reg register.dat --interp trilinear --wm-proj-abs 2 --tol 1e-8 --tol1d 1e-3 --c0 0 --mincost register.dat.mincost --dof 6 --nmax 36 --param register.dat.param --surf white --brute -0.1 0.1 0.1 --cur-reg ./tmp.bbregister.27311/reg.curopt.dat --gm-proj-frac 0.5 --nsub 1 --gm-gt-wm 0.5 
sysname  Linux
hostname hpcnode036.adqimr.ad.lan
machine  x86_64
user     alistaiP
movvol ./tmp.bbregister.27311/template.nii
regfile ./tmp.bbregister.27311/bbr.pass1.dat
subject Patient_041
dof 6
outregfile register.dat
UseMask 0
UseLH 1
UseRH 1
nsubsamp 1
PenaltySign  -1
PenaltySlope 0.500000
PenaltyCenter 0.000000
surfname white
GMProjFrac 0.500000
WMProjAbs 2.000000
lhcostfile (null)
rhcostfile (null)
interp  trilinear (1)
frame  0
TolPowell 0.000000
nMaxItersPowell 36
n1dmin  3
Profile   0
Gdiag_no  -1
AddNoise  0 (0)
SynthSeed 1490482764
TransRandMax 0.000000
RotRandMax 0.000000
Translations 0.000000 0.000000 0.000000
Rotations   0.000000 0.000000 0.000000
Input reg
-0.99453   0.08789  -0.05637   2.08087;
-0.05317   0.03840   0.99785   0.01303;
-0.08987  -0.99539   0.03351  -14.28915;
 0.00000   0.00000   0.00000   1.00000;

Loading mov
Projecting LH Surfs
Loading lh.white surf
Loading lh.thickness for GM
GM Proj: 1 0.500000 2.000000
WM Proj: 0 0.500000 2.000000
Projecting RH Surfs
Loading rh.white surf
Loading rh.thickness for GM
Projecting RH Surfs
Using lh.cortex.label
Using rh.cortex.label
Computing relative cost
 0  -25.0 -25.0 -25.0   0.988047
 1  -25.0 -25.0  25.0   1.000671
 2  -25.0  25.0 -25.0   1.015945
 3  -25.0  25.0  25.0   1.015568
 4   25.0 -25.0 -25.0   0.980393
 5   25.0 -25.0  25.0   0.976209
 6   25.0  25.0 -25.0   0.976659
 7   25.0  25.0  25.0   0.971610
REL:  8  0.081626    7.925101  0.990638 rel = 0.0823971 
Initial costs ----------------
Number of surface hits 243024
WM  Intensity   360.7234 +/-  75.8064
Ctx Intensity   539.7522 +/- 138.3839
Pct Contrast     38.0718 +/-  24.1185
Cost   0.0816
RelCost   0.0824

------------------------------------
Brute force preopt -0.1 0.1 0.1, n = 729
     0  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000      0.0920   0.0920  0.0
     1  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000   0.0000      0.0911   0.0911  0.0
     2  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000   0.1000      0.0906   0.0906  0.0
     4  -0.1000  -0.1000  -0.1000  -0.1000   0.0000   0.0000      0.0882   0.0882  0.0
   124  -0.1000   0.0000   0.0000   0.0000   0.1000   0.0000      0.0881   0.0881  0.0
   165  -0.1000   0.1000  -0.1000  -0.1000   0.0000  -0.1000      0.0874   0.0874  0.0
   216  -0.1000   0.1000   0.1000  -0.1000  -0.1000  -0.1000      0.0873   0.0873  0.0
   227  -0.1000   0.1000   0.1000   0.0000  -0.1000   0.1000      0.0861   0.0861  0.0
   251   0.0000  -0.1000  -0.1000  -0.1000   0.1000   0.1000      0.0857   0.0857  0.0
   274   0.0000  -0.1000   0.0000  -0.1000   0.0000   0.0000      0.0856   0.0856  0.0
   364   0.0000   0.0000   0.0000   0.0000   0.0000   0.0000      0.0851   0.0851  0.0
Brute Force --------------------------
Min cost was 0.085106
Number of iterations   729
Search time 3.183000 sec
Parameters at best (transmm, rotdeg)
  0.000   0.000   0.000  0.000  0.000  0.000 
--------------------------------------------

Starting Powell Minimization
Init Powel Params dof = 6
0 0
1 0
2 0
3 0
4 0
5 0
fs_powell::minimize
  nparams 6
  maxfev 36
  ftol   0.000000
  linmin_xtol_   0.001000
  powell nthiter 0: fret = 0.081626
   7 -0.011  0.000  0.000  0.000  0.000  0.000   0.0815979962
   8 -0.016  0.000  0.000  0.000  0.000  0.000   0.0815966696
   9 -0.014  0.000  0.000  0.000  0.000  0.000   0.0815957576
  18 -0.014  0.014  0.000  0.000  0.000  0.000   0.0815840369
  20 -0.014  0.010  0.000  0.000  0.000  0.000   0.0815810384
  30 -0.014  0.010  0.006  0.000  0.000  0.000   0.0815790945
  39 -0.014  0.010  0.006  0.037  0.000  0.000   0.0815661417
  40 -0.014  0.010  0.006  0.020  0.000  0.000   0.0815498813
  50 -0.014  0.010  0.006  0.020 -0.011  0.000   0.0815344627
  51 -0.014  0.010  0.006  0.020 -0.012  0.000   0.0815341563
  52 -0.014  0.010  0.006  0.020 -0.014  0.000   0.0815340095
  61 -0.014  0.010  0.006  0.020 -0.014 -0.052   0.0812929279
  62 -0.014  0.010  0.006  0.020 -0.014 -0.061   0.0812646689
  66 -0.014  0.010  0.006  0.020 -0.014 -0.072   0.0812445609
  68 -0.014  0.010  0.006  0.020 -0.014 -0.074   0.0812444249
  69 -0.014  0.010  0.006  0.020 -0.014 -0.075   0.0812443909
  powell nthiter 1: fret = 0.081244
  79 -0.010  0.010  0.006  0.020 -0.014 -0.075   0.0812399813
  89 -0.010  0.014  0.006  0.020 -0.014 -0.075   0.0812226232
  90 -0.010  0.030  0.006  0.020 -0.014 -0.075   0.0812082769
  92 -0.010  0.025  0.006  0.020 -0.014 -0.075   0.0812023549
 101 -0.010  0.025 -0.020  0.020 -0.014 -0.075   0.0811747830
 102 -0.010  0.025 -0.014  0.020 -0.014 -0.075   0.0811671251
 103 -0.010  0.025 -0.012  0.020 -0.014 -0.075   0.0811662785
 113 -0.010  0.025 -0.012  0.025 -0.014 -0.075   0.0811616112
 123 -0.010  0.025 -0.012  0.025 -0.007 -0.075   0.0811572409
 124 -0.010  0.025 -0.012  0.025 -0.008 -0.075   0.0811564624
 125 -0.010  0.025 -0.012  0.025 -0.009 -0.075   0.0811562578
  powell nthiter 2: fret = 0.081156
 146 -0.014  0.025 -0.012  0.025 -0.009 -0.075   0.0811557163
 148 -0.012  0.025 -0.012  0.025 -0.009 -0.075   0.0811549702
 167 -0.012  0.025 -0.013  0.025 -0.009 -0.075   0.0811545990
 168 -0.012  0.025 -0.014  0.025 -0.009 -0.075   0.0811544502
 179 -0.012  0.025 -0.014  0.027 -0.009 -0.075   0.0811542068
 182 -0.012  0.025 -0.014  0.026 -0.009 -0.075   0.0811541229
 190 -0.012  0.025 -0.014  0.026 -0.006 -0.075   0.0811533584
 191 -0.012  0.025 -0.014  0.026 -0.007 -0.075   0.0811530921
 202 -0.014  0.025 -0.016  0.027 -0.005 -0.075   0.0811528725
  powell nthiter 3: fret = 0.081153
 213 -0.013  0.025 -0.014  0.026 -0.007 -0.075   0.0811527885
 222 -0.013  0.024 -0.014  0.026 -0.007 -0.075   0.0811527754
 232 -0.013  0.024 -0.015  0.026 -0.007 -0.075   0.0811527750
 242 -0.013  0.024 -0.015  0.027 -0.007 -0.075   0.0811525586
 252 -0.013  0.024 -0.015  0.027 -0.006 -0.075   0.0811522854
 263 -0.013  0.024 -0.015  0.027 -0.006 -0.076   0.0811521861
  powell nthiter 4: fret = 0.081152
Powell done niters = 4
Computing relative cost
 0  -25.0 -25.0 -25.0   0.988435
 1  -25.0 -25.0  25.0   1.000665
 2  -25.0  25.0 -25.0   1.015384
 3  -25.0  25.0  25.0   1.014885
 4   25.0 -25.0 -25.0   0.980718
 5   25.0 -25.0  25.0   0.976297
 6   25.0  25.0 -25.0   0.976245
 7   25.0  25.0  25.0   0.972186
REL:  8  0.081152    7.924815  0.990602 rel = 0.0819221 
Number of iterations     4
Min cost was 0.081152
Number of FunctionCalls   326
TolPowell 0.000000
nMaxItersPowell 36
OptimizationTime 54.954000 sec
Parameters at optimum (transmm) -0.01315  0.02280 -0.01462
Parameters at optimum (rotdeg)  0.02684 -0.00575 -0.07559 
Final costs ----------------
Number of surface hits 243024
WM  Intensity   360.7577 +/-  75.8338
Ctx Intensity   539.9345 +/- 138.3746
Pct Contrast     38.0968 +/-  24.0917
Cost   0.0812
RelCost   0.0824
Reg at min cost was 
-0.99459   0.08804  -0.05506   2.06917;
-0.05181   0.03875   0.99790   0.03978;
-0.08999  -0.99536   0.03397  -14.30355;
 0.00000   0.00000   0.00000   1.00000;

Writing optimal reg to register.dat, type = 14 
Original Reg 
-0.99453   0.08789  -0.05637   2.08087;
-0.05317   0.03840   0.99785   0.01303;
-0.08987  -0.99539   0.03351  -14.28915;
 0.00000   0.00000   0.00000   1.00000;

Original Reg - Optimal Reg
 0.00006  -0.00015  -0.00131   0.01170;
-0.00135  -0.00035  -0.00006  -0.02675;
 0.00012  -0.00003  -0.00046   0.01440;
 0.00000   0.00000   0.00000   0.00000;

Computing change in lh position
LH rmsDiffMean 0.047274
Computing change in rh position
Surface-RMS-Diff-mm 0.055270 0.022094 0.109190
mri_segreg done
MinCost: 0.081152 360.757711 539.934488 38.096788 
tkregister2_cmdl --mov biasmeanb0bet.nii.gz --reg register.dat --noedit --fslregout diff2FS.mat
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume biasmeanb0bet.nii.gz
reg file       register.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
---- Input registration matrix --------
-0.99459   0.08804  -0.05506   2.06917;
-0.05181   0.03875   0.99790   0.03978;
-0.08999  -0.99536   0.03397  -14.30355;
 0.00000   0.00000   0.00000   1.00000;
float2int = 0
---------------------------------------
INFO: loading target /working/lab_michaebr/alistaiP/Park/FS/Patient_041/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable biasmeanb0bet.nii.gz
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 0, float2int = 0
---- Input registration matrix --------
-0.99459   0.08804  -0.05506   2.06917;
-0.05181   0.03875   0.99790   0.03978;
-0.08999  -0.99536   0.03397  -14.30355;
 0.00000   0.00000   0.00000   1.00000;
Determinant -0.999997
subject = Patient_041
RegMat ---------------------------
-0.99459   0.08804  -0.05506   2.06917;
-0.05181   0.03875   0.99790   0.03978;
-0.08999  -0.99536   0.03397  -14.30355;
 0.00000   0.00000   0.00000   1.00000;
FSLOUTPUTTYPE NIFTI_GZ 
tkreg2FSL: mov det = 5.02197, ref det = -1
INFO: FSL2FreeSurfer: Mov volume is NIFTI with positive det,
      applying LR flip to registration matrix.
Cleaning up
 
Started at Sat Mar 18 06:50:35 AEST 2017 
Ended   at Sat Mar 18 06:54:06 AEST 2017
BBR-Run-Time-Sec 211
 
bbregister Done
To check results, run:
tkregisterfv --mov biasmeanb0bet.nii.gz --reg register.dat --surfs 
 
dwi2response: [03;32m[0m
dwi2response: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation. Please consult the help page (-help option) for more information.[0m
dwi2response: [03;32m[0m
dwi2response: [03;32mGenerated temporary directory: /tmp/dwi2response-tmp-9OHP4B/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_041/preproc/biascorr.mif /tmp/dwi2response-tmp-9OHP4B/dwi.mif -stride 0,0,0,1
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_041/preproc/biasmeanb0bet_mask.nii.gz /tmp/dwi2response-tmp-9OHP4B/mask.mif -datatype bit
dwi2response: [03;32mChanging to temporary directory (/tmp/dwi2response-tmp-9OHP4B/)[0m
dwi2response: [03;32m2 unique b-value(s) detected: 0,3000 with 12,90 volumes.[0m
[03;34mCommand:[0m maskfilter mask.mif erode eroded_mask.mif -npass 3
[03;34mCommand:[0m dwiextract dwi.mif -shell 0 dwi_b0.mif
[03;34mCommand:[0m mrmath dwi_b0.mif mean mean_b0.mif -axis 3
[03;34mCommand:[0m mrcalc mean_b0.mif -finite mean_b0.mif 0 -if 0 -le err_b0.mif -datatype bit
[03;34mCommand:[0m dwiextract dwi.mif -shell 3000 dwi_b3000.mif
[03;34mCommand:[0m mrmath dwi_b3000.mif mean mean_b3000.mif -axis 3
[03;34mCommand:[0m mrcalc mean_b3000.mif -finite mean_b3000.mif 0 -if 0 -le err_b3000.mif -datatype bit
[03;34mCommand:[0m mrcalc mean_b0.mif mean_b3000.mif -divide -log sdm_b3000.mif
[03;34mCommand:[0m mrcalc sdm_b3000.mif 90 -mult 90 -divide full_sdm.mif
[03;34mCommand:[0m mrcalc full_sdm.mif -finite full_sdm.mif 0 -if 0 -le err_sdm.mif -datatype bit
[03;34mCommand:[0m mrcalc err_b0.mif err_b3000.mif -add err_sdm.mif -add 0 eroded_mask.mif -if safe_mask.mif -datatype bit
[03;34mCommand:[0m mrcalc safe_mask.mif full_sdm.mif 0 -if 10 -min safe_sdm.mif
[03;34mCommand:[0m dwi2tensor dwi.mif - -mask safe_mask.mif | tensor2metric - -fa safe_fa.mif -vector safe_vecs.mif -modulate none -mask safe_mask.mif
[03;34mCommand:[0m mrcalc safe_mask.mif safe_fa.mif 0 -if 0.2 -gt crude_wm.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_wm.mif 0 safe_mask.mif -if _crudenonwm.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudenonwm.mif safe_sdm.mif 2.46074 -subtract 0 -if - | mrthreshold - - -mask _crudenonwm.mif | mrcalc _crudenonwm.mif - 0 -if crude_csf.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_csf.mif 0 _crudenonwm.mif -if crude_gm.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_wm.mif safe_sdm.mif 0 -if 1.47316 -gt _crudewmhigh.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudewmhigh.mif 0 crude_wm.mif -if _crudewmlow.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_wm.mif safe_sdm.mif 0 -if 1.91789 -gt _crudewmoutliers.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudewmoutliers.mif 0 crude_wm.mif -if refined_wm.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_gm.mif safe_sdm.mif 0 -if 1.96412 -gt _crudegmhigh.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmhigh.mif 0 crude_gm.mif -if _crudegmlow.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmhigh.mif safe_sdm.mif 1.96412 -subtract 0 -if - | mrthreshold - - -mask _crudegmhigh.mif -invert | mrcalc _crudegmhigh.mif - 0 -if _crudegmhighselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmlow.mif safe_sdm.mif 1.96412 -subtract -neg 0 -if - | mrthreshold - - -mask _crudegmlow.mif -invert | mrcalc _crudegmlow.mif - 0 -if _crudegmlowselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmhighselect.mif 1 _crudegmlowselect.mif -if refined_gm.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudewmoutliers.mif safe_sdm.mif 0 -if 2.98615 -gt 1 crude_csf.mif -if _crudecsfextra.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudecsfextra.mif safe_sdm.mif 2.98615 -subtract 0 -if - | mrthreshold - - -mask _crudecsfextra.mif | mrcalc _crudecsfextra.mif - 0 -if refined_csf.mif -datatype bit
dwi2response: [03;32mRunning 'tournier' algorithm to select 540 single-fibre WM voxels.[0m
[03;34mCommand:[0m dwi2response tournier dwi.mif _respsfwmss.txt -sf_voxels 540 -iter_voxels 5400 -mask refined_wm.mif -voxels voxels_sfwm.mif -quiet -tempdir /tmp/dwi2response-tmp-9OHP4B/
[03;34mCommand:[0m mrcalc refined_gm.mif safe_sdm.mif 0 -if 1.94469 -gt _refinedgmhigh.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmhigh.mif 0 refined_gm.mif -if _refinedgmlow.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmhigh.mif safe_sdm.mif 0 -if - | mrthreshold - - -bottom 614 -ignorezero | mrcalc _refinedgmhigh.mif - 0 -if _refinedgmhighselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmlow.mif safe_sdm.mif 0 -if - | mrthreshold - - -top 614 -ignorezero | mrcalc _refinedgmlow.mif - 0 -if _refinedgmlowselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmhighselect.mif 1 _refinedgmlowselect.mif -if voxels_gm.mif -datatype bit
[03;34mCommand:[0m mrcalc refined_csf.mif safe_sdm.mif 0 -if - | mrthreshold - - -top 2907 -ignorezero | mrcalc refined_csf.mif - 0 -if voxels_csf.mif -datatype bit
dwi2response: [03;32mSummary of voxel counts:[0m
dwi2response: [03;32mMask: 342028 --> 278675 --> 278631[0m
dwi2response: [03;32mWM: 115302 --> 108088 --> 540 (SF)[0m
dwi2response: [03;32mGM: 103180 --> 61431 --> 1228[0m
dwi2response: [03;32mCSF: 60149 --> 29068 --> 2907[0m
[03;34mCommand:[0m amp2sh dwi_b0.mif - | sh2response - voxels_sfwm.mif safe_vecs.mif _respsfwmb0.txt
[03;34mCommand:[0m amp2sh dwi_b3000.mif - | sh2response - voxels_sfwm.mif safe_vecs.mif _respsfwmb3000.txt
[03;34mCommand:[0m mrcat crude_csf.mif crude_gm.mif crude_wm.mif crude.mif -axis 3
[03;34mCommand:[0m mrcat refined_csf.mif refined_gm.mif refined_wm.mif refined.mif -axis 3
[03;34mCommand:[0m mrcat voxels_csf.mif voxels_gm.mif voxels_sfwm.mif voxels.mif -axis 3
dwi2response: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_041/preproc)[0m
dwi2response: [03;32mDeleting temporary directory /tmp/dwi2response-tmp-9OHP4B/[0m
