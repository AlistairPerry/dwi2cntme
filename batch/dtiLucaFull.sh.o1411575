dwipreproc_mb: [03;32m[0m
dwipreproc_mb: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
dwipreproc_mb: [03;32m[0m
dwipreproc_mb: [03;32mGenerated temporary directory: /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/testPBS/Diff/LucaFull/preproc/dwipreproc_mb-tmp-51R8Y8/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/testPBS/Diff/LucaFull/preproc/rawdataAPdn.mif /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/testPBS/Diff/LucaFull/preproc/dwipreproc_mb-tmp-51R8Y8/series.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/testPBS/Diff/LucaFull/preproc/rawdataPAdn.mif /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/testPBS/Diff/LucaFull/preproc/dwipreproc_mb-tmp-51R8Y8/series2.mif
dwipreproc_mb: [03;32mChanging to temporary directory (/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/testPBS/Diff/LucaFull/preproc/dwipreproc_mb-tmp-51R8Y8/)[0m
dwipreproc_mb: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -size' (piping data to local storage)[0m
dwipreproc_mb: [03;32mResult: 122 122 70 88[0m
dwipreproc_mb: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -dwgrad' (piping data to local storage)[0m
dwipreproc_mb: [03;32mResult:          0          0          0          0
 -0.984796  -0.160271  0.0670155       3000
  0.977891  -0.190975 -0.0851956       1000
  0.200813  -0.969687   0.139215       3000
 0.0337549   0.272728   0.961499       2950
  0.185346   0.566469   -0.80297       3000
 0.0800478  -0.042082   0.995902       1000
  0.461653   0.837329   0.292843       3000
  0.648197  -0.504239  -0.570599       3000
 -0.682129   0.190388  -0.706012       3000
 -0.284035  -0.958161  -0.035376       1000
  0.897217  -0.435311  0.0741957       3000
  0.692093   0.662851  -0.285719       3000
         0          0          0          0
 0.0383922  -0.757118   -0.65215       3000
 -0.745627   0.528836   -0.40543       1000
  -0.50886 -0.0395874   0.859939       2950
  -0.77295  -0.350093  -0.529134       3000
  0.433728  -0.716126   0.546848       3000
 0.0969454  -0.529832  -0.842544       1000
 -0.394512   0.911514   0.116202       3000
 0.0968077  -0.388339   0.916417       2950
         0          0          0          0
  0.917417  0.0254111  -0.397114       3000
   0.72854   0.620418  -0.290364       1000
  0.487508   0.439255    0.75458       3000
  0.422662   0.860677  -0.283889       3000
 -0.808589   0.542853   0.226924       3000
  -0.66778   0.483659   0.565813       1000
  0.765468   0.596155   0.242195       3000
 -0.466033   0.346139   0.814249       2950
  0.868797  -0.302365   0.392132       3000
 -0.227106   0.608371  -0.760465       1000
  0.146688   0.821401  -0.551165       3000
  0.406101  -0.143473   0.902495       2950
         0          0          0          0
  0.135395   0.915657    0.37847       3000
  -0.51006   -0.36929  -0.776829       1000
  0.676148   0.479595  -0.559296       3000
 -0.726089   0.621624  -0.293902       3000
-0.0827396  0.0570713  -0.994936       3000
  0.287761  -0.929663   0.230042       1000
  0.222403   -0.88927   -0.39967       3000
 -0.929558  -0.280705  -0.239014       3000
         0          0          0          0
 -0.744889   -0.17273   0.644441       2950
  -0.38452  -0.447776   0.807243       1000
 -0.114658  -0.965378   0.234305       3000
  0.178368  -0.500957  -0.846893       3000
 -0.399613   0.460549  -0.792593       3000
  0.770469   0.596355   0.225254       1000
 -0.299993  -0.737125  -0.605516       3000
  0.973117  -0.193744  -0.124523       3000
 -0.616577  -0.787198 -0.0123528       3000
 -0.237544   0.900929   0.363179       1000
 -0.211233  -0.232545    0.94937       2950
  0.674054   -0.73834 -0.0224711       3000
         0          0          0          0
  0.868411   0.031213   0.494861       2950
 -0.926772  -0.102657  -0.361324       1000
 -0.163431    0.87625  -0.453295       3000
 -0.344881  -0.183828   -0.92047       3000
  0.711519  -0.164826  -0.683061       3000
 -0.861378  -0.143248   0.487349       1000
 -0.372293   0.677803    0.63402       3000
 -0.436212  -0.689054   0.578726       3000
         0          0          0          0
 -0.875814  -0.352309   0.329892       3000
  0.603577  -0.160256   0.781033       1000
  0.029578  -0.991246  -0.128669       3000
 -0.980629   0.064023  -0.185116       3000
  0.173234   0.534467   0.827245       3000
   0.46556 -0.0920835  -0.880213       1000
   0.12839  -0.675208   0.726368       2950
 -0.481642    0.84214   -0.24253       3000
  0.247779   -0.12377  -0.960878       3000
  0.217696    0.84424  -0.489762       1000
   0.86656   0.497754 -0.0362509       3000
  0.640063   0.133496   0.756636       2950
         0          0          0          0
  0.556423  -0.751165  -0.355169       3000
  0.697312  -0.709443  -0.102215       1000
  0.300075   0.953079  0.0399415       3000
  0.468153   0.382558  -0.796544       3000
 -0.859394   0.294051     0.4183       3000
  0.301222   0.797068     0.5234       1000
 -0.591152  -0.623832  -0.511246       3000
 -0.656249   0.481916  -0.580598       3000[0m
dwipreproc_mb: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -stride' (piping data to local storage)[0m
dwipreproc_mb: [03;32mResult: 1 2 3 4[0m
dwipreproc_mb: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series2.mif -size' (piping data to local storage)[0m
dwipreproc_mb: [03;32mResult: 122 122 70 88[0m
[03;34mCommand:[0m dwiextract series.mif -bzero pair1.mif
[03;34mCommand:[0m dwiextract series2.mif -bzero pair2.mif
[03;34mCommand:[0m mrcat pair1.mif pair2.mif - -axis 3 | mrconvert - topup_in.nii -stride -1,+2,+3,+4
[03;34mCommand:[0m mrconvert series.mif dwi1_pre_topup.nii -stride -1,+2,+3,+4
dwipreproc_mb: [03;32mDeleting file: series.mif[0m
[03;34mCommand:[0m mrconvert series2.mif dwi2_pre_topup.nii -stride -1,+2,+3,+4
dwipreproc_mb: [03;32mDeleting file: series2.mif[0m
[03;34mCommand:[0m mrcat dwi1_pre_topup.nii dwi2_pre_topup.nii dwi_pre_eddy.nii -axis 3
dwipreproc_mb: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair1.mif -size' (piping data to local storage)[0m
dwipreproc_mb: [03;32mResult: 122 122 70 8[0m
dwipreproc_mb: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair2.mif -size' (piping data to local storage)[0m
dwipreproc_mb: [03;32mResult: 122 122 70 8[0m
dwipreproc_mb: [03;32mCreating phase-encoding configuration file[0m
[03;34mCommand:[0m topup --imain=topup_in.nii --datain=config.txt --out=field --fout=field_map.nii.gz --config=/software/fsl/fsl-5.0.9_eddy/fsl/etc/flirtsch/b02b0.cnf
[03;34mCommand:[0m applytopup --imain=dwi1_pre_topup.nii --datain=config.txt --inindex=1 --topup=field --out=dwi1_post_topup.nii.gz --method=jac --interp=trilinear
dwipreproc_mb: [03;32mDeleting file: dwi1_pre_topup.nii[0m
[03;34mCommand:[0m applytopup --imain=dwi2_pre_topup.nii --datain=config.txt --inindex=9 --topup=field --out=dwi2_post_topup.nii.gz --method=jac --interp=trilinear
dwipreproc_mb: [03;32mDeleting file: dwi2_pre_topup.nii[0m
[03;34mCommand:[0m mrcat dwi1_post_topup.nii.gz dwi2_post_topup.nii.gz dwi_post_topup.nii.gz -axis 3
dwipreproc_mb: [03;32mDeleting file: dwi1_post_topup.nii.gz[0m
dwipreproc_mb: [03;32mDeleting file: dwi2_post_topup.nii.gz[0m
[03;34mCommand:[0m mrconvert dwi_post_topup.nii.gz - -grad grad.b | mrinfo - -export_grad_fsl bvecs bvals
[03;34mCommand:[0m mrconvert dwi_post_topup.nii.gz -fslgrad bvecs bvals - | dwi2mask - - | maskfilter - dilate - | mrconvert - mask.nii -datatype float32 -stride -1,+2,+3
[03;34mCommand:[0m eddy_openmp --imain=dwi_pre_eddy.nii --mask=mask.nii --index=indices.txt --acqp=config.txt --bvecs=bvecs --bvals=bvals --repol --data_is_shelled --mb=2 --ol_type=gw --topup=field --out=dwi_post_eddy
dwipreproc_mb: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo topup_in.nii -size' (piping data to local storage)[0m
dwipreproc_mb: [03;32mResult: 122 122 70 16[0m
dwipreproc_mb: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo field_map.nii.gz -size' (piping data to local storage)[0m
dwipreproc_mb: [03;32mResult: 122 122 70[0m
dwipreproc_mb: [00;31m[WARNING] topup output field image has erroneous header; recommend updating FSL to version 5.0.8 or later[0m
[03;34mCommand:[0m mrtransform field_map.nii.gz -replace topup_in.nii field_map_fix.nii.gz
dwipreproc_mb: [03;32mDeleting file: field_map.nii.gz[0m
[03;34mCommand:[0m mrcalc field_map_fix.nii.gz 0.1 -mult - | mrfilter - gradient - | mrconvert - field_deriv_pe.mif -coord 3 1 -axes 0,1,2
dwipreproc_mb: [03;32mDeleting file: field_map_fix.nii.gz[0m
[03;34mCommand:[0m mrcalc 1.0 field_deriv_pe.mif -add 0.0 -max jacobian1.mif
[03;34mCommand:[0m mrcalc 1.0 field_deriv_pe.mif -sub 0.0 -max jacobian2.mif
dwipreproc_mb: [03;32mDeleting file: field_deriv_pe.mif[0m
[03;34mCommand:[0m mrcalc jacobian1.mif jacobian1.mif -mult weight1.mif
[03;34mCommand:[0m mrcalc jacobian2.mif jacobian2.mif -mult weight2.mif
dwipreproc_mb: [03;32mDeleting file: jacobian1.mif[0m
dwipreproc_mb: [03;32mDeleting file: jacobian2.mif[0m
[03;34mCommand:[0m mrcalc weight1.mif weight2.mif -add sum_weights.mif
[03;34mCommand:[0m mrconvert dwi_post_eddy.nii.gz corrected1.mif -coord 3 0:87
[03;34mCommand:[0m mrconvert dwi_post_eddy.nii.gz corrected2.mif -coord 3 88:175
dwipreproc_mb: [03;32mDeleting file: dwi_post_eddy.nii.gz[0m
[03;34mCommand:[0m mrcalc corrected1.mif weight1.mif -mult corrected2.mif weight2.mif -mult -add sum_weights.mif -divide 0.0 -max - | mrconvert - result.mif -fslgrad bvecs_combined bvals_combined -stride 1,2,3,4
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/testPBS/Diff/LucaFull/preproc/eddycorr.mif -export_grad_mrtrix /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/testPBS/Diff/LucaFull/preproc/adjencoding.b
dwipreproc_mb: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/testPBS/Diff/LucaFull/preproc)[0m
dwipreproc_mb: [03;32mDeleting temporary directory /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/testPBS/Diff/LucaFull/preproc/dwipreproc_mb-tmp-51R8Y8/[0m
dwibiascorrect: [03;32m[0m
dwibiascorrect: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
dwibiascorrect: [03;32m[0m
dwibiascorrect: [03;32mGenerated temporary directory: /tmp/dwibiascorrect-tmp-X98ZZH/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/testPBS/Diff/LucaFull/preproc/eddycorr.mif /tmp/dwibiascorrect-tmp-X98ZZH/in.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/testPBS/Diff/LucaFull/preproc/eddymeanb0bet_mask.nii.gz /tmp/dwibiascorrect-tmp-X98ZZH/mask.mif
dwibiascorrect: [03;32mChanging to temporary directory (/tmp/dwibiascorrect-tmp-X98ZZH/)[0m
[03;34mCommand:[0m dwiextract in.mif - -bzero | mrmath - mean mean_bzero.mif -axis 3
[03;34mCommand:[0m mrcalc mean_bzero.mif mask.mif -mult - | mrconvert - mean_bzero_masked.nii -stride -1,+2,+3
[03;34mCommand:[0m fast -t 2 -o fast -n 3 -b mean_bzero_masked.nii
[03;34mCommand:[0m mrcalc in.mif fast_bias.nii.gz -div result.mif
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/testPBS/Diff/LucaFull/preproc/biascorr.mif
dwibiascorrect: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/testPBS/Diff/LucaFull/preproc)[0m
dwibiascorrect: [03;32mDeleting temporary directory /tmp/dwibiascorrect-tmp-X98ZZH/[0m
Extracting mean of the b=0 shell.
Extracting mean of the b=1000 shell.
Extracting mean of the b=2991.67 shell.
5ttgen: [03;32m[0m
5ttgen: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
5ttgen: [03;32m[0m
5ttgen: [03;32mGenerated temporary directory: /tmp/5ttgen-tmp-E2B6ME/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/testPBS/Diff/LucaFull/preproc/T1betFSmasked.nii.gz /tmp/5ttgen-tmp-E2B6ME/input.mif
5ttgen: [03;32mChanging to temporary directory (/tmp/5ttgen-tmp-E2B6ME/)[0m
[03;34mCommand:[0m mrconvert input.mif T1.nii -stride -1,+2,+3
[03;34mCommand:[0m fast T1.nii
[03;34mCommand:[0m run_first_all -s L_Accu,R_Accu,L_Caud,R_Caud,L_Pall,R_Pall,L_Puta,R_Puta,L_Thal,R_Thal,L_Amyg,R_Amyg,L_Hipp,R_Hipp -i T1.nii -o first -b
[03;34mCommand:[0m meshconvert first-L_Accu_first.vtk L_Accu.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve L_Accu.vtk T1.nii mesh2pve_L_Accu.mif
[03;34mCommand:[0m meshconvert first-R_Accu_first.vtk R_Accu.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve R_Accu.vtk T1.nii mesh2pve_R_Accu.mif
[03;34mCommand:[0m meshconvert first-L_Caud_first.vtk L_Caud.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve L_Caud.vtk T1.nii mesh2pve_L_Caud.mif
[03;34mCommand:[0m meshconvert first-R_Caud_first.vtk R_Caud.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve R_Caud.vtk T1.nii mesh2pve_R_Caud.mif
[03;34mCommand:[0m meshconvert first-L_Pall_first.vtk L_Pall.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve L_Pall.vtk T1.nii mesh2pve_L_Pall.mif
[03;34mCommand:[0m meshconvert first-R_Pall_first.vtk R_Pall.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve R_Pall.vtk T1.nii mesh2pve_R_Pall.mif
[03;34mCommand:[0m meshconvert first-L_Puta_first.vtk L_Puta.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve L_Puta.vtk T1.nii mesh2pve_L_Puta.mif
[03;34mCommand:[0m meshconvert first-R_Puta_first.vtk R_Puta.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve R_Puta.vtk T1.nii mesh2pve_R_Puta.mif
[03;34mCommand:[0m meshconvert first-L_Thal_first.vtk L_Thal.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve L_Thal.vtk T1.nii mesh2pve_L_Thal.mif
[03;34mCommand:[0m meshconvert first-R_Thal_first.vtk R_Thal.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve R_Thal.vtk T1.nii mesh2pve_R_Thal.mif
[03;34mCommand:[0m meshconvert first-L_Amyg_first.vtk L_Amyg.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve L_Amyg.vtk T1.nii mesh2pve_L_Amyg.mif
[03;34mCommand:[0m meshconvert first-R_Amyg_first.vtk R_Amyg.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve R_Amyg.vtk T1.nii mesh2pve_R_Amyg.mif
[03;34mCommand:[0m meshconvert first-L_Hipp_first.vtk L_Hipp.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve L_Hipp.vtk T1.nii mesh2pve_L_Hipp.mif
[03;34mCommand:[0m meshconvert first-R_Hipp_first.vtk R_Hipp.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve R_Hipp.vtk T1.nii mesh2pve_R_Hipp.mif
[03;34mCommand:[0m mrmath mesh2pve_L_Accu.mif mesh2pve_R_Accu.mif mesh2pve_L_Caud.mif mesh2pve_R_Caud.mif mesh2pve_L_Pall.mif mesh2pve_R_Pall.mif mesh2pve_L_Puta.mif mesh2pve_R_Puta.mif mesh2pve_L_Thal.mif mesh2pve_R_Thal.mif mesh2pve_L_Amyg.mif mesh2pve_R_Amyg.mif mesh2pve_L_Hipp.mif mesh2pve_R_Hipp.mif sum - | mrcalc - 1.0 -min all_sgms.mif
[03;34mCommand:[0m mrthreshold T1_pve_2.nii.gz - -abs 0.001 | maskfilter - connect wm_mask.mif -largest
[03;34mCommand:[0m mrconvert T1_pve_0.nii.gz csf.mif
[03;34mCommand:[0m mrcalc 1.0 csf.mif -sub all_sgms.mif -min sgm.mif
[03;34mCommand:[0m mrcalc 1.0 csf.mif sgm.mif -add -sub T1_pve_1.nii.gz T1_pve_2.nii.gz -add -div multiplier.mif
[03;34mCommand:[0m mrcalc multiplier.mif -finite multiplier.mif 0.0 -if multiplier_noNAN.mif
[03;34mCommand:[0m mrcalc T1_pve_1.nii.gz multiplier_noNAN.mif -mult cgm.mif
[03;34mCommand:[0m mrcalc T1_pve_2.nii.gz multiplier_noNAN.mif -mult wm_mask.mif -mult wm.mif
[03;34mCommand:[0m mrcalc 0 wm.mif -min path.mif
[03;34mCommand:[0m mrcat cgm.mif sgm.mif wm.mif csf.mif path.mif - -axis 3 | mrconvert - combined_precrop.mif -stride +2,+3,+4,+1
[03;34mCommand:[0m mrconvert combined_precrop.mif result.mif
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/testPBS/Diff/LucaFull/preproc/5TTFSmasked.nii
5ttgen: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/testPBS/Diff/LucaFull/preproc)[0m
5ttgen: [03;32mDeleting temporary directory /tmp/5ttgen-tmp-E2B6ME/[0m
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mGenerated temporary directory: /tmp/labelsgmfix-tmp-LOZV7J/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/testPBS/Diff/LucaFull/preproc/parcFSLtempstr.nii.gz /tmp/labelsgmfix-tmp-LOZV7J/parc.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/testPBS/Diff/LucaFull/preproc/T1betFSmasked_restore.nii.gz /tmp/labelsgmfix-tmp-LOZV7J/T1.nii -stride -1,+2,+3
labelsgmfix: [03;32mChanging to temporary directory (/tmp/labelsgmfix-tmp-LOZV7J/)[0m
[03;34mCommand:[0m run_first_all -s R_Thal,L_Puta,R_Caud,R_Hipp,L_Amyg,R_Pall,R_Amyg,L_Caud,L_Pall,L_Thal,L_Hipp,R_Accu,L_Accu,R_Puta -i T1.nii -b -o first
[03;34mCommand:[0m mrcalc parc.mif 0 -min sgm.mif
[03;34mCommand:[0m meshconvert first-R_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Thal_mask.mif 6 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Puta_mask.mif 3 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Caud_mask.mif 7 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Hipp_mask.mif 13 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Amyg_mask.mif 12 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Pall_mask.mif 9 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Amyg_mask.mif 14 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Caud_mask.mif 2 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Pall_mask.mif 4 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Thal_mask.mif 1 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Hipp_mask.mif 11 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Accu_mask.mif 10 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Accu_mask.mif 5 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Puta_mask.mif 8 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m mrmath R_Thal_mask.mif L_Puta_mask.mif R_Caud_mask.mif R_Hipp_mask.mif L_Amyg_mask.mif R_Pall_mask.mif R_Amyg_mask.mif L_Caud_mask.mif L_Pall_mask.mif L_Thal_mask.mif L_Hipp_mask.mif R_Accu_mask.mif L_Accu_mask.mif R_Puta_mask.mif sum - | mrcalc - 1 -gt sgm_overlap_mask.mif
[03;34mCommand:[0m mrcalc sgm_overlap_mask.mif 0 sgm.mif -if sgm_masked.mif
[03;34mCommand:[0m labelconvert sgm_masked.mif /software/mrtrix3/mrtrix3-AP/scripts/data/FreeSurferSGM.txt /software/mrtrix3/mrtrix3-AP/src/connectome/tables/fs_a2009s.txt sgm_new_labels.mif
[03;34mCommand:[0m mrcalc parc.mif 83 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 78 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 84 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 87 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 81 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 86 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 88 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 77 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 79 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 76 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 80 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 89 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 82 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 85 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc sgm_new_labels.mif 0.5 -gt sgm_new_labels.mif parc.mif -if result.mif -datatype uint32
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/testPBS/Diff/LucaFull/preproc/parc_fixsubcort.nii
labelsgmfix: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/testPBS/Diff/LucaFull/preproc)[0m
labelsgmfix: [03;32mDeleting temporary directory /tmp/labelsgmfix-tmp-LOZV7J/[0m
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mGenerated temporary directory: /tmp/labelsgmfix-tmp-K5EPMI/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/testPBS/Diff/LucaFull/preproc/parcFSLtempstr.nii.gz /tmp/labelsgmfix-tmp-K5EPMI/parc.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/testPBS/Diff/LucaFull/preproc/T1betFSmasked_restore.nii.gz /tmp/labelsgmfix-tmp-K5EPMI/T1.nii -stride -1,+2,+3
labelsgmfix: [03;32mChanging to temporary directory (/tmp/labelsgmfix-tmp-K5EPMI/)[0m
[03;34mCommand:[0m run_first_all -s R_Thal,L_Puta,R_Caud,R_Hipp,L_Amyg,R_Pall,R_Amyg,L_Caud,L_Pall,L_Thal,L_Hipp,R_Accu,L_Accu,R_Puta -i T1.nii -b -o first
[03;34mCommand:[0m mrcalc parc.mif 0 -min sgm.mif
[03;34mCommand:[0m meshconvert first-R_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Thal_mask.mif 6 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Puta_mask.mif 3 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Caud_mask.mif 7 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Hipp_mask.mif 13 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Amyg_mask.mif 12 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Pall_mask.mif 9 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Amyg_mask.mif 14 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Caud_mask.mif 2 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Pall_mask.mif 4 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Thal_mask.mif 1 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Hipp_mask.mif 11 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Accu_mask.mif 10 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Accu_mask.mif 5 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Puta_mask.mif 8 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m mrmath R_Thal_mask.mif L_Puta_mask.mif R_Caud_mask.mif R_Hipp_mask.mif L_Amyg_mask.mif R_Pall_mask.mif R_Amyg_mask.mif L_Caud_mask.mif L_Pall_mask.mif L_Thal_mask.mif L_Hipp_mask.mif R_Accu_mask.mif L_Accu_mask.mif R_Puta_mask.mif sum - | mrcalc - 1 -gt sgm_overlap_mask.mif
[03;34mCommand:[0m mrcalc sgm_overlap_mask.mif 0 sgm.mif -if sgm_masked.mif
[03;34mCommand:[0m labelconvert sgm_masked.mif /software/mrtrix3/mrtrix3-AP/scripts/data/FreeSurferSGM.txt /software/mrtrix3/mrtrix3-AP/src/connectome/tables/fs_default.txt sgm_new_labels.mif
[03;34mCommand:[0m mrcalc parc.mif 43 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 38 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 44 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 47 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 41 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 46 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 48 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 37 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 39 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 36 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 40 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 49 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 42 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 45 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc sgm_new_labels.mif 0.5 -gt sgm_new_labels.mif parc.mif -if result.mif -datatype uint32
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/testPBS/Diff/LucaFull/preproc/parc_fixsubcort.nii
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/testPBS/Diff/LucaFull/preproc)[0m
labelsgmfix: [00;31mScript failed while executing the command: mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/testPBS/Diff/LucaFull/preproc/parc_fixsubcort.nii[0m
labelsgmfix: [00;31mFor debugging, inspect contents of temporary directory: /tmp/labelsgmfix-tmp-K5EPMI/[0m
Log file is register.dat.log
Thu Mar 16 02:16:28 AEST 2017

setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/diffusion-testing/testPBS/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/testPBS/Diff/LucaFull/preproc
/software/freesurfer/freesurfer-5.3.0/bin/bbregister --s LucaFull --mov biasmeanb0bet.nii.gz --init-fsl --reg register.dat --dti --fslmat diff2FS.mat

$Id: bbregister,v 1.49.2.3 2013/03/25 18:04:53 greve Exp $
Linux hpcnode041.adqimr.ad.lan 3.10.0-327.3.1.el7.x86_64 #1 SMP Wed Dec 9 14:09:15 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
FREESURFER_HOME /software/freesurfer/freesurfer-5.3.0
mri_convert biasmeanb0bet.nii.gz ./tmp.bbregister.186563/template.nii
mri_convert biasmeanb0bet.nii.gz ./tmp.bbregister.186563/template.nii 
$Id: mri_convert.c,v 1.179.2.7 2012/09/05 21:55:16 mreuter Exp $
reading from biasmeanb0bet.nii.gz...
TR=1000.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (0.999035, -0.0438027, -0.00315948)
j_ras = (0.0436189, 0.98133, 0.187319)
k_ras = (-0.0051046, -0.187276, 0.982294)
writing to ./tmp.bbregister.186563/template.nii...
fslregister --s LucaFull --mov ./tmp.bbregister.186563/template.nii --reg ./tmp.bbregister.186563/reg.init.dat --niters 1 --maxangle 90 --nobetmov --tmp ./tmp.bbregister.186563/fslregister --dof 6 --fsvol brainmask.mgz

Log file is ./tmp.bbregister.186563/reg.init.dat.fslregister.log

Thu Mar 16 02:16:29 AEST 2017
--s LucaFull --mov ./tmp.bbregister.186563/template.nii --reg ./tmp.bbregister.186563/reg.init.dat --niters 1 --maxangle 90 --nobetmov --tmp ./tmp.bbregister.186563/fslregister --dof 6 --fsvol brainmask.mgz
$Id: fslregister,v 1.34.2.2 2012/11/08 16:18:56 greve Exp $
hpcnode041.adqimr.ad.lan
Linux hpcnode041.adqimr.ad.lan 3.10.0-327.3.1.el7.x86_64 #1 SMP Wed Dec 9 14:09:15 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
nIters 1
--------------------------------------
/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/testPBS/Diff/LucaFull/preproc
mri_convert /working/lab_michaebr/alistaiP/diffusion-testing/testPBS/FS/LucaFull/mri/brainmask.mgz ./tmp.bbregister.186563/fslregister/refvol.fslregister.nii
mri_convert /working/lab_michaebr/alistaiP/diffusion-testing/testPBS/FS/LucaFull/mri/brainmask.mgz ./tmp.bbregister.186563/fslregister/refvol.fslregister.nii 
$Id: mri_convert.c,v 1.179.2.7 2012/09/05 21:55:16 mreuter Exp $
reading from /working/lab_michaebr/alistaiP/diffusion-testing/testPBS/FS/LucaFull/mri/brainmask.mgz...
TR=0.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (-1, 0, 0)
j_ras = (3.72529e-09, 0, -1)
k_ras = (0, 1, 0)
writing to ./tmp.bbregister.186563/fslregister/refvol.fslregister.nii...
--------------------------------------
/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/testPBS/Diff/LucaFull/preproc
mri_convert ./tmp.bbregister.186563/template.nii ./tmp.bbregister.186563/fslregister/movvol.fslregister.nii --frame 0
mri_convert ./tmp.bbregister.186563/template.nii ./tmp.bbregister.186563/fslregister/movvol.fslregister.nii --frame 0 
$Id: mri_convert.c,v 1.179.2.7 2012/09/05 21:55:16 mreuter Exp $
reading from ./tmp.bbregister.186563/template.nii...
TR=1000.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (0.999035, -0.0438027, -0.00315948)
j_ras = (0.0436189, 0.98133, 0.187319)
k_ras = (-0.0051046, -0.187276, 0.982294)
keeping frame 0
writing to ./tmp.bbregister.186563/fslregister/movvol.fslregister.nii...
Mov determinant is 8
Swapping dims for pos det
WARNING:: Flipping Left/Right orientation (as det < 0)
tkregister_tcl /software/freesurfer/freesurfer-5.3.0/tktools/tkregister2.tcl
target  volume ./tmp.bbregister.186563/fslregister/movvol.fslregister.nii
movable volume ./tmp.bbregister.186563/template.nii
reg file       ./tmp.bbregister.186563/fslregister/swapreg.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.121.2.1 2011/03/28 20:25:16 greve Exp $
Diagnostic Level -1
INFO: loading target ./tmp.bbregister.186563/fslregister/movvol.fslregister.nii
INFO: target does not conform to COR format, so I'm going to
reslice to COR. This will not affect the final registration.
Ttarg: --------------------
-1.000   0.000   0.000   128.000;
 0.000   0.000   1.000  -128.000;
 0.000  -1.000   0.000   128.000;
 0.000   0.000   0.000   1.000;
INFO: loading movable ./tmp.bbregister.186563/template.nii
Tmov: --------------------
-2.000   0.000   0.000   122.000;
 0.000   0.000   2.000  -70.000;
 0.000  -2.000   0.000   122.000;
 0.000   0.000   0.000   1.000;
mkheaderreg = 1, float2int = 0
Computing reg from header (and possibly input matrix)
---- Input registration matrix (computed) --------
-0.999   0.044   0.003   2.000;
-0.005  -0.187   0.982   0.000;
-0.044  -0.981  -0.187  -0.000;
 0.000   0.000   0.000   1.000;
---------------------------------------
---- Input registration matrix --------
-0.999   0.044   0.003   2.000;
-0.005  -0.187   0.982   0.000;
-0.044  -0.981  -0.187  -0.000;
 0.000   0.000   0.000   1.000;
Determinant -1
subject = subject-unknown
RegMat ---------------------------
-1.000   0.000  -0.000   2.000;
 0.000   1.000  -0.000  -0.000;
 0.000   0.000   1.000  -0.000;
 0.000   0.000   0.000   1.000;
/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/testPBS/Diff/LucaFull/preproc
tkregister2_cmdl --mov ./tmp.bbregister.186563/fslregister/movvol.fslregister.nii --reg ./tmp.bbregister.186563/fslregister/reg0.186642.dat --regheader --fslregout ./tmp.bbregister.186563/reg.init.dat.fsl.mat0 --s LucaFull --noedit
tkregister_tcl /software/freesurfer/freesurfer-5.3.0/tktools/tkregister2.tcl
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume ./tmp.bbregister.186563/fslregister/movvol.fslregister.nii
reg file       ./tmp.bbregister.186563/fslregister/reg0.186642.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.121.2.1 2011/03/28 20:25:16 greve Exp $
Diagnostic Level -1
INFO: loading target /working/lab_michaebr/alistaiP/diffusion-testing/testPBS/FS/LucaFull/mri/orig.mgz
Ttarg: --------------------
-1.000   0.000   0.000   128.000;
 0.000   0.000   1.000  -128.000;
 0.000  -1.000   0.000   128.000;
 0.000   0.000   0.000   1.000;
INFO: loading movable ./tmp.bbregister.186563/fslregister/movvol.fslregister.nii
Tmov: --------------------
-2.000   0.000   0.000   122.000;
 0.000   0.000   2.000  -70.000;
 0.000  -2.000   0.000   122.000;
 0.000   0.000   0.000   1.000;
mkheaderreg = 1, float2int = 0
Computing reg from header (and possibly input matrix)
---- Input registration matrix (computed) --------
 0.999  -0.044  -0.003  -0.332;
-0.005  -0.187   0.982  -18.336;
-0.044  -0.981  -0.187  -3.651;
 0.000   0.000   0.000   1.000;
---------------------------------------
---- Input registration matrix --------
 0.999  -0.044  -0.003  -0.332;
-0.005  -0.187   0.982  -18.336;
-0.044  -0.981  -0.187  -3.651;
 0.000   0.000   0.000   1.000;
Determinant 1
subject = LucaFull
RegMat ---------------------------
 0.999  -0.044  -0.003  -0.332;
-0.005  -0.187   0.982  -18.336;
-0.044  -0.981  -0.187  -3.651;
 0.000   0.000   0.000   1.000;
FSLOUTPUTTYPE NIFTI 
tkreg2FSL: mov det = -8, ref det = -1
Thu Mar 16 02:16:33 AEST 2017
/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/testPBS/Diff/LucaFull/preproc
flirt.fsl -ref ./tmp.bbregister.186563/fslregister/refvol.fslregister.nii -in ./tmp.bbregister.186563/fslregister/movvol.fslregister.nii -bins 256 -cost corratio -dof 6 -searchrx -90 90 -searchry -90 90 -searchrz -90 90 -verbose 0 -omat ./tmp.bbregister.186563/fslregister/fslmat0.trans.mat -schedule /software/fsl/fsl-5.0.9_eddy/fsl/etc/flirtsch/xyztrans.sch -init ./tmp.bbregister.186563/reg.init.dat.fsl.mat0
Thu Mar 16 02:16:47 AEST 2017
/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/testPBS/Diff/LucaFull/preproc
flirt.fsl -ref ./tmp.bbregister.186563/fslregister/refvol.fslregister.nii -in ./tmp.bbregister.186563/fslregister/movvol.fslregister.nii -bins 256 -cost corratio -dof 6 -searchrx -90 90 -searchry -90 90 -searchrz -90 90 -verbose 0 -omat ./tmp.bbregister.186563/reg.init.dat.fsl.mat -init ./tmp.bbregister.186563/fslregister/fslmat0.trans.mat -schedule /software/freesurfer/freesurfer-5.3.0/bin/flirt.newdefault.20080811.sch
tkregister2_cmdl --s LucaFull --mov ./tmp.bbregister.186563/fslregister/movvol.fslregister.nii --reg ./tmp.bbregister.186563/reg.init.dat --fslreg ./tmp.bbregister.186563/reg.init.dat.fsl.mat --noedit
tkregister_tcl /software/freesurfer/freesurfer-5.3.0/tktools/tkregister2.tcl
---- FSL registration matrix --------
 0.997   0.001   0.083   0.624;
 0.082  -0.108  -0.991   188.613;
 0.008   0.994  -0.108   8.778;
 0.000   0.000   0.000   1.000;
---------------------------------------
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume ./tmp.bbregister.186563/fslregister/movvol.fslregister.nii
reg file       ./tmp.bbregister.186563/reg.init.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.121.2.1 2011/03/28 20:25:16 greve Exp $
Diagnostic Level -1
INFO: loading target /working/lab_michaebr/alistaiP/diffusion-testing/testPBS/FS/LucaFull/mri/orig.mgz
Ttarg: --------------------
-1.000   0.000   0.000   128.000;
 0.000   0.000   1.000  -128.000;
 0.000  -1.000   0.000   128.000;
 0.000   0.000   0.000   1.000;
INFO: loading movable ./tmp.bbregister.186563/fslregister/movvol.fslregister.nii
Tmov: --------------------
-2.000   0.000   0.000   122.000;
 0.000   0.000   2.000  -70.000;
 0.000  -2.000   0.000   122.000;
 0.000   0.000   0.000   1.000;
mkheaderreg = 0, float2int = 0
FSLOUTPUTTYPE NIFTI 
fsl2TkReg: mov det = -8, ref det = -1
---- Input registration matrix (computed) --------
 0.997  -0.008   0.082  -0.877;
-0.083  -0.108   0.991  -12.282;
 0.001  -0.994  -0.108  -3.230;
 0.000   0.000   0.000   1.000;
---------------------------------------
---- Input registration matrix --------
 0.997  -0.008   0.082  -0.877;
-0.083  -0.108   0.991  -12.282;
 0.001  -0.994  -0.108  -3.230;
 0.000   0.000   0.000   1.000;
Determinant 1
subject = LucaFull
RegMat ---------------------------
 0.997  -0.008   0.082  -0.877;
-0.083  -0.108   0.991  -12.282;
 0.001  -0.994  -0.108  -3.230;
 0.000   0.000   0.000   1.000;
mri_matrix_multiply -im ./tmp.bbregister.186563/fslregister/swapreg.dat -im ./tmp.bbregister.186563/reg.init.dat -om ./tmp.bbregister.186563/reg.init.dat
(standard_in) 1: illegal character: L
(standard_in) 1: syntax error
 
Started at Thu Mar 16 02:16:29 AEST 2017 
Ended   at Thu Mar 16 02:17:05 AEST 2017
 
fslregister Done
 
To check results, run:
tkregister2 --mov ./tmp.bbregister.186563/template.nii --reg ./tmp.bbregister.186563/reg.init.dat --surf orig
 
mri_segreg --mov ./tmp.bbregister.186563/template.nii --init-reg ./tmp.bbregister.186563/reg.init.dat --out-reg ./tmp.bbregister.186563/bbr.pass1.dat --subsamp-brute 100 --subsamp 100 --tol 1e-4 --tol1d 1e-3 --brute -4 4 4 --surf white --gm-proj-frac 0.5 --gm-gt-wm 0.5
$Id: mri_segreg.c,v 1.103.2.1 2011/10/07 19:14:42 greve Exp $
setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/diffusion-testing/testPBS/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/testPBS/Diff/LucaFull/preproc
mri_segreg --mov ./tmp.bbregister.186563/template.nii --init-reg ./tmp.bbregister.186563/reg.init.dat --out-reg ./tmp.bbregister.186563/bbr.pass1.dat --subsamp-brute 100 --subsamp 100 --tol 1e-4 --tol1d 1e-3 --brute -4 4 4 --surf white --gm-proj-frac 0.5 --gm-gt-wm 0.5 
sysname  Linux
hostname hpcnode041.adqimr.ad.lan
machine  x86_64
user     alistaiP
movvol ./tmp.bbregister.186563/template.nii
regfile ./tmp.bbregister.186563/reg.init.dat
subject LucaFull
dof 6
outregfile ./tmp.bbregister.186563/bbr.pass1.dat
UseMask 0
UseLH 1
UseRH 1
nsubsamp 100
PenaltySign  -1
PenaltySlope 0.500000
PenaltyCenter 0.000000
surfname white
GMProjFrac 0.500000
WMProjAbs 2.000000
lhcostfile (null)
rhcostfile (null)
interp  trilinear (1)
frame  0
TolPowell 0.000100
nMaxItersPowell 36
n1dmin  3
Profile   0
Gdiag_no  -1
AddNoise  0 (0)
SynthSeed 1489746141
TransRandMax 0.000000
RotRandMax 0.000000
Translations 0.000000 0.000000 0.000000
Rotations   0.000000 0.000000 0.000000
Input reg
-0.997   0.008  -0.082   2.877;
-0.083  -0.108   0.991  -12.282;
 0.001  -0.994  -0.108  -3.230;
 0.000   0.000   0.000   1.000;

Loading mov
Projecting LH Surfs
Loading lh.white surf
Loading lh.thickness for GM
GM Proj: 1 0.500000 2.000000
WM Proj: 0 0.500000 2.000000
Projecting RH Surfs
Loading rh.white surf
Loading rh.thickness
Projecting RH Surfs
Computing relative cost
 0  -25.0 -25.0 -25.0   1.047455
 1  -25.0 -25.0  25.0   1.009049
 2  -25.0  25.0 -25.0   1.005489
 3  -25.0  25.0  25.0   1.034486
 4   25.0 -25.0 -25.0   0.985565
 5   25.0 -25.0  25.0   1.042253
 6   25.0  25.0 -25.0   1.021909
 7   25.0  25.0  25.0   0.995551
REL:  8  0.952900    8.141755  1.017719 rel = 0.936309 
Initial costs ----------------
Number of surface hits 2943
WM  Intensity   385.3226 +/- 124.7314
Ctx Intensity   386.3998 +/- 140.7718
Pct Contrast     -2.3816 +/-  40.4410
Cost   0.9529
RelCost   0.9363


WARNING: initial G-W contrast is negative, but expecting positive.
If the mov data has a T1 contrast, re-run with --T1



------------------------------------
Brute force preopt -4 4 4, n = 729
     0  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000      0.9823   0.9823  0.0
     3  -4.0000  -4.0000  -4.0000  -4.0000   0.0000  -4.0000      0.9764   0.9764  0.0
    12  -4.0000  -4.0000  -4.0000   0.0000   0.0000  -4.0000      0.9718   0.9718  0.0
    27  -4.0000  -4.0000   0.0000  -4.0000  -4.0000  -4.0000      0.9265   0.9265  0.0
    54  -4.0000  -4.0000   4.0000  -4.0000  -4.0000  -4.0000      0.9172   0.9172  0.0
   258   0.0000  -4.0000  -4.0000   0.0000   4.0000  -4.0000      0.9166   0.9166  0.0
   276   0.0000  -4.0000   0.0000  -4.0000   4.0000  -4.0000      0.9038   0.9038  0.0
   300   0.0000  -4.0000   4.0000  -4.0000   0.0000  -4.0000      0.8865   0.8865  0.0
Brute Force --------------------------
Min cost was 0.886479
Number of iterations   729
Search time 1.434000 sec
Parameters at best (transmm, rotdeg)
  0.000  -4.000   4.000 -4.000  0.000 -4.000 
--------------------------------------------

Starting Powell Minimization
Init Powel Params dof = 6
0 0
1 -4
2 4
3 -4
4 0
5 -4
   3 -1.618 -4.000  4.000 -4.000  0.000 -4.000   0.8798454073
   4 -1.084 -4.000  4.000 -4.000  0.000 -4.000   0.8773292325
   9 -1.150 -4.000  4.000 -4.000  0.000 -4.000   0.8756714348
  14 -1.158 -4.000  4.000 -4.000  0.000 -4.000   0.8756342115
  16 -1.161 -4.000  4.000 -4.000  0.000 -4.000   0.8756320153
  19 -1.160 -4.000  4.000 -4.000  0.000 -4.000   0.8756316128
  28 -1.160 -3.957  4.000 -4.000  0.000 -4.000   0.8751949716
  30 -1.160 -3.969  4.000 -4.000  0.000 -4.000   0.8751012805
  32 -1.160 -3.970  4.000 -4.000  0.000 -4.000   0.8751011796
  42 -1.160 -3.970  3.910 -4.000  0.000 -4.000   0.8747428281
  43 -1.160 -3.970  3.945 -4.000  0.000 -4.000   0.8745320305
  44 -1.160 -3.970  3.944 -4.000  0.000 -4.000   0.8745302388
  45 -1.160 -3.970  3.940 -4.000  0.000 -4.000   0.8745257992
  48 -1.160 -3.970  3.939 -4.000  0.000 -4.000   0.8745251903
  51 -1.160 -3.970  3.939 -3.000  0.000 -4.000   0.8743038654
  55 -1.160 -3.970  3.939 -3.382  0.000 -4.000   0.8721544180
  57 -1.160 -3.970  3.939 -3.618  0.000 -4.000   0.8706991364
  58 -1.160 -3.970  3.939 -3.532  0.000 -4.000   0.8698316177
  59 -1.160 -3.970  3.939 -3.528  0.000 -4.000   0.8698093078
  61 -1.160 -3.970  3.939 -3.521  0.000 -4.000   0.8697862536
  62 -1.160 -3.970  3.939 -3.520  0.000 -4.000   0.8697856986
  72 -1.160 -3.970  3.939 -3.520 -0.026 -4.000   0.8695856679
  75 -1.160 -3.970  3.939 -3.520 -0.025 -4.000   0.8695856271
  85 -1.160 -3.970  3.939 -3.520 -0.025 -4.001   0.8695805587
  86 -1.160 -3.970  3.939 -3.520 -0.025 -4.006   0.8695751693
  88 -1.160 -3.970  3.939 -3.520 -0.025 -4.005   0.8695748966
 100 -1.154 -3.970  3.939 -3.520 -0.025 -4.005   0.8695677091
 101 -1.155 -3.970  3.939 -3.520 -0.025 -4.005   0.8695671411
 109 -1.155 -3.853  3.939 -3.520 -0.025 -4.005   0.8684224333
 111 -1.155 -3.879  3.939 -3.520 -0.025 -4.005   0.8677568489
 112 -1.155 -3.913  3.939 -3.520 -0.025 -4.005   0.8677165638
 113 -1.155 -3.897  3.939 -3.520 -0.025 -4.005   0.8676858244
 114 -1.155 -3.900  3.939 -3.520 -0.025 -4.005   0.8676829332
 115 -1.155 -3.901  3.939 -3.520 -0.025 -4.005   0.8676808502
 117 -1.155 -3.903  3.939 -3.520 -0.025 -4.005   0.8676801285
 118 -1.155 -3.904  3.939 -3.520 -0.025 -4.005   0.8676801059
 127 -1.155 -3.904  4.076 -3.520 -0.025 -4.005   0.8670600941
 129 -1.155 -3.904  4.023 -3.520 -0.025 -4.005   0.8663891127
 131 -1.155 -3.904  4.031 -3.520 -0.025 -4.005   0.8663493015
 132 -1.155 -3.904  4.048 -3.520 -0.025 -4.005   0.8663424809
 133 -1.155 -3.904  4.041 -3.520 -0.025 -4.005   0.8663309545
 147 -1.155 -3.904  4.042 -3.513 -0.025 -4.005   0.8663220763
 148 -1.155 -3.904  4.042 -3.514 -0.025 -4.005   0.8663215659
 149 -1.155 -3.904  4.042 -3.515 -0.025 -4.005   0.8663213681
 160 -1.155 -3.904  4.042 -3.515 -0.021 -4.005   0.8663143241
 164 -1.155 -3.904  4.042 -3.515 -0.020 -4.005   0.8663138792
 165 -1.155 -3.904  4.042 -3.515 -0.019 -4.005   0.8663137622
 174 -1.155 -3.904  4.042 -3.515 -0.019 -4.028   0.8662953735
 175 -1.155 -3.904  4.042 -3.515 -0.019 -4.019   0.8662884383
 176 -1.155 -3.904  4.042 -3.515 -0.019 -4.020   0.8662882867
 177 -1.155 -3.904  4.042 -3.515 -0.019 -4.021   0.8662880258
 189 -1.133 -3.904  4.042 -3.515 -0.019 -4.021   0.8662073750
 190 -1.135 -3.904  4.042 -3.515 -0.019 -4.021   0.8662009663
 205 -1.135 -3.876  4.042 -3.515 -0.019 -4.021   0.8657533438
 208 -1.135 -3.875  4.042 -3.515 -0.019 -4.021   0.8657481097
 209 -1.135 -3.869  4.042 -3.515 -0.019 -4.021   0.8657258418
 210 -1.135 -3.864  4.042 -3.515 -0.019 -4.021   0.8657197162
 221 -1.135 -3.863  4.043 -3.515 -0.019 -4.021   0.8657109303
 222 -1.135 -3.863  4.057 -3.515 -0.019 -4.021   0.8656289172
 233 -1.135 -3.863  4.057 -3.521 -0.019 -4.021   0.8656261470
 235 -1.135 -3.863  4.057 -3.519 -0.019 -4.021   0.8656248363
 248 -1.135 -3.863  4.057 -3.519 -0.018 -4.021   0.8656239994
 261 -1.135 -3.863  4.057 -3.519 -0.018 -4.020   0.8656167319
 264 -1.135 -3.863  4.057 -3.519 -0.018 -4.019   0.8656100084
 274 -1.134 -3.863  4.057 -3.519 -0.018 -4.019   0.8656053504
 275 -1.132 -3.863  4.057 -3.519 -0.018 -4.019   0.8656037970
 282 -1.132 -3.481  4.057 -3.519 -0.018 -4.019   0.8654165052
 287 -1.132 -3.447  4.057 -3.519 -0.018 -4.019   0.8653441049
 288 -1.132 -3.425  4.057 -3.519 -0.018 -4.019   0.8652170767
 292 -1.132 -3.428  4.057 -3.519 -0.018 -4.019   0.8651629921
 300 -1.132 -3.428  4.439 -3.519 -0.018 -4.019   0.8644502420
 303 -1.132 -3.428  4.530 -3.519 -0.018 -4.019   0.8633366001
 306 -1.132 -3.428  4.550 -3.519 -0.018 -4.019   0.8632084584
 310 -1.132 -3.428  4.547 -3.519 -0.018 -4.019   0.8631621502
 319 -1.132 -3.428  4.547 -3.624 -0.018 -4.019   0.8630136574
 327 -1.132 -3.428  4.547 -3.629 -0.018 -4.019   0.8629344947
 328 -1.132 -3.428  4.547 -3.631 -0.018 -4.019   0.8628850689
 341 -1.132 -3.428  4.547 -3.631 -0.031 -4.019   0.8626226032
 343 -1.132 -3.428  4.547 -3.631 -0.033 -4.019   0.8626199226
 355 -1.132 -3.428  4.547 -3.631 -0.033 -4.026   0.8625781652
 356 -1.132 -3.428  4.547 -3.631 -0.033 -4.027   0.8625736613
 359 -1.132 -3.428  4.547 -3.631 -0.033 -4.029   0.8625736249
 370 -1.153 -3.428  4.547 -3.631 -0.033 -4.029   0.8625394492
 371 -1.145 -3.428  4.547 -3.631 -0.033 -4.029   0.8624658113
 372 -1.144 -3.428  4.547 -3.631 -0.033 -4.029   0.8624650038
 381 -1.144 -3.451  4.547 -3.631 -0.033 -4.029   0.8622859645
 382 -1.144 -3.463  4.547 -3.631 -0.033 -4.029   0.8622096054
 385 -1.144 -3.464  4.547 -3.631 -0.033 -4.029   0.8622081709
 386 -1.144 -3.465  4.547 -3.631 -0.033 -4.029   0.8622079445
 397 -1.144 -3.465  4.514 -3.631 -0.033 -4.029   0.8616062866
 398 -1.144 -3.465  4.482 -3.631 -0.033 -4.029   0.8615784565
 399 -1.144 -3.465  4.496 -3.631 -0.033 -4.029   0.8615014709
 400 -1.144 -3.465  4.497 -3.631 -0.033 -4.029   0.8615011816
 410 -1.144 -3.465  4.497 -3.598 -0.033 -4.029   0.8611563365
 413 -1.144 -3.465  4.497 -3.591 -0.033 -4.029   0.8610972617
 414 -1.144 -3.465  4.497 -3.590 -0.033 -4.029   0.8610967430
 425 -1.144 -3.465  4.497 -3.590 -0.034 -4.029   0.8610961008
 437 -1.144 -3.465  4.497 -3.590 -0.034 -4.018   0.8607808714
 440 -1.144 -3.465  4.497 -3.590 -0.034 -4.023   0.8607731907
 453 -1.154 -3.465  4.497 -3.590 -0.034 -4.023   0.8607637694
 454 -1.151 -3.465  4.497 -3.590 -0.034 -4.023   0.8607618049
 455 -1.150 -3.465  4.497 -3.590 -0.034 -4.023   0.8607604445
 456 -1.148 -3.465  4.497 -3.590 -0.034 -4.023   0.8607601875
 458 -1.149 -3.465  4.497 -3.590 -0.034 -4.023   0.8607592856
 470 -1.149 -3.466  4.497 -3.590 -0.034 -4.023   0.8607372751
 481 -1.149 -3.466  4.492 -3.590 -0.034 -4.023   0.8606865203
 485 -1.149 -3.466  4.491 -3.590 -0.034 -4.023   0.8606744187
 508 -1.149 -3.466  4.491 -3.590 -0.038 -4.023   0.8606637569
 511 -1.149 -3.466  4.491 -3.590 -0.042 -4.023   0.8606605378
 525 -1.149 -3.466  4.491 -3.590 -0.042 -4.018   0.8606520812
 528 -1.154 -3.467  4.484 -3.590 -0.051 -4.013   0.8605796049
 536 -1.155 -3.467  4.483 -3.590 -0.053 -4.012   0.8605670128
 539 -1.155 -3.467  4.482 -3.590 -0.054 -4.012   0.8605656447
 542 -1.155 -3.467  4.482 -3.590 -0.054 -4.012   0.8605651764
 543 -1.156 -3.467  4.482 -3.590 -0.054 -4.012   0.8605649673
 546 -1.156 -3.467  4.482 -3.590 -0.054 -4.012   0.8605648610
 557 -1.163 -3.467  4.482 -3.590 -0.054 -4.012   0.8605148002
 559 -1.166 -3.467  4.482 -3.590 -0.054 -4.012   0.8605060268
 571 -1.166 -3.471  4.482 -3.590 -0.054 -4.012   0.8604421592
 625 -1.165 -3.471  4.483 -3.590 -0.052 -4.013   0.8604411279
 626 -1.166 -3.471  4.483 -3.590 -0.053 -4.013   0.8604400282
 627 -1.166 -3.471  4.483 -3.590 -0.053 -4.013   0.8604397164
 630 -1.166 -3.471  4.483 -3.590 -0.053 -4.013   0.8604396450
 646 -1.168 -3.471  4.483 -3.590 -0.053 -4.013   0.8604388778
 648 -1.167 -3.471  4.483 -3.590 -0.053 -4.013   0.8604388632
 706 -1.167 -3.471  4.483 -3.590 -0.054 -4.013   0.8604386568
 716 -1.166 -3.471  4.483 -3.590 -0.053 -4.013   0.8604373024
 721 -1.166 -3.471  4.483 -3.590 -0.053 -4.013   0.8604372095
Powell done niters = 7
Computing relative cost
 0  -25.0 -25.0 -25.0   1.034362
 1  -25.0 -25.0  25.0   1.016607
 2  -25.0  25.0 -25.0   0.983400
 3  -25.0  25.0  25.0   1.018502
 4   25.0 -25.0 -25.0   1.011311
 5   25.0 -25.0  25.0   1.030393
 6   25.0  25.0 -25.0   1.027761
 7   25.0  25.0  25.0   1.034479
REL:  8  0.860437    8.156815  1.019602 rel = 0.843895 
Number of iterations     7
Min cost was 0.860437
Number of FunctionCalls   724
TolPowell 0.000100
nMaxItersPowell 36
OptimizationTime 1.208000 sec
Parameters at optimum (transmm) -1.16646 -3.47071  4.48339
Parameters at optimum (rotdeg) -3.58952 -0.05300 -4.01296 
Final costs ----------------
Number of surface hits 2849
WM  Intensity   370.9188 +/- 125.3301
Ctx Intensity   383.6085 +/- 137.6661
Pct Contrast      1.7996 +/-  37.4119
Cost   0.8604
RelCost   0.9363
Reg at min cost was 
-1.000  -0.003  -0.013   0.833;
-0.013  -0.170   0.985  -16.102;
 0.005  -0.985  -0.170   2.031;
 0.000   0.000   0.000   1.000;

Writing optimal reg to ./tmp.bbregister.186563/bbr.pass1.dat, type = 14 
Original Reg 
-0.997   0.008  -0.082   2.877;
-0.083  -0.108   0.991  -12.282;
 0.001  -0.994  -0.108  -3.230;
 0.000   0.000   0.000   1.000;

Original Reg - Optimal Reg
 0.003   0.011  -0.069   2.043;
-0.070   0.062   0.005   3.820;
-0.004  -0.009   0.062  -5.261;
 0.000   0.000   0.000   0.000;

Computing change in lh position
LH rmsDiffMean 6.637088
Computing change in rh position
Surface RMS Diff (mm) 5.898659 11.222493


WARNING: initial G-W contrast was negative, but expected positive.
If the mov data has a T1 contrast, re-run with --T1


mri_segreg done
mri_segreg --mov ./tmp.bbregister.186563/template.nii --init-reg ./tmp.bbregister.186563/bbr.pass1.dat --out-reg register.dat --brute -0.1 0.1 0.1 --interp trilinear --wm-proj-abs 2 --tol 1e-8 --tol1d 1e-3 --c0 0 --mincost register.dat.mincost --dof 6 --nmax 36 --param register.dat.param --surf white --cur-reg ./tmp.bbregister.186563/reg.curopt.dat --gm-proj-frac 0.5 --nsub 1 --gm-gt-wm 0.5
$Id: mri_segreg.c,v 1.103.2.1 2011/10/07 19:14:42 greve Exp $
setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/diffusion-testing/testPBS/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/testPBS/Diff/LucaFull/preproc
mri_segreg --mov ./tmp.bbregister.186563/template.nii --init-reg ./tmp.bbregister.186563/bbr.pass1.dat --out-reg register.dat --brute -0.1 0.1 0.1 --interp trilinear --wm-proj-abs 2 --tol 1e-8 --tol1d 1e-3 --c0 0 --mincost register.dat.mincost --dof 6 --nmax 36 --param register.dat.param --surf white --cur-reg ./tmp.bbregister.186563/reg.curopt.dat --gm-proj-frac 0.5 --nsub 1 --gm-gt-wm 0.5 
sysname  Linux
hostname hpcnode041.adqimr.ad.lan
machine  x86_64
user     alistaiP
movvol ./tmp.bbregister.186563/template.nii
regfile ./tmp.bbregister.186563/bbr.pass1.dat
subject LucaFull
dof 6
outregfile register.dat
UseMask 0
UseLH 1
UseRH 1
nsubsamp 1
PenaltySign  -1
PenaltySlope 0.500000
PenaltyCenter 0.000000
surfname white
GMProjFrac 0.500000
WMProjAbs 2.000000
lhcostfile (null)
rhcostfile (null)
interp  trilinear (1)
frame  0
TolPowell 0.000000
nMaxItersPowell 36
n1dmin  3
Profile   0
Gdiag_no  -1
AddNoise  0 (0)
SynthSeed 1490235655
TransRandMax 0.000000
RotRandMax 0.000000
Translations 0.000000 0.000000 0.000000
Rotations   0.000000 0.000000 0.000000
Input reg
-1.000  -0.003  -0.013   0.833;
-0.013  -0.170   0.985  -16.102;
 0.005  -0.985  -0.170   2.031;
 0.000   0.000   0.000   1.000;

Loading mov
Projecting LH Surfs
Loading lh.white surf
Loading lh.thickness for GM
GM Proj: 1 0.500000 2.000000
WM Proj: 0 0.500000 2.000000
Projecting RH Surfs
Loading rh.white surf
Loading rh.thickness
Projecting RH Surfs
Computing relative cost
 0  -25.0 -25.0 -25.0   1.047299
 1  -25.0 -25.0  25.0   1.012893
 2  -25.0  25.0 -25.0   0.996146
 3  -25.0  25.0  25.0   1.039710
 4   25.0 -25.0 -25.0   1.023868
 5   25.0 -25.0  25.0   1.037765
 6   25.0  25.0 -25.0   1.011783
 7   25.0  25.0  25.0   1.030767
REL:  8  0.914028    8.200230  1.025029 rel = 0.89171 
Initial costs ----------------
Number of surface hits 286207
WM  Intensity   372.4782 +/- 125.1635
Ctx Intensity   381.9666 +/- 138.3771
Pct Contrast      0.6441 +/-  38.2029
Cost   0.9140
RelCost   0.8917

------------------------------------
Brute force preopt -0.1 0.1 0.1, n = 729
     0  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000      0.8673   0.8673  0.0
     9  -0.1000  -0.1000  -0.1000   0.0000  -0.1000  -0.1000      0.8662   0.8662  0.0
    15  -0.1000  -0.1000  -0.1000   0.0000   0.1000  -0.1000      0.8661   0.8661  0.0
    18  -0.1000  -0.1000  -0.1000   0.1000  -0.1000  -0.1000      0.8637   0.8637  0.0
   151  -0.1000   0.0000   0.1000   0.0000   0.1000   0.0000      0.8635   0.8635  0.0
   264   0.0000  -0.1000  -0.1000   0.1000   0.0000  -0.1000      0.8633   0.8633  0.0
   282   0.0000  -0.1000   0.0000   0.0000   0.0000  -0.1000      0.8621   0.8621  0.0
   283   0.0000  -0.1000   0.0000   0.0000   0.0000   0.0000      0.8619   0.8619  0.0
   364   0.0000   0.0000   0.0000   0.0000   0.0000   0.0000      0.8604   0.8604  0.0
Brute Force --------------------------
Min cost was 0.860437
Number of iterations   729
Search time 1.008000 sec
Parameters at best (transmm, rotdeg)
  0.000   0.000   0.000  0.000  0.000  0.000 
--------------------------------------------

Starting Powell Minimization
Init Powel Params dof = 6
0 0
1 0
2 0
3 0
4 0
5 0
   7 -0.242  0.000  0.000  0.000  0.000  0.000   0.9139377681
   8 -0.181  0.000  0.000  0.000  0.000  0.000   0.9139308982
  10 -0.112  0.000  0.000  0.000  0.000  0.000   0.9137925062
  11 -0.069  0.000  0.000  0.000  0.000  0.000   0.9137756302
  17 -0.068  0.000  0.000  0.000  0.000  0.000   0.9137697890
  24 -0.068  0.382  0.000  0.000  0.000  0.000   0.9111389074
  26 -0.068  0.532  0.000  0.000  0.000  0.000   0.9107160570
  27 -0.068  0.536  0.000  0.000  0.000  0.000   0.9107016424
  28 -0.068  0.599  0.000  0.000  0.000  0.000   0.9106918551
  29 -0.068  0.569  0.000  0.000  0.000  0.000   0.9106613105
  30 -0.068  0.570  0.000  0.000  0.000  0.000   0.9106599470
  31 -0.068  0.578  0.000  0.000  0.000  0.000   0.9106530543
  41 -0.068  0.578 -0.618  0.000  0.000  0.000   0.9089224121
  43 -0.068  0.578 -0.782  0.000  0.000  0.000   0.9088100832
  45 -0.068  0.578 -0.710  0.000  0.000  0.000   0.9087613815
  46 -0.068  0.578 -0.675  0.000  0.000  0.000   0.9087438879
  48 -0.068  0.578 -0.681  0.000  0.000  0.000   0.9087395939
  50 -0.068  0.578 -0.682  0.000  0.000  0.000   0.9087365433
  52 -0.068  0.578 -0.684  0.000  0.000  0.000   0.9087330748
  66 -0.068  0.578 -0.684  0.001  0.000  0.000   0.9087308335
  69 -0.068  0.578 -0.684  0.001  1.000  0.000   0.9060317878
  72 -0.068  0.578 -0.684  0.001  1.618  0.000   0.9045773229
  75 -0.068  0.578 -0.684  0.001  1.633  0.000   0.9045715642
  76 -0.068  0.578 -0.684  0.001  1.648  0.000   0.9045249409
  79 -0.068  0.578 -0.684  0.001  1.673  0.000   0.9044695598
  80 -0.068  0.578 -0.684  0.001  1.674  0.000   0.9044686671
  82 -0.068  0.578 -0.684  0.001  1.678  0.000   0.9044575928
  91 -0.068  0.578 -0.684  0.001  1.678 -0.248   0.9043428832
  92 -0.068  0.578 -0.684  0.001  1.678 -0.228   0.9043186088
  93 -0.068  0.578 -0.684  0.001  1.678 -0.156   0.9043130301
  95 -0.068  0.578 -0.684  0.001  1.678 -0.170   0.9042887622
  97 -0.068  0.578 -0.684  0.001  1.678 -0.178   0.9042840448
  98 -0.068  0.578 -0.684  0.001  1.678 -0.179   0.9042840250
  99 -0.068  0.578 -0.684  0.001  1.678 -0.180   0.9042809855
 108  0.314  0.578 -0.684  0.001  1.678 -0.180   0.9027657265
 109  0.396  0.578 -0.684  0.001  1.678 -0.180   0.9025983161
 111  0.453  0.578 -0.684  0.001  1.678 -0.180   0.9025260276
 112  0.540  0.578 -0.684  0.001  1.678 -0.180   0.9025246961
 113  0.507  0.578 -0.684  0.001  1.678 -0.180   0.9024783700
 115  0.504  0.578 -0.684  0.001  1.678 -0.180   0.9024701301
 116  0.502  0.578 -0.684  0.001  1.678 -0.180   0.9024688300
 117  0.501  0.578 -0.684  0.001  1.678 -0.180   0.9024685388
 118  0.500  0.578 -0.684  0.001  1.678 -0.180   0.9024683757
 119  0.499  0.578 -0.684  0.001  1.678 -0.180   0.9024682072
 125  0.499  0.960 -0.684  0.001  1.678 -0.180   0.9008400795
 126  0.499  0.928 -0.684  0.001  1.678 -0.180   0.9007310303
 127  0.499  0.866 -0.684  0.001  1.678 -0.180   0.9006301020
 138  0.499  0.866 -1.302  0.001  1.678 -0.180   0.9005229847
 140  0.499  0.866 -1.029  0.001  1.678 -0.180   0.9003592250
 142  0.499  0.866 -0.897  0.001  1.678 -0.180   0.9003369008
 143  0.499  0.866 -0.936  0.001  1.678 -0.180   0.9002704151
 144  0.499  0.866 -0.959  0.001  1.678 -0.180   0.9002258456
 146  0.499  0.866 -0.960  0.001  1.678 -0.180   0.9002209421
 156  0.499  0.866 -0.960 -0.149  1.678 -0.180   0.9001855164
 158  0.499  0.866 -0.960 -0.328  1.678 -0.180   0.8998972736
 160  0.499  0.866 -0.960 -0.260  1.678 -0.180   0.8998970278
 164  0.499  0.866 -0.960 -0.273  1.678 -0.180   0.8998464579
 166  0.499  0.866 -0.960 -0.272  1.678 -0.180   0.8998427081
 181  0.499  0.866 -0.960 -0.272  1.681 -0.180   0.8998395870
 182  0.499  0.866 -0.960 -0.272  1.682 -0.180   0.8998315728
 189  0.499  0.866 -0.960 -0.272  1.682  0.202   0.8997560657
 190  0.499  0.866 -0.960 -0.272  1.682  0.025   0.8993261438
 191  0.499  0.866 -0.960 -0.272  1.682  0.019   0.8993162488
 193  0.499  0.866 -0.960 -0.272  1.682 -0.001   0.8993087564
 196  0.499  0.866 -0.960 -0.272  1.682  0.001   0.8993023014
 206  0.513  0.866 -0.960 -0.272  1.682  0.001   0.8992974563
 207  0.523  0.866 -0.960 -0.272  1.682  0.001   0.8992920090
 211  0.530  0.866 -0.960 -0.272  1.682  0.001   0.8992832294
 223  0.530  0.878 -0.960 -0.272  1.682  0.001   0.8992611355
 224  0.530  0.889 -0.960 -0.272  1.682  0.001   0.8992587795
 238  0.530  0.889 -0.971 -0.272  1.682  0.001   0.8992490496
 249  0.530  0.889 -0.971 -0.274  1.682  0.001   0.8992465811
 253  0.530  0.889 -0.971 -0.273  1.682  0.001   0.8992457329
 281  0.530  0.889 -0.971 -0.273  1.682  0.004   0.8992455376
 292  0.522  0.889 -0.971 -0.273  1.682  0.004   0.8992406195
 294  0.508  0.889 -0.971 -0.273  1.682  0.004   0.8992363781
 296  0.513  0.889 -0.971 -0.273  1.682  0.004   0.8992339874
 298  0.516  0.889 -0.971 -0.273  1.682  0.004   0.8992333331
 301  0.517  0.889 -0.971 -0.273  1.682  0.004   0.8992328474
 326  0.517  0.889 -0.970 -0.273  1.682  0.004   0.8992275236
Powell done niters = 4
Computing relative cost
 0  -25.0 -25.0 -25.0   1.043600
 1  -25.0 -25.0  25.0   1.004189
 2  -25.0  25.0 -25.0   0.990214
 3  -25.0  25.0  25.0   1.040087
 4   25.0 -25.0 -25.0   1.005343
 5   25.0 -25.0  25.0   1.053698
 6   25.0  25.0 -25.0   1.026193
 7   25.0  25.0  25.0   1.029124
REL:  8  0.899228    8.192449  1.024056 rel = 0.878104 
Number of iterations     4
Min cost was 0.899228
Number of FunctionCalls   456
TolPowell 0.000000
nMaxItersPowell 36
OptimizationTime 41.663000 sec
Parameters at optimum (transmm)  0.51748  0.88864 -0.96973
Parameters at optimum (rotdeg) -0.27349  1.68175  0.00449 
Final costs ----------------
Number of surface hits 289507
WM  Intensity   370.6475 +/- 119.1664
Ctx Intensity   382.5318 +/- 138.3145
Pct Contrast      0.7845 +/-  39.0999
Cost   0.8992
RelCost   0.8917
Reg at min cost was 
-0.999  -0.032  -0.018   1.414;
-0.013  -0.175   0.985  -15.203;
 0.035  -0.984  -0.174   1.113;
 0.000   0.000   0.000   1.000;

Writing optimal reg to register.dat, type = 14 
Original Reg 
-1.000  -0.003  -0.013   0.833;
-0.013  -0.170   0.985  -16.102;
 0.005  -0.985  -0.170   2.031;
 0.000   0.000   0.000   1.000;

Original Reg - Optimal Reg
-0.001   0.029   0.005  -0.580;
 0.000   0.005   0.001  -0.899;
-0.029  -0.001   0.004   0.918;
 0.000   0.000   0.000   0.000;

Computing change in lh position
LH rmsDiffMean 2.593139
Computing change in rh position
Surface RMS Diff (mm) 2.209726 3.942400
mri_segreg done
tkregister2_cmdl --mov biasmeanb0bet.nii.gz --reg register.dat --noedit --fslregout diff2FS.mat
tkregister_tcl /software/freesurfer/freesurfer-5.3.0/tktools/tkregister2.tcl
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume biasmeanb0bet.nii.gz
reg file       register.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.121.2.1 2011/03/28 20:25:16 greve Exp $
Diagnostic Level -1
---- Input registration matrix --------
-0.999  -0.032  -0.018   1.414;
-0.013  -0.175   0.985  -15.203;
 0.035  -0.984  -0.174   1.113;
 0.000   0.000   0.000   1.000;
float2int = 0
---------------------------------------
INFO: loading target /working/lab_michaebr/alistaiP/diffusion-testing/testPBS/FS/LucaFull/mri/orig.mgz
Ttarg: --------------------
-1.000   0.000   0.000   128.000;
 0.000   0.000   1.000  -128.000;
 0.000  -1.000   0.000   128.000;
 0.000   0.000   0.000   1.000;
INFO: loading movable biasmeanb0bet.nii.gz
Tmov: --------------------
-2.000   0.000   0.000   122.000;
 0.000   0.000   2.000  -70.000;
 0.000  -2.000   0.000   122.000;
 0.000   0.000   0.000   1.000;
mkheaderreg = 0, float2int = 0
---- Input registration matrix --------
-0.999  -0.032  -0.018   1.414;
-0.013  -0.175   0.985  -15.203;
 0.035  -0.984  -0.174   1.113;
 0.000   0.000   0.000   1.000;
Determinant -1
subject = LucaFull
RegMat ---------------------------
-0.999  -0.032  -0.018   1.414;
-0.013  -0.175   0.985  -15.203;
 0.035  -0.984  -0.174   1.113;
 0.000   0.000   0.000   1.000;
FSLOUTPUTTYPE NIFTI_GZ 
tkreg2FSL: mov det = 8, ref det = -1
INFO: FSL2FreeSurfer: Mov volume is NIFTI with positive det,
      applying LR flip to registration matrix.
Cleaning up
 
Started at Thu Mar 16 02:16:28 AEST 2017 
Ended   at Thu Mar 16 02:18:13 AEST 2017
BBR-Run-Time-Sec 105
 
bbregister Done
To check results, run:
tkregister2 --mov biasmeanb0bet.nii.gz --reg register.dat --surf
 
dwi2response: [03;32m[0m
dwi2response: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation. Please consult the help page (-help option) for more information.[0m
dwi2response: [03;32m[0m
dwi2response: [03;32mGenerated temporary directory: /tmp/dwi2response-tmp-2HSI6X/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/testPBS/Diff/LucaFull/preproc/biascorr.mif /tmp/dwi2response-tmp-2HSI6X/dwi.mif -stride 0,0,0,1
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/testPBS/Diff/LucaFull/preproc/biasmeanb0bet_mask.nii.gz /tmp/dwi2response-tmp-2HSI6X/mask.mif -datatype bit
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/testPBS/Diff/LucaFull/preproc/r5TT.nii /tmp/dwi2response-tmp-2HSI6X/5tt.mif
dwi2response: [03;32mChanging to temporary directory (/tmp/dwi2response-tmp-2HSI6X/)[0m
[03;34mCommand:[0m dwi2tensor dwi.mif - -mask mask.mif | tensor2metric - -fa fa.mif -vector vector.mif
[03;34mCommand:[0m mrtransform 5tt.mif 5tt_regrid.mif -template fa.mif -interp linear
[03;34mCommand:[0m mrconvert 5tt_regrid.mif - -coord 3 2 -axes 0,1,2 | mrcalc - 0.95 -gt mask.mif -mult wm_mask.mif
[03;34mCommand:[0m mrconvert 5tt_regrid.mif - -coord 3 0 -axes 0,1,2 | mrcalc - 0.95 -gt fa.mif 0.2 -lt -mult mask.mif -mult gm_mask.mif
[03;34mCommand:[0m mrconvert 5tt_regrid.mif - -coord 3 3 -axes 0,1,2 | mrcalc - 0.95 -gt fa.mif 0.2 -lt -mult mask.mif -mult csf_mask.mif
dwi2response: [03;32mCalling dwi2response recursively to select WM single-fibre voxels using 'tournier' algorithm[0m
[03;34mCommand:[0m dwi2response tournier dwi.mif wm_ss_response.txt -mask wm_mask.mif -voxels wm_sf_mask.mif -quiet -tempdir /tmp/dwi2response-tmp-2HSI6X/
[03;34mCommand:[0m dwiextract dwi.mif -shell 0 dwi_b0.mif
[03;34mCommand:[0m amp2sh dwi_b0.mif - | sh2response - wm_sf_mask.mif dirs.mif wm_response_b0.txt
[03;34mCommand:[0m mrmath dwi_b0.mif mean dwi_b0_mean.mif -axis 3
[03;34mCommand:[0m dwiextract dwi.mif -shell 1000 dwi_b1000.mif
[03;34mCommand:[0m amp2sh dwi_b1000.mif - | sh2response - wm_sf_mask.mif dirs.mif wm_response_b1000.txt
[03;34mCommand:[0m mrmath dwi_b1000.mif mean dwi_b1000_mean.mif -axis 3
[03;34mCommand:[0m dwiextract dwi.mif -shell 2992 dwi_b2992.mif
[03;34mCommand:[0m amp2sh dwi_b2992.mif - | sh2response - wm_sf_mask.mif dirs.mif wm_response_b2992.txt
[03;34mCommand:[0m mrmath dwi_b2992.mif mean dwi_b2992_mean.mif -axis 3
[03;34mCommand:[0m mrcat csf_mask.mif gm_mask.mif wm_sf_mask.mif voxels.mif -axis 3
dwi2response: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/testPBS/Diff/LucaFull/preproc)[0m
dwi2response: [03;32mDeleting temporary directory /tmp/dwi2response-tmp-2HSI6X/[0m
