dwipreproc_mb: [03;32m[0m
dwipreproc_mb: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
dwipreproc_mb: [03;32m[0m
dwipreproc_mb: [00;31m[WARNING] Output file eddycorr.mif already exists; will be overwritten at script completion[0m
dwipreproc_mb: [00;31m[WARNING] Output file adjencoding.b already exists; will be overwritten at script completion[0m
dwipreproc_mb: [03;32mGenerated temporary directory: /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/dwipreproc_mb-tmp-SIRDF8/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/rawdataAPdn.mif /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/dwipreproc_mb-tmp-SIRDF8/series.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/APb0s.mif /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/dwipreproc_mb-tmp-SIRDF8/pair1.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/rawdataPAdn.mif /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/dwipreproc_mb-tmp-SIRDF8/pair2.mif
dwipreproc_mb: [03;32mChanging to temporary directory (/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/dwipreproc_mb-tmp-SIRDF8/)[0m
dwipreproc_mb: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -size' (piping data to local storage)[0m
dwipreproc_mb: [03;32mResult: 122 122 70 88[0m
dwipreproc_mb: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -dwgrad' (piping data to local storage)[0m
dwipreproc_mb: [03;32mResult:          0          0          0          0
 -0.984645  -0.161046  0.0673713       3000
  0.978043  -0.190745 -0.0839578       1000
  0.200904  -0.969652   0.139332       3000
 0.0334588   0.272543   0.961562       2950
  0.185169   0.566578  -0.802933       3000
 0.0802031 -0.0431843   0.995843       1000
  0.461676   0.837347   0.292755       3000
  0.648488  -0.504254  -0.570255       3000
 -0.682219   0.190668   -0.70585       3000
 -0.282998  -0.958471 -0.0352819       1000
  0.897028  -0.435666  0.0744042       3000
  0.691667   0.663111  -0.286148       3000
         0          0          0          0
 0.0386403  -0.757244  -0.651988       3000
  -0.74537   0.529431  -0.405126       1000
  -0.50923 -0.0398937   0.859705       2950
 -0.773072  -0.349962  -0.529043       3000
   0.43384  -0.716112   0.546778       3000
  0.097931  -0.529752   -0.84248       1000
 -0.394862   0.912404   0.107713       3000
 0.0970376  -0.388638   0.916266       2950
         0          0          0          0
  0.917606  0.0254028  -0.396678       3000
  0.727917   0.621129  -0.290407       1000
  0.487491   0.439265   0.754585       2950
  0.422361   0.860734  -0.284164       3000
 -0.808908   0.542531   0.226558       3000
  -0.66846   0.483507   0.565139       1000
  0.765666   0.595992   0.241972       3000
 -0.466371   0.345654   0.814261       2950
  0.868646  -0.302912   0.392043       3000
 -0.228213   0.608033  -0.760404       1000
  0.146596   0.821343  -0.551276       3000
  0.405906  -0.151036   0.901348       2950
         0          0          0          0
  0.135578   0.915724   0.378243       3000
 -0.509306  -0.369681  -0.777138       1000
  0.675657   0.479916  -0.559614       3000
 -0.725984   0.621613  -0.294186       3000
-0.0824646  0.0571122  -0.994956       3000
   0.28818  -0.929461   0.230334       1000
  0.222846  -0.889367  -0.399207       3000
 -0.929701  -0.280504   -0.23869       3000
         0          0          0          0
 -0.744491  -0.173268   0.644757       2950
 -0.383571  -0.448402   0.807347       1000
 -0.114184  -0.965431   0.234318       3000
   0.17877  -0.501006  -0.846779       3000
 -0.399745   0.460462  -0.792577       3000
   0.77079   0.596244   0.224445       1000
 -0.299806  -0.737219  -0.605495       3000
  0.973172  -0.193698  -0.124168       3000
 -0.616066  -0.787601 -0.0121452       3000
 -0.238341   0.900884    0.36277       1000
 -0.210737  -0.233231   0.949312       2950
  0.673984  -0.738413 -0.0221912       3000
         0          0          0          0
  0.868587  0.0304847   0.494599       2950
 -0.927023   -0.10283   -0.36063       1000
 -0.163569   0.876216  -0.453312       3000
  -0.34483  -0.183635  -0.920527       3000
  0.711914  -0.164633  -0.682697       3000
 -0.861081  -0.144194   0.487593       1000
  -0.37273   0.677477   0.634111       3000
 -0.435719  -0.689395   0.578691       3000
         0          0          0          0
 -0.875509  -0.352898   0.330072       3000
  0.603181  -0.172537   0.778719       1000
 0.0298968  -0.992278  -0.120378       3000
 -0.980277  0.0721193  -0.184001       3000
  0.173003   0.534373   0.827355       2950
  0.466004 -0.0911901  -0.880071       1000
  0.128699  -0.675339   0.726191       2950
  -0.48193   0.841923  -0.242712       3000
  0.248216  -0.123827  -0.960758       3000
  0.217542   0.844483  -0.489412       1000
  0.866327    0.49814 -0.0365353       3000
  0.640219   0.132865   0.756615       2950
         0          0          0          0
   0.55685   -0.75097  -0.354912       3000
  0.697684  -0.711106 -0.0869792       1000
  0.299629   0.953237  0.0395222       3000
  0.467835   0.382694  -0.796666       3000
  -0.85973   0.293622   0.417912       3000
  0.300581   0.797252   0.523488       1000
 -0.591164  -0.623877  -0.511178       3000
 -0.656176   0.482015  -0.580599       3000[0m
dwipreproc_mb: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -stride' (piping data to local storage)[0m
dwipreproc_mb: [03;32mResult: 1 2 3 4[0m
dwipreproc_mb: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair1.mif -size' (piping data to local storage)[0m
dwipreproc_mb: [03;32mResult: 122 122 70 8[0m
dwipreproc_mb: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair2.mif -size' (piping data to local storage)[0m
dwipreproc_mb: [03;32mResult: 122 122 70 8[0m
[03;34mCommand:[0m mrconvert series.mif dwi_pre_topup.nii -stride -1,+2,+3,+4
[03;34mCommand:[0m mrcat pair1.mif pair2.mif - -axis 3 | mrconvert - topup_in.nii -stride -1,+2,+3,+4
dwipreproc_mb: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair1.mif -size' (piping data to local storage)[0m
dwipreproc_mb: [03;32mResult: 122 122 70 8[0m
dwipreproc_mb: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair2.mif -size' (piping data to local storage)[0m
dwipreproc_mb: [03;32mResult: 122 122 70 8[0m
dwipreproc_mb: [03;32mCreating phase-encoding configuration file[0m
[03;34mCommand:[0m topup --imain=topup_in.nii --datain=config.txt --out=field --fout=field_map.nii.gz --config=/software/fsl/fsl-5.0.9_eddy/fsl/etc/flirtsch/b02b0.cnf
[03;34mCommand:[0m applytopup --imain=dwi_pre_topup.nii --datain=config.txt --inindex=1 --topup=field --out=dwi_post_topup.nii.gz --method=jac
[03;34mCommand:[0m mrconvert series.mif - -stride -1,+2,+3,+4 | mrinfo - -export_grad_fsl bvecs bvals
[03;34mCommand:[0m mrconvert dwi_post_topup.nii.gz -fslgrad bvecs bvals - | dwi2mask - - | maskfilter - dilate - | mrconvert - mask.nii -datatype float32 -stride -1,+2,+3
[03;34mCommand:[0m eddy_openmp --imain=dwi_pre_topup.nii --mask=mask.nii --index=indices.txt --acqp=config.txt --bvecs=bvecs --bvals=bvals --repol --data_is_shelled --mb=2 --ol_type=gw --topup=field --out=dwi_post_eddy
[03;34mCommand:[0m mrconvert dwi_post_eddy.nii.gz result.mif -stride 1,2,3,4 -fslgrad dwi_post_eddy.eddy_rotated_bvecs bvals
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/eddycorr.mif -export_grad_mrtrix /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/adjencoding.b -force
dwipreproc_mb: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc)[0m
dwipreproc_mb: [03;32mDeleting temporary directory /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/dwipreproc_mb-tmp-SIRDF8/[0m
dwibiascorrect: [03;32m[0m
dwibiascorrect: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
dwibiascorrect: [03;32m[0m
dwibiascorrect: [00;31m[WARNING] Output file biascorr.mif already exists; will be overwritten at script completion[0m
dwibiascorrect: [03;32mGenerated temporary directory: /tmp/dwibiascorrect-tmp-CJQ00I/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/eddycorr.mif /tmp/dwibiascorrect-tmp-CJQ00I/in.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/eddymeanb0bet_mask.nii.gz /tmp/dwibiascorrect-tmp-CJQ00I/mask.mif
dwibiascorrect: [03;32mChanging to temporary directory (/tmp/dwibiascorrect-tmp-CJQ00I/)[0m
[03;34mCommand:[0m dwiextract in.mif - -bzero | mrmath - mean mean_bzero.mif -axis 3
[03;34mCommand:[0m mrcalc mean_bzero.mif mask.mif -mult - | mrconvert - mean_bzero_masked.nii -stride -1,+2,+3
[03;34mCommand:[0m fast -t 2 -o fast -n 3 -b mean_bzero_masked.nii
[03;34mCommand:[0m mrcalc in.mif fast_bias.nii.gz -div result.mif
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/biascorr.mif -force
dwibiascorrect: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc)[0m
dwibiascorrect: [03;32mDeleting temporary directory /tmp/dwibiascorrect-tmp-CJQ00I/[0m
Extracting mean of the b=0 shell.
Extracting mean of the b=1000 shell.
Extracting mean of the b=2990 shell.
5ttgen: [03;32m[0m
5ttgen: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
5ttgen: [03;32m[0m
5ttgen: [00;31m[WARNING] Output file 5TTFSmasked.nii already exists; will be overwritten at script completion[0m
5ttgen: [03;32mGenerated temporary directory: /tmp/5ttgen-tmp-LHERD1/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/T1betFSmasked.nii.gz /tmp/5ttgen-tmp-LHERD1/input.mif
5ttgen: [03;32mChanging to temporary directory (/tmp/5ttgen-tmp-LHERD1/)[0m
[03;34mCommand:[0m mrconvert input.mif T1.nii -stride -1,+2,+3
[03;34mCommand:[0m fast T1.nii
[03;34mCommand:[0m run_first_all -s L_Accu,R_Accu,L_Caud,R_Caud,L_Pall,R_Pall,L_Puta,R_Puta,L_Thal,R_Thal,L_Amyg,R_Amyg,L_Hipp,R_Hipp -i T1.nii -o first -b
[03;34mCommand:[0m meshconvert first-L_Accu_first.vtk L_Accu.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve L_Accu.vtk T1.nii mesh2pve_L_Accu.mif
[03;34mCommand:[0m meshconvert first-R_Accu_first.vtk R_Accu.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve R_Accu.vtk T1.nii mesh2pve_R_Accu.mif
[03;34mCommand:[0m meshconvert first-L_Caud_first.vtk L_Caud.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve L_Caud.vtk T1.nii mesh2pve_L_Caud.mif
[03;34mCommand:[0m meshconvert first-R_Caud_first.vtk R_Caud.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve R_Caud.vtk T1.nii mesh2pve_R_Caud.mif
[03;34mCommand:[0m meshconvert first-L_Pall_first.vtk L_Pall.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve L_Pall.vtk T1.nii mesh2pve_L_Pall.mif
[03;34mCommand:[0m meshconvert first-R_Pall_first.vtk R_Pall.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve R_Pall.vtk T1.nii mesh2pve_R_Pall.mif
[03;34mCommand:[0m meshconvert first-L_Puta_first.vtk L_Puta.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve L_Puta.vtk T1.nii mesh2pve_L_Puta.mif
[03;34mCommand:[0m meshconvert first-R_Puta_first.vtk R_Puta.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve R_Puta.vtk T1.nii mesh2pve_R_Puta.mif
[03;34mCommand:[0m meshconvert first-L_Thal_first.vtk L_Thal.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve L_Thal.vtk T1.nii mesh2pve_L_Thal.mif
[03;34mCommand:[0m meshconvert first-R_Thal_first.vtk R_Thal.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve R_Thal.vtk T1.nii mesh2pve_R_Thal.mif
[03;34mCommand:[0m meshconvert first-L_Amyg_first.vtk L_Amyg.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve L_Amyg.vtk T1.nii mesh2pve_L_Amyg.mif
[03;34mCommand:[0m meshconvert first-R_Amyg_first.vtk R_Amyg.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve R_Amyg.vtk T1.nii mesh2pve_R_Amyg.mif
[03;34mCommand:[0m meshconvert first-L_Hipp_first.vtk L_Hipp.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve L_Hipp.vtk T1.nii mesh2pve_L_Hipp.mif
[03;34mCommand:[0m meshconvert first-R_Hipp_first.vtk R_Hipp.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve R_Hipp.vtk T1.nii mesh2pve_R_Hipp.mif
[03;34mCommand:[0m mrmath mesh2pve_L_Accu.mif mesh2pve_R_Accu.mif mesh2pve_L_Caud.mif mesh2pve_R_Caud.mif mesh2pve_L_Pall.mif mesh2pve_R_Pall.mif mesh2pve_L_Puta.mif mesh2pve_R_Puta.mif mesh2pve_L_Thal.mif mesh2pve_R_Thal.mif mesh2pve_L_Amyg.mif mesh2pve_R_Amyg.mif mesh2pve_L_Hipp.mif mesh2pve_R_Hipp.mif sum - | mrcalc - 1.0 -min all_sgms.mif
[03;34mCommand:[0m mrthreshold T1_pve_2.nii.gz - -abs 0.001 | maskfilter - connect wm_mask.mif -largest
[03;34mCommand:[0m mrconvert T1_pve_0.nii.gz csf.mif
[03;34mCommand:[0m mrcalc 1.0 csf.mif -sub all_sgms.mif -min sgm.mif
[03;34mCommand:[0m mrcalc 1.0 csf.mif sgm.mif -add -sub T1_pve_1.nii.gz T1_pve_2.nii.gz -add -div multiplier.mif
[03;34mCommand:[0m mrcalc multiplier.mif -finite multiplier.mif 0.0 -if multiplier_noNAN.mif
[03;34mCommand:[0m mrcalc T1_pve_1.nii.gz multiplier_noNAN.mif -mult cgm.mif
[03;34mCommand:[0m mrcalc T1_pve_2.nii.gz multiplier_noNAN.mif -mult wm_mask.mif -mult wm.mif
[03;34mCommand:[0m mrcalc 0 wm.mif -min path.mif
[03;34mCommand:[0m mrcat cgm.mif sgm.mif wm.mif csf.mif path.mif - -axis 3 | mrconvert - combined_precrop.mif -stride +2,+3,+4,+1
[03;34mCommand:[0m mrconvert combined_precrop.mif result.mif
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/5TTFSmasked.nii -force
5ttgen: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc)[0m
5ttgen: [03;32mDeleting temporary directory /tmp/5ttgen-tmp-LHERD1/[0m
DST parcellation being constructed
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mGenerated temporary directory: /tmp/labelsgmfix-tmp-6CP8Y7/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/parcFSLtempstr.nii.gz /tmp/labelsgmfix-tmp-6CP8Y7/parc.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/T1betFSmasked_restore.nii.gz /tmp/labelsgmfix-tmp-6CP8Y7/T1.nii -stride -1,+2,+3
labelsgmfix: [03;32mChanging to temporary directory (/tmp/labelsgmfix-tmp-6CP8Y7/)[0m
[03;34mCommand:[0m run_first_all -s R_Thal,L_Puta,R_Caud,R_Hipp,L_Amyg,R_Pall,R_Amyg,L_Caud,L_Pall,L_Thal,L_Hipp,R_Accu,L_Accu,R_Puta -i T1.nii -b -o first
[03;34mCommand:[0m mrcalc parc.mif 0 -min sgm.mif
[03;34mCommand:[0m meshconvert first-R_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Thal_mask.mif 6 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Puta_mask.mif 3 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Caud_mask.mif 7 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Hipp_mask.mif 13 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Amyg_mask.mif 12 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Pall_mask.mif 9 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Amyg_mask.mif 14 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Caud_mask.mif 2 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Pall_mask.mif 4 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Thal_mask.mif 1 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Hipp_mask.mif 11 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Accu_mask.mif 10 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Accu_mask.mif 5 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Puta_mask.mif 8 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m mrmath R_Thal_mask.mif L_Puta_mask.mif R_Caud_mask.mif R_Hipp_mask.mif L_Amyg_mask.mif R_Pall_mask.mif R_Amyg_mask.mif L_Caud_mask.mif L_Pall_mask.mif L_Thal_mask.mif L_Hipp_mask.mif R_Accu_mask.mif L_Accu_mask.mif R_Puta_mask.mif sum - | mrcalc - 1 -gt sgm_overlap_mask.mif
[03;34mCommand:[0m mrcalc sgm_overlap_mask.mif 0 sgm.mif -if sgm_masked.mif
[03;34mCommand:[0m labelconvert sgm_masked.mif /software/mrtrix3/mrtrix3-AP/scripts/data/FreeSurferSGM.txt /software/mrtrix3/mrtrix3-AP/src/connectome/tables/fs_default.txt sgm_new_labels.mif
[03;34mCommand:[0m mrcalc parc.mif 43 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 38 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 44 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 47 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 41 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 46 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 48 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 37 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 39 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 36 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 40 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 49 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 42 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 45 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc sgm_new_labels.mif 0.5 -gt sgm_new_labels.mif parc.mif -if result.mif -datatype uint32
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/parc_fixsubcort.nii
labelsgmfix: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc)[0m
labelsgmfix: [03;32mDeleting temporary directory /tmp/labelsgmfix-tmp-6CP8Y7/[0m
tmp ./tmp.bbregister.38690
Log file is register.dat.log
Tue Apr  4 21:49:15 AEST 2017

setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc
/software/freesurfer/freesurfer-6.0.0/bin/bbregister --s Long --mov biasmeanb0bet.nii.gz --init-fsl --reg register.dat --dti --fslmat diff2FS.mat

$Id: bbregister,v 1.75 2016/05/10 20:02:28 greve Exp $
Linux hpcnode040.adqimr.ad.lan 3.10.0-327.3.1.el7.x86_64 #1 SMP Wed Dec 9 14:09:15 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
FREESURFER_HOME /software/freesurfer/freesurfer-6.0.0
mri_convert biasmeanb0bet.nii.gz ./tmp.bbregister.38690/template.nii
mri_convert.bin biasmeanb0bet.nii.gz ./tmp.bbregister.38690/template.nii 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from biasmeanb0bet.nii.gz...
TR=1000.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (0.999313, 0.0299168, 0.0218859)
j_ras = (-0.0317539, 0.99552, 0.0890652)
k_ras = (-0.0191233, -0.0896989, 0.995785)
writing to ./tmp.bbregister.38690/template.nii...
fslregister --s Long --mov ./tmp.bbregister.38690/template.nii --reg ./tmp.bbregister.38690/reg.init.dat --niters 1 --maxangle 90 --tmp ./tmp.bbregister.38690/fslregister --dof 6 --fsvol brainmask.mgz --nobetmov

Log file is ./tmp.bbregister.38690/reg.init.dat.fslregister.log

Tue Apr  4 21:49:15 AEST 2017
--s Long --mov ./tmp.bbregister.38690/template.nii --reg ./tmp.bbregister.38690/reg.init.dat --niters 1 --maxangle 90 --tmp ./tmp.bbregister.38690/fslregister --dof 6 --fsvol brainmask.mgz --nobetmov
$Id: fslregister,v 1.40 2016/02/12 21:43:15 zkaufman Exp $
hpcnode040.adqimr.ad.lan
Linux hpcnode040.adqimr.ad.lan 3.10.0-327.3.1.el7.x86_64 #1 SMP Wed Dec 9 14:09:15 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
nIters 1
--------------------------------------
/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc
mri_convert /working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/FS/Long/mri/brainmask.mgz ./tmp.bbregister.38690/fslregister/refvol.fslregister.nii
mri_convert.bin /working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/FS/Long/mri/brainmask.mgz ./tmp.bbregister.38690/fslregister/refvol.fslregister.nii 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from /working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/FS/Long/mri/brainmask.mgz...
TR=0.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (-1, -9.42237e-10, 0)
j_ras = (3.72529e-09, 1.16415e-10, -1)
k_ras = (-9.24047e-10, 1, -1.16415e-10)
writing to ./tmp.bbregister.38690/fslregister/refvol.fslregister.nii...
--------------------------------------
/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc
mri_convert ./tmp.bbregister.38690/template.nii ./tmp.bbregister.38690/fslregister/movvol.fslregister.nii --frame 0
mri_convert.bin ./tmp.bbregister.38690/template.nii ./tmp.bbregister.38690/fslregister/movvol.fslregister.nii --frame 0 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from ./tmp.bbregister.38690/template.nii...
TR=1000.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (0.999313, 0.0299168, 0.0218859)
j_ras = (-0.0317539, 0.99552, 0.0890652)
k_ras = (-0.0191233, -0.0896989, 0.995785)
keeping frame 0
writing to ./tmp.bbregister.38690/fslregister/movvol.fslregister.nii...
Mov determinant is 8
Swapping dims for pos det
WARNING:: Flipping Left/Right orientation (as det < 0)
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
target  volume ./tmp.bbregister.38690/fslregister/movvol.fslregister.nii
movable volume ./tmp.bbregister.38690/template.nii
reg file       ./tmp.bbregister.38690/fslregister/swapreg.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target ./tmp.bbregister.38690/fslregister/movvol.fslregister.nii
INFO: target does not conform to COR format, so I'm going to
reslice to COR. This will not affect the final registration.
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.38690/template.nii
Tmov: --------------------
-2.00000   0.00000   0.00000   122.00000;
 0.00000   0.00000   2.00000  -70.00000;
 0.00000  -2.00000   0.00000   122.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 1, float2int = 0
Computing reg from header (and possibly input matrix)
---- Input registration matrix (computed) --------
-0.99931  -0.02992  -0.02189   2.00000;
-0.01912  -0.08970   0.99579   0.00000;
 0.03175  -0.99552  -0.08907   0.00000;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
-0.99931  -0.02992  -0.02189   2.00000;
-0.01912  -0.08970   0.99579   0.00000;
 0.03175  -0.99552  -0.08907   0.00000;
 0.00000   0.00000   0.00000   1.00000;
Determinant -1
subject = subject-unknown
RegMat ---------------------------
-1.00000  -0.00000  -0.00000   2.00000;
 0.00000   1.00000   0.00000  -0.00000;
 0.00000   0.00000   1.00000  -0.00001;
 0.00000   0.00000   0.00000   1.00000;
/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc
tkregister2_cmdl --mov ./tmp.bbregister.38690/fslregister/movvol.fslregister.nii --reg ./tmp.bbregister.38690/fslregister/reg0.38732.dat --regheader --fslregout ./tmp.bbregister.38690/reg.init.dat.fsl.mat0 --s Long --noedit
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume ./tmp.bbregister.38690/fslregister/movvol.fslregister.nii
reg file       ./tmp.bbregister.38690/fslregister/reg0.38732.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target /working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/FS/Long/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.38690/fslregister/movvol.fslregister.nii
Tmov: --------------------
-2.00000   0.00000   0.00000   122.00000;
 0.00000   0.00000   2.00000  -70.00000;
 0.00000  -2.00000   0.00000   122.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 1, float2int = 0
Computing reg from header (and possibly input matrix)
---- Input registration matrix (computed) --------
 0.99931   0.02992   0.02189  -0.45093;
-0.01912  -0.08970   0.99579  -2.69804;
 0.03175  -0.99552  -0.08907  -6.37639;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
 0.99931   0.02992   0.02189  -0.45093;
-0.01912  -0.08970   0.99579  -2.69804;
 0.03175  -0.99552  -0.08907  -6.37639;
 0.00000   0.00000   0.00000   1.00000;
Determinant 1
subject = Long
RegMat ---------------------------
 0.99931   0.02992   0.02189  -0.45093;
-0.01912  -0.08970   0.99579  -2.69804;
 0.03175  -0.99552  -0.08907  -6.37639;
 0.00000   0.00000   0.00000   1.00000;
FSLOUTPUTTYPE NIFTI 
tkreg2FSL: mov det = -8, ref det = -1
Tue Apr  4 21:49:17 AEST 2017
/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc
flirt.fsl -ref ./tmp.bbregister.38690/fslregister/refvol.fslregister.nii -in ./tmp.bbregister.38690/fslregister/movvol.fslregister.nii -bins 256 -cost corratio -dof 6 -searchrx -90 90 -searchry -90 90 -searchrz -90 90 -verbose 0 -omat ./tmp.bbregister.38690/fslregister/fslmat0.trans.mat -schedule /software/freesurfer/freesurfer-6.0.0/bin/fsl.5.0.2.xyztrans.sch -init ./tmp.bbregister.38690/reg.init.dat.fsl.mat0
Tue Apr  4 21:49:27 AEST 2017
/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc
flirt.fsl -ref ./tmp.bbregister.38690/fslregister/refvol.fslregister.nii -in ./tmp.bbregister.38690/fslregister/movvol.fslregister.nii -bins 256 -cost corratio -dof 6 -searchrx -90 90 -searchry -90 90 -searchrz -90 90 -verbose 0 -omat ./tmp.bbregister.38690/reg.init.dat.fsl.mat -init ./tmp.bbregister.38690/fslregister/fslmat0.trans.mat -schedule /software/freesurfer/freesurfer-6.0.0/bin/flirt.newdefault.20080811.sch
tkregister2_cmdl --s Long --mov ./tmp.bbregister.38690/fslregister/movvol.fslregister.nii --reg ./tmp.bbregister.38690/reg.init.dat --fslreg ./tmp.bbregister.38690/reg.init.dat.fsl.mat --noedit
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
---- FSL registration matrix --------
 0.99973  -0.01182  -0.01996   8.74228;
-0.02132  -0.12937  -0.99137   200.44299;
 0.00914   0.99153  -0.12958   1.48797;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume ./tmp.bbregister.38690/fslregister/movvol.fslregister.nii
reg file       ./tmp.bbregister.38690/reg.init.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target /working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/FS/Long/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.38690/fslregister/movvol.fslregister.nii
Tmov: --------------------
-2.00000   0.00000   0.00000   122.00000;
 0.00000   0.00000   2.00000  -70.00000;
 0.00000  -2.00000   0.00000   122.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 0, float2int = 0
FSLOUTPUTTYPE NIFTI 
fsl2TkReg: mov det = -8, ref det = -1
---- Input registration matrix (computed) --------
 0.99973  -0.00914  -0.02132   0.07410;
 0.01996  -0.12959   0.99137  -16.95657;
-0.01182  -0.99153  -0.12937  -11.40227;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
 0.99973  -0.00914  -0.02132   0.07410;
 0.01996  -0.12959   0.99137  -16.95657;
-0.01182  -0.99153  -0.12937  -11.40227;
 0.00000   0.00000   0.00000   1.00000;
Determinant 1
subject = Long
RegMat ---------------------------
 0.99973  -0.00914  -0.02132   0.07410;
 0.01996  -0.12959   0.99137  -16.95657;
-0.01182  -0.99153  -0.12937  -11.40227;
 0.00000   0.00000   0.00000   1.00000;
mri_matrix_multiply -im ./tmp.bbregister.38690/fslregister/swapreg.dat -im ./tmp.bbregister.38690/reg.init.dat -om ./tmp.bbregister.38690/reg.init.dat
(standard_in) 1: illegal character: L
 
Started at Tue Apr 4 21:49:15 AEST 2017 
Ended   at Tue Apr  4 21:49:42 AEST 2017
 
fslregister Done
 
To check results, run:
tkregister2 --mov ./tmp.bbregister.38690/template.nii --reg ./tmp.bbregister.38690/reg.init.dat --surf orig
 
mri_segreg --mov ./tmp.bbregister.38690/template.nii --init-reg ./tmp.bbregister.38690/reg.init.dat --out-reg ./tmp.bbregister.38690/bbr.pass1.dat --subsamp-brute 100 --subsamp 100 --tol 1e-4 --tol1d 1e-3 --brute -4 4 4 --surf white --gm-proj-frac 0.5 --gm-gt-wm 0.5
$Id: mri_segreg.c,v 1.113 2016/05/10 03:23:20 greve Exp $
setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc
mri_segreg --mov ./tmp.bbregister.38690/template.nii --init-reg ./tmp.bbregister.38690/reg.init.dat --out-reg ./tmp.bbregister.38690/bbr.pass1.dat --subsamp-brute 100 --subsamp 100 --tol 1e-4 --tol1d 1e-3 --brute -4 4 4 --surf white --gm-proj-frac 0.5 --gm-gt-wm 0.5 
sysname  Linux
hostname hpcnode040.adqimr.ad.lan
machine  x86_64
user     alistaiP
movvol ./tmp.bbregister.38690/template.nii
regfile ./tmp.bbregister.38690/reg.init.dat
subject Long
dof 6
outregfile ./tmp.bbregister.38690/bbr.pass1.dat
UseMask 0
UseLH 1
UseRH 1
nsubsamp 100
PenaltySign  -1
PenaltySlope 0.500000
PenaltyCenter 0.000000
surfname white
GMProjFrac 0.500000
WMProjAbs 2.000000
lhcostfile (null)
rhcostfile (null)
interp  trilinear (1)
frame  0
TolPowell 0.000100
nMaxItersPowell 36
n1dmin  3
Profile   0
Gdiag_no  -1
AddNoise  0 (0)
SynthSeed 1491626268
TransRandMax 0.000000
RotRandMax 0.000000
Translations 0.000000 0.000000 0.000000
Rotations   0.000000 0.000000 0.000000
Input reg
-0.99973   0.00914   0.02132   1.92590;
 0.01996  -0.12958   0.99137  -16.95657;
-0.01182  -0.99153  -0.12937  -11.40228;
 0.00000   0.00000   0.00000   1.00000;

Loading mov
Projecting LH Surfs
Loading lh.white surf
Loading lh.thickness for GM
GM Proj: 1 0.500000 2.000000
WM Proj: 0 0.500000 2.000000
Projecting RH Surfs
Loading rh.white surf
Loading rh.thickness for GM
Projecting RH Surfs
Using lh.cortex.label
Using rh.cortex.label
Computing relative cost
 0  -25.0 -25.0 -25.0   1.029323
 1  -25.0 -25.0  25.0   1.029659
 2  -25.0  25.0 -25.0   0.970262
 3  -25.0  25.0  25.0   0.975025
 4   25.0 -25.0 -25.0   1.012216
 5   25.0 -25.0  25.0   0.979929
 6   25.0  25.0 -25.0   0.986625
 7   25.0  25.0  25.0   0.994696
REL:  8  0.935100    7.977734  0.997217 rel = 0.937709 
Initial costs ----------------
Number of surface hits 2443
WM  Intensity   416.2002 +/- 154.9525
Ctx Intensity   431.7438 +/- 167.5479
Pct Contrast      3.0499 +/-  29.7044
Cost   0.9351
RelCost   0.9377

------------------------------------
Brute force preopt -4 4 4, n = 729
     0  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000      0.9309   0.9309  0.0
     5  -4.0000  -4.0000  -4.0000  -4.0000   0.0000   4.0000      0.9019   0.9019  0.0
    43  -4.0000  -4.0000   0.0000   0.0000   4.0000   0.0000      0.8968   0.8968  0.0
   147  -4.0000   0.0000   4.0000   0.0000   0.0000  -4.0000      0.8799   0.8799  0.0
   248   0.0000  -4.0000  -4.0000  -4.0000   0.0000   4.0000      0.8780   0.8780  0.0
   298   0.0000  -4.0000   4.0000  -4.0000  -4.0000   0.0000      0.8425   0.8425  0.0
Brute Force --------------------------
Min cost was 0.842464
Number of iterations   729
Search time 0.828000 sec
Parameters at best (transmm, rotdeg)
  0.000  -4.000   4.000 -4.000 -4.000  0.000 
--------------------------------------------

Starting Powell Minimization
Init Powel Params dof = 6
0 0
1 -4
2 4
3 -4
4 -4
5 0
fs_powell::minimize
  nparams 6
  maxfev 36
  ftol   0.000100
  linmin_xtol_   0.001000
  powell nthiter 0: fret = 0.842464
   5 -0.618 -4.000  4.000 -4.000 -4.000  0.000   0.8413395938
   7 -0.379 -4.000  4.000 -4.000 -4.000  0.000   0.8385093858
   9 -0.461 -4.000  4.000 -4.000 -4.000  0.000   0.8370818194
  11 -0.449 -4.000  4.000 -4.000 -4.000  0.000   0.8369623187
  19 -0.449 -5.618  4.000 -4.000 -4.000  0.000   0.8197046292
  27 -0.449 -5.757  4.000 -4.000 -4.000  0.000   0.8145493760
  28 -0.449 -5.782  4.000 -4.000 -4.000  0.000   0.8143036336
  40 -0.449 -5.782  4.019 -4.000 -4.000  0.000   0.8142783518
  41 -0.449 -5.782  4.011 -4.000 -4.000  0.000   0.8142205666
  53 -0.449 -5.782  4.011 -4.001 -4.000  0.000   0.8142199116
  54 -0.449 -5.782  4.011 -4.002 -4.000  0.000   0.8142198634
  63 -0.449 -5.782  4.011 -4.002 -3.966  0.000   0.8138736640
  67 -0.449 -5.782  4.011 -4.002 -3.961  0.000   0.8138511047
  79 -0.449 -5.782  4.011 -4.002 -3.961 -0.003   0.8138450901
  powell nthiter 1: fret = 0.813845
 105 -0.449 -5.785  4.011 -4.002 -3.961 -0.003   0.8138376669
 107 -0.449 -5.784  4.011 -4.002 -3.961 -0.003   0.8138371360
 116 -0.449 -5.784  4.006 -4.002 -3.961 -0.003   0.8138160054
 117 -0.449 -5.784  4.005 -4.002 -3.961 -0.003   0.8138154930
 127 -0.449 -5.784  4.005 -4.001 -3.961 -0.003   0.8138148527
Powell done niters = 1
Computing relative cost
 0  -25.0 -25.0 -25.0   0.986182
 1  -25.0 -25.0  25.0   0.940211
 2  -25.0  25.0 -25.0   1.026303
 3  -25.0  25.0  25.0   0.967714
 4   25.0 -25.0 -25.0   1.026915
 5   25.0 -25.0  25.0   0.999690
 6   25.0  25.0 -25.0   0.979115
 7   25.0  25.0  25.0   1.006196
REL:  8  0.813815    7.932325  0.991541 rel = 0.820758 
Number of iterations     1
Min cost was 0.813815
Number of FunctionCalls   152
TolPowell 0.000100
nMaxItersPowell 36
OptimizationTime 0.171000 sec
Parameters at optimum (transmm) -0.44926 -5.78432  4.00468
Parameters at optimum (rotdeg) -4.00071 -3.96142 -0.00298 
Final costs ----------------
Number of surface hits 2441
WM  Intensity   394.4574 +/- 139.0035
Ctx Intensity   418.0519 +/- 154.0603
Pct Contrast      4.7259 +/-  32.5516
Cost   0.8138
RelCost   0.9377
Reg at min cost was 
-0.99643   0.07681   0.03501   2.17520;
 0.01914  -0.19845   0.97992  -23.49523;
-0.08222  -0.97710  -0.19627  -6.02937;
 0.00000   0.00000   0.00000   1.00000;

Writing optimal reg to ./tmp.bbregister.38690/bbr.pass1.dat, type = 14 
Original Reg 
-0.99973   0.00914   0.02132   1.92590;
 0.01996  -0.12958   0.99137  -16.95657;
-0.01182  -0.99153  -0.12937  -11.40228;
 0.00000   0.00000   0.00000   1.00000;

Original Reg - Optimal Reg
-0.00330  -0.06768  -0.01369  -0.24930;
 0.00082   0.06887   0.01144   6.53866;
 0.07040  -0.01443   0.06690  -5.37291;
 0.00000   0.00000   0.00000   0.00000;

Computing change in lh position
LH rmsDiffMean 8.259294
Computing change in rh position
Surface-RMS-Diff-mm 7.392759 2.127542 12.860400
mri_segreg done
mri_segreg --mov ./tmp.bbregister.38690/template.nii --init-reg ./tmp.bbregister.38690/bbr.pass1.dat --out-reg register.dat --interp trilinear --wm-proj-abs 2 --tol 1e-8 --tol1d 1e-3 --c0 0 --mincost register.dat.mincost --dof 6 --nmax 36 --param register.dat.param --surf white --brute -0.1 0.1 0.1 --cur-reg ./tmp.bbregister.38690/reg.curopt.dat --gm-proj-frac 0.5 --nsub 1 --gm-gt-wm 0.5
$Id: mri_segreg.c,v 1.113 2016/05/10 03:23:20 greve Exp $
setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc
mri_segreg --mov ./tmp.bbregister.38690/template.nii --init-reg ./tmp.bbregister.38690/bbr.pass1.dat --out-reg register.dat --interp trilinear --wm-proj-abs 2 --tol 1e-8 --tol1d 1e-3 --c0 0 --mincost register.dat.mincost --dof 6 --nmax 36 --param register.dat.param --surf white --brute -0.1 0.1 0.1 --cur-reg ./tmp.bbregister.38690/reg.curopt.dat --gm-proj-frac 0.5 --nsub 1 --gm-gt-wm 0.5 
sysname  Linux
hostname hpcnode040.adqimr.ad.lan
machine  x86_64
user     alistaiP
movvol ./tmp.bbregister.38690/template.nii
regfile ./tmp.bbregister.38690/bbr.pass1.dat
subject Long
dof 6
outregfile register.dat
UseMask 0
UseLH 1
UseRH 1
nsubsamp 1
PenaltySign  -1
PenaltySlope 0.500000
PenaltyCenter 0.000000
surfname white
GMProjFrac 0.500000
WMProjAbs 2.000000
lhcostfile (null)
rhcostfile (null)
interp  trilinear (1)
frame  0
TolPowell 0.000000
nMaxItersPowell 36
n1dmin  3
Profile   0
Gdiag_no  -1
AddNoise  0 (0)
SynthSeed 1491952342
TransRandMax 0.000000
RotRandMax 0.000000
Translations 0.000000 0.000000 0.000000
Rotations   0.000000 0.000000 0.000000
Input reg
-0.99643   0.07681   0.03501   2.17520;
 0.01914  -0.19845   0.97992  -23.49523;
-0.08222  -0.97710  -0.19627  -6.02937;
 0.00000   0.00000   0.00000   1.00000;

Loading mov
Projecting LH Surfs
Loading lh.white surf
Loading lh.thickness for GM
GM Proj: 1 0.500000 2.000000
WM Proj: 0 0.500000 2.000000
Projecting RH Surfs
Loading rh.white surf
Loading rh.thickness for GM
Projecting RH Surfs
Using lh.cortex.label
Using rh.cortex.label
Computing relative cost
 0  -25.0 -25.0 -25.0   1.024737
 1  -25.0 -25.0  25.0   0.971561
 2  -25.0  25.0 -25.0   1.019470
 3  -25.0  25.0  25.0   1.011040
 4   25.0 -25.0 -25.0   1.018404
 5   25.0 -25.0  25.0   1.020088
 6   25.0  25.0 -25.0   0.979140
 7   25.0  25.0  25.0   1.020583
REL:  8  0.880111    8.065024  1.008128 rel = 0.873015 
Initial costs ----------------
Number of surface hits 245027
WM  Intensity   395.5614 +/- 135.6938
Ctx Intensity   413.8002 +/- 151.3151
Pct Contrast      3.2991 +/-  31.8771
Cost   0.8801
RelCost   0.8730

------------------------------------
Brute force preopt -0.1 0.1 0.1, n = 729
     0  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000      0.8245   0.8245  0.0
     1  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000   0.0000      0.8222   0.8222  0.0
     3  -0.1000  -0.1000  -0.1000  -0.1000   0.0000  -0.1000      0.8201   0.8201  0.0
     4  -0.1000  -0.1000  -0.1000  -0.1000   0.0000   0.0000      0.8181   0.8181  0.0
    12  -0.1000  -0.1000  -0.1000   0.0000   0.0000  -0.1000      0.8180   0.8180  0.0
    13  -0.1000  -0.1000  -0.1000   0.0000   0.0000   0.0000      0.8165   0.8165  0.0
   103  -0.1000   0.0000  -0.1000   0.1000   0.0000   0.0000      0.8164   0.8164  0.0
   104  -0.1000   0.0000  -0.1000   0.1000   0.0000   0.1000      0.8152   0.8152  0.0
   187  -0.1000   0.1000  -0.1000   0.1000   0.1000   0.0000      0.8151   0.8151  0.0
   212  -0.1000   0.1000   0.0000   0.1000   0.0000   0.1000      0.8143   0.8143  0.0
   364   0.0000   0.0000   0.0000   0.0000   0.0000   0.0000      0.8138   0.8138  0.0
   716   0.1000   0.1000   0.1000   0.0000   0.0000   0.1000      0.8138   0.8138  0.0
Brute Force --------------------------
Min cost was 0.813767
Number of iterations   729
Search time 0.820000 sec
Parameters at best (transmm, rotdeg)
  0.100   0.100   0.100  0.000  0.000  0.100 
--------------------------------------------

Starting Powell Minimization
Init Powel Params dof = 6
0 0.1
1 0.1
2 0.1
3 0
4 0
5 0.1
fs_powell::minimize
  nparams 6
  maxfev 36
  ftol   0.000000
  linmin_xtol_   0.001000
  powell nthiter 0: fret = 0.878827
   7 -0.170  0.100  0.100  0.000  0.000  0.100   0.8782587815
   9 -0.093  0.100  0.100  0.000  0.000  0.100   0.8781996483
  11 -0.100  0.100  0.100  0.000  0.000  0.100   0.8781977038
  22 -0.100  0.482  0.100  0.000  0.000  0.100   0.8771074916
  24 -0.100  0.426  0.100  0.000  0.000  0.100   0.8769641931
  25 -0.100  0.302  0.100  0.000  0.000  0.100   0.8767665447
  27 -0.100  0.349  0.100  0.000  0.000  0.100   0.8767158077
  28 -0.100  0.341  0.100  0.000  0.000  0.100   0.8767041896
  29 -0.100  0.334  0.100  0.000  0.000  0.100   0.8766988121
  31 -0.100  0.332  0.100  0.000  0.000  0.100   0.8766980785
  34 -0.100  0.331  0.100  0.000  0.000  0.100   0.8766980327
  36 -0.100  0.331  1.100  0.000  0.000  0.100   0.8746428286
  40 -0.100  0.331  0.718  0.000  0.000  0.100   0.8744844784
  41 -0.100  0.331  0.864  0.000  0.000  0.100   0.8744603387
  48 -0.100  0.331  0.863  0.000  0.000  0.100   0.8744594982
  50 -0.100  0.331  0.860  0.000  0.000  0.100   0.8744575160
  51 -0.100  0.331  0.859  0.000  0.000  0.100   0.8744569604
  58 -0.100  0.331  0.859  0.382  0.000  0.100   0.8737934066
  60 -0.100  0.331  0.859  0.270  0.000  0.100   0.8736328875
  61 -0.100  0.331  0.859  0.255  0.000  0.100   0.8736317567
  62 -0.100  0.331  0.859  0.259  0.000  0.100   0.8736298178
  63 -0.100  0.331  0.859  0.262  0.000  0.100   0.8736294209
  75 -0.100  0.331  0.859  0.262  0.025  0.100   0.8736154453
  76 -0.100  0.331  0.859  0.262  0.030  0.100   0.8736107509
  77 -0.100  0.331  0.859  0.262  0.044  0.100   0.8736075865
  84 -0.100  0.331  0.859  0.262  0.044  1.100   0.8719443019
  88 -0.100  0.331  0.859  0.262  0.044  0.718   0.8713514345
  91 -0.100  0.331  0.859  0.262  0.044  0.702   0.8713433522
  92 -0.100  0.331  0.859  0.262  0.044  0.703   0.8713428962
  93 -0.100  0.331  0.859  0.262  0.044  0.706   0.8713420318
  95 -0.100  0.331  0.859  0.262  0.044  0.708   0.8713417483
  96 -0.100  0.331  0.859  0.262  0.044  0.709   0.8713416825
  powell nthiter 1: fret = 0.871342
 104 -0.153  0.331  0.859  0.262  0.044  0.709   0.8713005206
 118 -0.153  0.713  0.859  0.262  0.044  0.709   0.8710562433
 119 -0.153  0.548  0.859  0.262  0.044  0.709   0.8707093241
 120 -0.153  0.547  0.859  0.262  0.044  0.709   0.8707076303
 122 -0.153  0.510  0.859  0.262  0.044  0.709   0.8706782099
 123 -0.153  0.511  0.859  0.262  0.044  0.709   0.8706778535
 124 -0.153  0.516  0.859  0.262  0.044  0.709   0.8706765191
 127 -0.153  0.518  0.859  0.262  0.044  0.709   0.8706763081
 136 -0.153  0.518  0.852  0.262  0.044  0.709   0.8706724866
 139 -0.153  0.518  0.848  0.262  0.044  0.709   0.8706701697
 151 -0.153  0.518  0.848  0.300  0.044  0.709   0.8705904672
 152 -0.153  0.518  0.848  0.309  0.044  0.709   0.8705884282
 153 -0.153  0.518  0.848  0.307  0.044  0.709   0.8705876979
 154 -0.153  0.518  0.848  0.306  0.044  0.709   0.8705874680
 164 -0.153  0.518  0.848  0.306  0.021  0.709   0.8705392536
 165 -0.153  0.518  0.848  0.306  0.009  0.709   0.8705250641
 175 -0.153  0.518  0.848  0.306  0.009  0.633   0.8705070815
 182 -0.153  0.518  0.848  0.306  0.009  0.628   0.8705065186
 183 -0.153  0.518  0.848  0.306  0.009  0.629   0.8705055604
 184 -0.153  0.518  0.848  0.306  0.009  0.630   0.8705046742
  powell nthiter 2: fret = 0.870505
 195 -0.151  0.518  0.848  0.306  0.009  0.630   0.8705045367
 205 -0.151  0.541  0.848  0.306  0.009  0.630   0.8704953479
 216 -0.151  0.541  0.829  0.306  0.009  0.630   0.8704811709
 217 -0.151  0.541  0.798  0.306  0.009  0.630   0.8704790561
 219 -0.151  0.541  0.811  0.306  0.009  0.630   0.8704756401
 220 -0.151  0.541  0.812  0.306  0.009  0.630   0.8704711936
 235 -0.151  0.541  0.812  0.304  0.009  0.630   0.8704711556
 237 -0.151  0.541  0.812  0.305  0.009  0.630   0.8704710438
 261 -0.151  0.541  0.812  0.305  0.009  0.645   0.8704710050
 265 -0.151  0.541  0.812  0.305  0.009  0.665   0.8704619356
 267 -0.151  0.541  0.812  0.305  0.009  0.662   0.8704612328
  powell nthiter 3: fret = 0.870461
 278 -0.148  0.541  0.812  0.305  0.009  0.662   0.8704511837
 281 -0.133  0.541  0.812  0.305  0.009  0.662   0.8704398140
 282 -0.138  0.541  0.812  0.305  0.009  0.662   0.8704337796
 283 -0.139  0.541  0.812  0.305  0.009  0.662   0.8704310722
 285 -0.140  0.541  0.812  0.305  0.009  0.662   0.8704288629
 297 -0.140  0.543  0.812  0.305  0.009  0.662   0.8704281515
 328 -0.140  0.543  0.812  0.305 -0.038  0.662   0.8704269473
  powell nthiter 4: fret = 0.870427
 359 -0.134  0.543  0.812  0.305 -0.038  0.663   0.8704240057
 364 -0.133  0.543  0.812  0.305 -0.038  0.663   0.8704207636
 373 -0.133  0.556  0.812  0.305 -0.038  0.663   0.8704134883
 376 -0.133  0.559  0.812  0.305 -0.038  0.663   0.8704130426
  powell nthiter 5: fret = 0.870413
 456 -0.133  0.559  0.812  0.305 -0.038  0.663   0.8704130379
 482 -0.133  0.560  0.812  0.306 -0.038  0.663   0.8704127853
  powell nthiter 6: fret = 0.870413
Powell done niters = 6
Computing relative cost
 0  -25.0 -25.0 -25.0   1.020497
 1  -25.0 -25.0  25.0   0.977248
 2  -25.0  25.0 -25.0   1.022247
 3  -25.0  25.0  25.0   1.001903
 4   25.0 -25.0 -25.0   1.024468
 5   25.0 -25.0  25.0   1.019659
 6   25.0  25.0 -25.0   0.986355
 7   25.0  25.0  25.0   1.014874
REL:  8  0.870413    8.067251  1.008406 rel = 0.863157 
Number of iterations     6
Min cost was 0.870413
Number of FunctionCalls   588
TolPowell 0.000000
nMaxItersPowell 36
OptimizationTime 41.324000 sec
Parameters at optimum (transmm) -0.13270  0.56049  0.81205
Parameters at optimum (rotdeg)  0.30551 -0.03825  0.66334 
Final costs ----------------
Number of surface hits 244845
WM  Intensity   396.2968 +/- 140.5413
Ctx Intensity   415.3482 +/- 154.4790
Pct Contrast      3.4991 +/-  32.7914
Cost   0.8704
RelCost   0.8730
Reg at min cost was 
-0.99654   0.07970   0.02378   2.31810;
 0.00804  -0.19233   0.98130  -22.87545;
-0.08278  -0.97809  -0.19102  -5.34106;
 0.00000   0.00000   0.00000   1.00000;

Writing optimal reg to register.dat, type = 14 
Original Reg 
-0.99643   0.07681   0.03501   2.17520;
 0.01914  -0.19845   0.97992  -23.49523;
-0.08222  -0.97710  -0.19627  -6.02937;
 0.00000   0.00000   0.00000   1.00000;

Original Reg - Optimal Reg
 0.00010  -0.00288   0.01123  -0.14290;
 0.01110  -0.00612  -0.00137  -0.61978;
 0.00056   0.00099  -0.00525  -0.68831;
 0.00000   0.00000   0.00000   0.00000;

Computing change in lh position
LH rmsDiffMean 1.222556
Computing change in rh position
Surface-RMS-Diff-mm 1.090287 0.258677 1.665734
mri_segreg done
MinCost: 0.870413 396.296817 415.348208 3.499097 
tkregister2_cmdl --mov biasmeanb0bet.nii.gz --reg register.dat --noedit --fslregout diff2FS.mat
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume biasmeanb0bet.nii.gz
reg file       register.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
---- Input registration matrix --------
-0.99654   0.07970   0.02378   2.31810;
 0.00804  -0.19233   0.98130  -22.87545;
-0.08278  -0.97809  -0.19102  -5.34106;
 0.00000   0.00000   0.00000   1.00000;
float2int = 0
---------------------------------------
INFO: loading target /working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/FS/Long/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable biasmeanb0bet.nii.gz
Tmov: --------------------
-2.00000   0.00000   0.00000   122.00000;
 0.00000   0.00000   2.00000  -70.00000;
 0.00000  -2.00000   0.00000   122.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 0, float2int = 0
---- Input registration matrix --------
-0.99654   0.07970   0.02378   2.31810;
 0.00804  -0.19233   0.98130  -22.87545;
-0.08278  -0.97809  -0.19102  -5.34106;
 0.00000   0.00000   0.00000   1.00000;
Determinant -1
subject = Long
RegMat ---------------------------
-0.99654   0.07970   0.02378   2.31810;
 0.00804  -0.19233   0.98130  -22.87545;
-0.08278  -0.97809  -0.19102  -5.34106;
 0.00000   0.00000   0.00000   1.00000;
FSLOUTPUTTYPE NIFTI_GZ 
tkreg2FSL: mov det = 8, ref det = -1
INFO: FSL2FreeSurfer: Mov volume is NIFTI with positive det,
      applying LR flip to registration matrix.
Cleaning up
 
Started at Tue Apr 4 21:49:15 AEST 2017 
Ended   at Tue Apr  4 21:50:37 AEST 2017
BBR-Run-Time-Sec 82
 
bbregister Done
To check results, run:
tkregisterfv --mov biasmeanb0bet.nii.gz --reg register.dat --surfs 
 
dwi2response: [03;32m[0m
dwi2response: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation. Please consult the help page (-help option) for more information.[0m
dwi2response: [03;32m[0m
dwi2response: [00;31m[WARNING] Output file wm.txt already exists; will be overwritten at script completion[0m
dwi2response: [00;31m[WARNING] Output file gm.txt already exists; will be overwritten at script completion[0m
dwi2response: [00;31m[WARNING] Output file csf.txt already exists; will be overwritten at script completion[0m
dwi2response: [03;32mGenerated temporary directory: /tmp/dwi2response-tmp-B5BQMN/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/biascorr.mif /tmp/dwi2response-tmp-B5BQMN/dwi.mif -stride 0,0,0,1
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/biasmeanb0bet_mask.nii.gz /tmp/dwi2response-tmp-B5BQMN/mask.mif -datatype bit
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc/r5TT.nii /tmp/dwi2response-tmp-B5BQMN/5tt.mif
dwi2response: [03;32mChanging to temporary directory (/tmp/dwi2response-tmp-B5BQMN/)[0m
[03;34mCommand:[0m dwi2tensor dwi.mif - -mask mask.mif | tensor2metric - -fa fa.mif -vector vector.mif
[03;34mCommand:[0m mrtransform 5tt.mif 5tt_regrid.mif -template fa.mif -interp linear
[03;34mCommand:[0m mrconvert 5tt_regrid.mif - -coord 3 2 -axes 0,1,2 | mrcalc - 0.95 -gt mask.mif -mult wm_mask.mif
[03;34mCommand:[0m mrconvert 5tt_regrid.mif - -coord 3 0 -axes 0,1,2 | mrcalc - 0.95 -gt fa.mif 0.2 -lt -mult mask.mif -mult gm_mask.mif
[03;34mCommand:[0m mrconvert 5tt_regrid.mif - -coord 3 3 -axes 0,1,2 | mrcalc - 0.95 -gt fa.mif 0.2 -lt -mult mask.mif -mult csf_mask.mif
dwi2response: [03;32mCalling dwi2response recursively to select WM single-fibre voxels using 'tournier' algorithm[0m
[03;34mCommand:[0m dwi2response tournier dwi.mif wm_ss_response.txt -mask wm_mask.mif -voxels wm_sf_mask.mif -quiet -tempdir /tmp/dwi2response-tmp-B5BQMN/
[03;34mCommand:[0m dwiextract dwi.mif -shell 0 dwi_b0.mif
[03;34mCommand:[0m amp2sh dwi_b0.mif - | sh2response - wm_sf_mask.mif dirs.mif wm_response_b0.txt
[03;34mCommand:[0m mrmath dwi_b0.mif mean dwi_b0_mean.mif -axis 3
[03;34mCommand:[0m dwiextract dwi.mif -shell 1000 dwi_b1000.mif
[03;34mCommand:[0m amp2sh dwi_b1000.mif - | sh2response - wm_sf_mask.mif dirs.mif wm_response_b1000.txt
[03;34mCommand:[0m mrmath dwi_b1000.mif mean dwi_b1000_mean.mif -axis 3
[03;34mCommand:[0m dwiextract dwi.mif -shell 2990 dwi_b2990.mif
[03;34mCommand:[0m amp2sh dwi_b2990.mif - | sh2response - wm_sf_mask.mif dirs.mif wm_response_b2990.txt
[03;34mCommand:[0m mrmath dwi_b2990.mif mean dwi_b2990_mean.mif -axis 3
[03;34mCommand:[0m mrcat csf_mask.mif gm_mask.mif wm_sf_mask.mif voxels.mif -axis 3
dwi2response: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/diffusion-testing/Keiran/PBS/Diff/Long/preproc)[0m
dwi2response: [03;32mDeleting temporary directory /tmp/dwi2response-tmp-B5BQMN/[0m
