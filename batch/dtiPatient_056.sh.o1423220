dwipreproc_cust: [03;32m[0m
dwipreproc_cust: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
dwipreproc_cust: [03;32m[0m
dwipreproc_cust: [03;32mGenerated temporary directory: /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_056/preproc/dwipreproc_cust-tmp-G6Y79M/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_056/preproc/rawdataAPdn.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_056/preproc/dwipreproc_cust-tmp-G6Y79M/series.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_056/preproc/AP7b0s.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_056/preproc/dwipreproc_cust-tmp-G6Y79M/pair1.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_056/preproc/rawdataPAdn.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_056/preproc/dwipreproc_cust-tmp-G6Y79M/pair2.mif
dwipreproc_cust: [03;32mChanging to temporary directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_056/preproc/dwipreproc_cust-tmp-G6Y79M/)[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 103[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -dwgrad' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult:           0           0           0           0
          0           0           0           0
          0           0           0           0
          1     2.2e-07 -0.00066979        3000
 -0.0258336   -0.746788     0.66456        3000
  0.0033389    0.520742   -0.853707        3000
  -0.271937    0.829999    0.486982        3000
    0.65149    0.407856    0.639698        3000
  -0.507798    0.264176   -0.819971        3000
   -0.95865    0.283263  -0.0274389        3000
  -0.534778    0.383813    0.752795        3000
   0.317072    0.136192    0.938572        3000
          0           0           0           0
  -0.505119    -0.59335     0.62673        3000
  -0.601162   0.0980875    0.793085        3000
   0.954086   -0.158331    0.254265        3000
   0.526988   -0.744789   -0.409357        3000
  -0.193337   -0.926291   -0.323428        3000
   0.364048    0.926497   0.0952458        3000
  -0.258274    0.931773   -0.255135        3000
 -0.0227178     0.51329    0.857915        3000
   0.612775    0.789548    0.033486        3000
          0           0           0           0
  -0.873511   0.0401765   -0.485143        3000
   0.744503   -0.233301   -0.625528        3000
  -0.487142    0.679067   -0.549146        3000
   0.450122   -0.891746   0.0466743        3000
   0.662433    -0.43391    0.610659        3000
   0.853875    0.240107    0.461787        3000
   0.438766   -0.508836    0.740656        3000
  -0.957958   -0.142198    0.249191        3000
   0.702918    -0.59689    0.386818        3000
          0           0           0           0
   0.387727   -0.183332   -0.903359        3000
  -0.142625   -0.683939   -0.715462        3000
   0.801075   -0.597934  -0.0274346        3000
   0.288495   -0.139515    0.947262        3000
  -0.963286   -0.131405    -0.23412        3000
   0.150668   -0.698943   -0.699127        3000
  0.0162012   -0.983574    0.179778        3000
   0.376074   -0.898492   -0.226454        3000
  -0.667053    0.730338   -0.147127        3000
          0           0           0           0
    0.29081   -0.468729     -0.8341        3000
   0.722416   -0.165795    0.671287        3000
  -0.715981    -0.66061   -0.225755        3000
  -0.428326   -0.583833   -0.689693        3000
  -0.958144   -0.285358   0.0230645        3000
  -0.493537   -0.299444   -0.816551        3000
   0.893868    0.400792    0.200912        3000
  -0.202672    0.978831   0.0285381        3000
   0.230369    0.966805   -0.110533        3000
          0           0           0           0
  -0.738667    0.602347    0.302569        3000
  -0.843963    0.339167    0.415562        3000
  -0.104888   -0.287389   -0.952054        3000
  -0.239046    0.402068   -0.883854        3000
  -0.612343    0.779741     0.13054        3000
   0.266617    0.460192     0.84684        3000
   0.658208   -0.515862   -0.548315        3000
  -0.256575    -0.89662    0.360889        3000
   0.248881   -0.822279    0.511776        3000
          0           0           0           0
   0.572291    0.661192    0.485085        3000
  0.0218363      -0.251    0.967741        3000
   0.224863    0.323532    -0.91911        3000
  -0.837313    0.325467   -0.439293        3000
  -0.860195    0.467556   -0.203609        3000
   0.486936   -0.811578    0.322855        3000
  -0.106147    0.948364    0.298896        3000
   0.542993   0.0130566    0.839636        3000
  -0.250607   -0.579086    0.775794        3000
          0           0           0           0
  -0.229358  -0.0474554    0.972185        3000
  -0.215351    0.655453   -0.723882        3000
   0.961676   -0.148304   -0.230621        3000
    0.31094    0.790824    0.527176        3000
   -0.87036   -0.431642     0.23698        3000
    0.84572    0.266836   -0.462121        3000
   0.893873   -0.414164   -0.171634        3000
  -0.702844   -0.679874    0.209242        3000
  -0.667189   -0.353489    0.655671        3000
          0           0           0           0
   0.516779    0.751323   -0.410431        3000
  -0.720548   -0.137292   -0.679677        3000
 -0.0407745  -0.0182052   -0.999003        2950
   0.825902    0.563801 -0.00379701        3000
   0.453579     0.38845   -0.802105        3000
  -0.880598   0.0321655    0.472771        3000
  -0.148271    0.249396    0.956984        3000
  -0.767659   -0.486471   -0.417187        3000
  -0.479946   -0.136628    0.866594        3000
          0           0           0           0
   0.717678    0.535117   -0.445631        3000
  -0.481382   -0.823883   -0.299146        3000
    0.28204     0.76399   -0.580321        3000
  0.0178838    0.849016    0.528064        3000
 -0.0653351   -0.993504  -0.0931743        3000
  -0.421186    0.636274    0.646342        3000
   0.734399    0.100624   -0.671217        3000
 0.00044652    0.898129   -0.439733        3000
  -0.475332   -0.863015     0.17107        3000
          0           0           0           0[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -stride' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 1 2 3 4[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair1.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair2.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
[03;34mCommand:[0m mrconvert series.mif dwi_pre_topup.nii -stride -1,+2,+3,+4
[03;34mCommand:[0m mrcat pair1.mif pair2.mif - -axis 3 | mrconvert - topup_in.nii -stride -1,+2,+3,+4
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair1.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair2.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
dwipreproc_cust: [03;32mCreating phase-encoding configuration file[0m
[03;34mCommand:[0m topup --imain=topup_in.nii --datain=config.txt --out=field --fout=field_map.nii.gz --config=/software/fsl/fsl-5.0.9_eddy/fsl/etc/flirtsch/b02b0.cnf
[03;34mCommand:[0m applytopup --imain=dwi_pre_topup.nii --datain=config.txt --inindex=1 --topup=field --out=dwi_post_topup.nii.gz --method=jac
[03;34mCommand:[0m mrconvert series.mif - -stride -1,+2,+3,+4 | mrinfo - -export_grad_fsl bvecs bvals
[03;34mCommand:[0m mrconvert dwi_post_topup.nii.gz -fslgrad bvecs bvals - | dwi2mask - - | maskfilter - dilate - | mrconvert - mask.nii -datatype float32 -stride -1,+2,+3
[03;34mCommand:[0m eddy_openmp --imain=dwi_pre_topup.nii --mask=mask.nii --index=indices.txt --acqp=config.txt --bvecs=bvecs --bvals=bvals --repol --topup=field --out=dwi_post_eddy
[03;34mCommand:[0m mrconvert dwi_post_eddy.nii.gz result.mif -stride 1,2,3,4 -fslgrad dwi_post_eddy.eddy_rotated_bvecs bvals
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_056/preproc/eddycorr.mif -export_grad_mrtrix /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_056/preproc/adjencoding.b
dwipreproc_cust: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_056/preproc)[0m
dwipreproc_cust: [03;32mDeleting temporary directory /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_056/preproc/dwipreproc_cust-tmp-G6Y79M/[0m
dwibiascorrect: [03;32m[0m
dwibiascorrect: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
dwibiascorrect: [03;32m[0m
dwibiascorrect: [03;32mGenerated temporary directory: /tmp/dwibiascorrect-tmp-Z3DQFY/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_056/preproc/eddycorr.mif /tmp/dwibiascorrect-tmp-Z3DQFY/in.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_056/preproc/eddymeanb0bet_mask.nii.gz /tmp/dwibiascorrect-tmp-Z3DQFY/mask.mif
dwibiascorrect: [03;32mChanging to temporary directory (/tmp/dwibiascorrect-tmp-Z3DQFY/)[0m
[03;34mCommand:[0m dwiextract in.mif - -bzero | mrmath - mean mean_bzero.mif -axis 3
[03;34mCommand:[0m mrcalc mean_bzero.mif mask.mif -mult - | mrconvert - mean_bzero_masked.nii -stride -1,+2,+3
[03;34mCommand:[0m fast -t 2 -o fast -n 3 -b mean_bzero_masked.nii
[03;34mCommand:[0m mrcalc in.mif fast_bias.nii.gz -div result.mif
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_056/preproc/biascorr.mif
dwibiascorrect: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_056/preproc)[0m
dwibiascorrect: [03;32mDeleting temporary directory /tmp/dwibiascorrect-tmp-Z3DQFY/[0m
Extracting mean of the b=0 shell.
Extracting mean of the b=2999.44 shell.
Extracting mean of the b=0 shell.
Extracting mean of the b=2999.44 shell.
36998
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mGenerated temporary directory: /tmp/labelsgmfix-tmp-BMX5QZ/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_056/preproc/parctempstr.nii /tmp/labelsgmfix-tmp-BMX5QZ/parc.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_056/preproc/brainFS.nii /tmp/labelsgmfix-tmp-BMX5QZ/T1.nii -stride -1,+2,+3
labelsgmfix: [03;32mChanging to temporary directory (/tmp/labelsgmfix-tmp-BMX5QZ/)[0m
[03;34mCommand:[0m run_first_all -s R_Thal,L_Puta,R_Caud,R_Hipp,L_Amyg,R_Pall,R_Amyg,L_Caud,L_Pall,L_Thal,L_Hipp,R_Accu,L_Accu,R_Puta -i T1.nii -b -o first
[03;34mCommand:[0m mrcalc parc.mif 0 -min sgm.mif
[03;34mCommand:[0m meshconvert first-R_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Thal_mask.mif 6 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Puta_mask.mif 3 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Caud_mask.mif 7 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Hipp_mask.mif 13 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Amyg_mask.mif 12 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Pall_mask.mif 9 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Amyg_mask.mif 14 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Caud_mask.mif 2 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Pall_mask.mif 4 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Thal_mask.mif 1 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Hipp_mask.mif 11 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Accu_mask.mif 10 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Accu_mask.mif 5 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Puta_mask.mif 8 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m mrmath R_Thal_mask.mif L_Puta_mask.mif R_Caud_mask.mif R_Hipp_mask.mif L_Amyg_mask.mif R_Pall_mask.mif R_Amyg_mask.mif L_Caud_mask.mif L_Pall_mask.mif L_Thal_mask.mif L_Hipp_mask.mif R_Accu_mask.mif L_Accu_mask.mif R_Puta_mask.mif sum - | mrcalc - 1 -gt sgm_overlap_mask.mif
[03;34mCommand:[0m mrcalc sgm_overlap_mask.mif 0 sgm.mif -if sgm_masked.mif
[03;34mCommand:[0m labelconvert sgm_masked.mif /software/mrtrix3/mrtrix3-AP/scripts/data/FreeSurferSGM.txt /software/mrtrix3/mrtrix3-AP/src/connectome/tables/fs_a2009s.txt sgm_new_labels.mif
[03;34mCommand:[0m mrcalc parc.mif 83 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 78 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 84 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 87 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 81 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 86 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 88 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 77 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 79 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 76 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 80 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 89 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 82 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 85 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc sgm_new_labels.mif 0.5 -gt sgm_new_labels.mif parc.mif -if result.mif -datatype uint32
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_056/preproc/parc_fixsubcort.nii
labelsgmfix: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_056/preproc)[0m
labelsgmfix: [03;32mDeleting temporary directory /tmp/labelsgmfix-tmp-BMX5QZ/[0m
tmp ./tmp.bbregister.25994
Log file is register.dat.log
Sat Mar 18 07:06:52 AEST 2017

setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/Park/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_056/preproc
/software/freesurfer/freesurfer-6.0.0/bin/bbregister --s Patient_056 --mov biasmeanb0bet.nii.gz --init-fsl --reg register.dat --dti --fslmat diff2FS.mat

$Id: bbregister,v 1.75 2016/05/10 20:02:28 greve Exp $
Linux hpcnode038.adqimr.ad.lan 3.10.0-327.3.1.el7.x86_64 #1 SMP Wed Dec 9 14:09:15 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
FREESURFER_HOME /software/freesurfer/freesurfer-6.0.0
mri_convert biasmeanb0bet.nii.gz ./tmp.bbregister.25994/template.nii
mri_convert.bin biasmeanb0bet.nii.gz ./tmp.bbregister.25994/template.nii 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from biasmeanb0bet.nii.gz...
TR=1000.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (0.99785, -0.0415288, -0.0507034)
j_ras = (0.0402522, 0.998853, -0.0259442)
k_ras = (0.0517227, 0.0238475, 0.998377)
writing to ./tmp.bbregister.25994/template.nii...
fslregister --s Patient_056 --mov ./tmp.bbregister.25994/template.nii --reg ./tmp.bbregister.25994/reg.init.dat --niters 1 --maxangle 90 --tmp ./tmp.bbregister.25994/fslregister --dof 6 --fsvol brainmask.mgz --nobetmov

Log file is ./tmp.bbregister.25994/reg.init.dat.fslregister.log

Sat Mar 18 07:06:52 AEST 2017
--s Patient_056 --mov ./tmp.bbregister.25994/template.nii --reg ./tmp.bbregister.25994/reg.init.dat --niters 1 --maxangle 90 --tmp ./tmp.bbregister.25994/fslregister --dof 6 --fsvol brainmask.mgz --nobetmov
$Id: fslregister,v 1.40 2016/02/12 21:43:15 zkaufman Exp $
hpcnode038.adqimr.ad.lan
Linux hpcnode038.adqimr.ad.lan 3.10.0-327.3.1.el7.x86_64 #1 SMP Wed Dec 9 14:09:15 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
nIters 1
--------------------------------------
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_056/preproc
mri_convert /working/lab_michaebr/alistaiP/Park/FS/Patient_056/mri/brainmask.mgz ./tmp.bbregister.25994/fslregister/refvol.fslregister.nii
mri_convert.bin /working/lab_michaebr/alistaiP/Park/FS/Patient_056/mri/brainmask.mgz ./tmp.bbregister.25994/fslregister/refvol.fslregister.nii 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from /working/lab_michaebr/alistaiP/Park/FS/Patient_056/mri/brainmask.mgz...
TR=0.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (-1, 1.16415e-10, 3.72529e-09)
j_ras = (0, 0, -1)
k_ras = (-1.16415e-10, 1, 1.86265e-09)
writing to ./tmp.bbregister.25994/fslregister/refvol.fslregister.nii...
--------------------------------------
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_056/preproc
mri_convert ./tmp.bbregister.25994/template.nii ./tmp.bbregister.25994/fslregister/movvol.fslregister.nii --frame 0
mri_convert.bin ./tmp.bbregister.25994/template.nii ./tmp.bbregister.25994/fslregister/movvol.fslregister.nii --frame 0 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from ./tmp.bbregister.25994/template.nii...
TR=1000.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (0.99785, -0.0415288, -0.0507034)
j_ras = (0.0402522, 0.998853, -0.0259442)
k_ras = (0.0517227, 0.0238475, 0.998377)
keeping frame 0
writing to ./tmp.bbregister.25994/fslregister/movvol.fslregister.nii...
Mov determinant is 5.02197
Swapping dims for pos det
WARNING:: Flipping Left/Right orientation (as det < 0)
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
target  volume ./tmp.bbregister.25994/fslregister/movvol.fslregister.nii
movable volume ./tmp.bbregister.25994/template.nii
reg file       ./tmp.bbregister.25994/fslregister/swapreg.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target ./tmp.bbregister.25994/fslregister/movvol.fslregister.nii
INFO: target does not conform to COR format, so I'm going to
reslice to COR. This will not affect the final registration.
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.25994/template.nii
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 1, float2int = 0
Computing reg from header (and possibly input matrix)
---- Input registration matrix (computed) --------
-0.99785   0.04153   0.05070   1.71876;
 0.05172   0.02385   0.99838   0.00002;
-0.04025  -0.99885   0.02594  -0.00002;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
-0.99785   0.04153   0.05070   1.71876;
 0.05172   0.02385   0.99838   0.00002;
-0.04025  -0.99885   0.02594  -0.00002;
 0.00000   0.00000   0.00000   1.00000;
Determinant -1
subject = subject-unknown
RegMat ---------------------------
-1.00000  -0.00000  -0.00000   1.71876;
 0.00000   1.00000  -0.00000   0.00002;
 0.00000  -0.00000   1.00000  -0.00002;
 0.00000   0.00000   0.00000   1.00000;
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_056/preproc
tkregister2_cmdl --mov ./tmp.bbregister.25994/fslregister/movvol.fslregister.nii --reg ./tmp.bbregister.25994/fslregister/reg0.26082.dat --regheader --fslregout ./tmp.bbregister.25994/reg.init.dat.fsl.mat0 --s Patient_056 --noedit
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume ./tmp.bbregister.25994/fslregister/movvol.fslregister.nii
reg file       ./tmp.bbregister.25994/fslregister/reg0.26082.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target /working/lab_michaebr/alistaiP/Park/FS/Patient_056/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.25994/fslregister/movvol.fslregister.nii
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 1, float2int = 0
Computing reg from header (and possibly input matrix)
---- Input registration matrix (computed) --------
 0.99785  -0.04153  -0.05070   1.07819;
 0.05172   0.02385   0.99838  -4.72395;
-0.04025  -0.99885   0.02594  -2.95868;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
 0.99785  -0.04153  -0.05070   1.07819;
 0.05172   0.02385   0.99838  -4.72395;
-0.04025  -0.99885   0.02594  -2.95868;
 0.00000   0.00000   0.00000   1.00000;
Determinant 1
subject = Patient_056
RegMat ---------------------------
 0.99785  -0.04153  -0.05070   1.07819;
 0.05172   0.02385   0.99838  -4.72395;
-0.04025  -0.99885   0.02594  -2.95868;
 0.00000   0.00000   0.00000   1.00000;
FSLOUTPUTTYPE NIFTI 
tkreg2FSL: mov det = -5.02197, ref det = -1
Sat Mar 18 07:06:55 AEST 2017
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_056/preproc
flirt.fsl -ref ./tmp.bbregister.25994/fslregister/refvol.fslregister.nii -in ./tmp.bbregister.25994/fslregister/movvol.fslregister.nii -bins 256 -cost corratio -dof 6 -searchrx -90 90 -searchry -90 90 -searchrz -90 90 -verbose 0 -omat ./tmp.bbregister.25994/fslregister/fslmat0.trans.mat -schedule /software/freesurfer/freesurfer-6.0.0/bin/fsl.5.0.2.xyztrans.sch -init ./tmp.bbregister.25994/reg.init.dat.fsl.mat0
Sat Mar 18 07:07:29 AEST 2017
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_056/preproc
flirt.fsl -ref ./tmp.bbregister.25994/fslregister/refvol.fslregister.nii -in ./tmp.bbregister.25994/fslregister/movvol.fslregister.nii -bins 256 -cost corratio -dof 6 -searchrx -90 90 -searchry -90 90 -searchrz -90 90 -verbose 0 -omat ./tmp.bbregister.25994/reg.init.dat.fsl.mat -init ./tmp.bbregister.25994/fslregister/fslmat0.trans.mat -schedule /software/freesurfer/freesurfer-6.0.0/bin/flirt.newdefault.20080811.sch
tkregister2_cmdl --s Patient_056 --mov ./tmp.bbregister.25994/fslregister/movvol.fslregister.nii --reg ./tmp.bbregister.25994/reg.init.dat --fslreg ./tmp.bbregister.25994/reg.init.dat.fsl.mat --noedit
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
---- FSL registration matrix --------
 0.99736  -0.04391  -0.05788   28.66750;
-0.05526   0.05860  -0.99675   204.17300;
 0.04715   0.99732   0.05601   9.30794;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume ./tmp.bbregister.25994/fslregister/movvol.fslregister.nii
reg file       ./tmp.bbregister.25994/reg.init.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target /working/lab_michaebr/alistaiP/Park/FS/Patient_056/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.25994/fslregister/movvol.fslregister.nii
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 0, float2int = 0
FSLOUTPUTTYPE NIFTI 
fsl2TkReg: mov det = -5.02197, ref det = -1
---- Input registration matrix (computed) --------
 0.99736  -0.04715  -0.05526   1.12360;
 0.05788   0.05601   0.99675   0.32481;
-0.04391  -0.99732   0.05860   0.45117;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
 0.99736  -0.04715  -0.05526   1.12360;
 0.05788   0.05601   0.99675   0.32481;
-0.04391  -0.99732   0.05860   0.45117;
 0.00000   0.00000   0.00000   1.00000;
Determinant 0.999999
subject = Patient_056
RegMat ---------------------------
 0.99736  -0.04715  -0.05526   1.12360;
 0.05788   0.05601   0.99675   0.32481;
-0.04391  -0.99732   0.05860   0.45117;
 0.00000   0.00000   0.00000   1.00000;
mri_matrix_multiply -im ./tmp.bbregister.25994/fslregister/swapreg.dat -im ./tmp.bbregister.25994/reg.init.dat -om ./tmp.bbregister.25994/reg.init.dat
(standard_in) 1: illegal character: P
 
Started at Sat Mar 18 07:06:53 AEST 2017 
Ended   at Sat Mar 18 07:08:47 AEST 2017
 
fslregister Done
 
To check results, run:
tkregister2 --mov ./tmp.bbregister.25994/template.nii --reg ./tmp.bbregister.25994/reg.init.dat --surf orig
 
mri_segreg --mov ./tmp.bbregister.25994/template.nii --init-reg ./tmp.bbregister.25994/reg.init.dat --out-reg ./tmp.bbregister.25994/bbr.pass1.dat --subsamp-brute 100 --subsamp 100 --tol 1e-4 --tol1d 1e-3 --brute -4 4 4 --surf white --gm-proj-frac 0.5 --gm-gt-wm 0.5
$Id: mri_segreg.c,v 1.113 2016/05/10 03:23:20 greve Exp $
setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/Park/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_056/preproc
mri_segreg --mov ./tmp.bbregister.25994/template.nii --init-reg ./tmp.bbregister.25994/reg.init.dat --out-reg ./tmp.bbregister.25994/bbr.pass1.dat --subsamp-brute 100 --subsamp 100 --tol 1e-4 --tol1d 1e-3 --brute -4 4 4 --surf white --gm-proj-frac 0.5 --gm-gt-wm 0.5 
sysname  Linux
hostname hpcnode038.adqimr.ad.lan
machine  x86_64
user     alistaiP
movvol ./tmp.bbregister.25994/template.nii
regfile ./tmp.bbregister.25994/reg.init.dat
subject Patient_056
dof 6
outregfile ./tmp.bbregister.25994/bbr.pass1.dat
UseMask 0
UseLH 1
UseRH 1
nsubsamp 100
PenaltySign  -1
PenaltySlope 0.500000
PenaltyCenter 0.000000
surfname white
GMProjFrac 0.500000
WMProjAbs 2.000000
lhcostfile (null)
rhcostfile (null)
interp  trilinear (1)
frame  0
TolPowell 0.000100
nMaxItersPowell 36
n1dmin  3
Profile   0
Gdiag_no  -1
AddNoise  0 (0)
SynthSeed 1489790013
TransRandMax 0.000000
RotRandMax 0.000000
Translations 0.000000 0.000000 0.000000
Rotations   0.000000 0.000000 0.000000
Input reg
-0.99736   0.04715   0.05526   0.59515;
 0.05788   0.05601   0.99675   0.32483;
-0.04391  -0.99732   0.05860   0.45115;
 0.00000   0.00000   0.00000   1.00000;

Loading mov
Projecting LH Surfs
Loading lh.white surf
Loading lh.thickness for GM
GM Proj: 1 0.500000 2.000000
WM Proj: 0 0.500000 2.000000
Projecting RH Surfs
Loading rh.white surf
Loading rh.thickness for GM
Projecting RH Surfs
Using lh.cortex.label
Using rh.cortex.label
Computing relative cost
 0  -25.0 -25.0 -25.0   1.017560
 1  -25.0 -25.0  25.0   0.976429
 2  -25.0  25.0 -25.0   0.994309
 3  -25.0  25.0  25.0   1.011187
 4   25.0 -25.0 -25.0   0.966583
 5   25.0 -25.0  25.0   0.986161
 6   25.0  25.0 -25.0   0.967482
 7   25.0  25.0  25.0   0.989922
REL:  8  0.325704    7.909632  0.988704 rel = 0.329425 
Initial costs ----------------
Number of surface hits 2523
WM  Intensity   379.1671 +/-  91.6858
Ctx Intensity   553.1461 +/- 214.9660
Pct Contrast     31.9259 +/-  37.4900
Cost   0.3257
RelCost   0.3294

------------------------------------
Brute force preopt -4 4 4, n = 729
     0  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000      0.9080   0.9080  0.0
     7  -4.0000  -4.0000  -4.0000  -4.0000   4.0000   0.0000      0.8724   0.8724  0.0
    15  -4.0000  -4.0000  -4.0000   0.0000   4.0000  -4.0000      0.8537   0.8537  0.0
    16  -4.0000  -4.0000  -4.0000   0.0000   4.0000   0.0000      0.8453   0.8453  0.0
    19  -4.0000  -4.0000  -4.0000   4.0000  -4.0000   0.0000      0.8321   0.8321  0.0
    39  -4.0000  -4.0000   0.0000   0.0000   0.0000  -4.0000      0.7853   0.7853  0.0
   106  -4.0000   0.0000  -4.0000   4.0000   4.0000   0.0000      0.7806   0.7806  0.0
   120  -4.0000   0.0000   0.0000   0.0000   0.0000  -4.0000      0.7290   0.7290  0.0
   265   0.0000  -4.0000  -4.0000   4.0000   0.0000   0.0000      0.7270   0.7270  0.0
   274   0.0000  -4.0000   0.0000  -4.0000   0.0000   0.0000      0.6562   0.6562  0.0
   283   0.0000  -4.0000   0.0000   0.0000   0.0000   0.0000      0.5589   0.5589  0.0
   364   0.0000   0.0000   0.0000   0.0000   0.0000   0.0000      0.3257   0.3257  0.0
Brute Force --------------------------
Min cost was 0.325704
Number of iterations   729
Search time 2.932000 sec
Parameters at best (transmm, rotdeg)
  0.000   0.000   0.000  0.000  0.000  0.000 
--------------------------------------------

Starting Powell Minimization
Init Powel Params dof = 6
0 0
1 0
2 0
3 0
4 0
5 0
fs_powell::minimize
  nparams 6
  maxfev 36
  ftol   0.000100
  linmin_xtol_   0.001000
  powell nthiter 0: fret = 0.325704
   6  0.382  0.000  0.000  0.000  0.000  0.000   0.3232136763
   8  0.236  0.000  0.000  0.000  0.000  0.000   0.3228470292
   9  0.276  0.000  0.000  0.000  0.000  0.000   0.3223053094
  10  0.301  0.000  0.000  0.000  0.000  0.000   0.3220643103
  13  0.302  0.000  0.000  0.000  0.000  0.000   0.3220640140
  17  0.302 -1.618  0.000  0.000  0.000  0.000   0.1666326855
  23  0.302 -1.599  0.000  0.000  0.000  0.000   0.1663601061
  25  0.302 -1.557  0.000  0.000  0.000  0.000   0.1660948133
  27  0.302 -1.568  0.000  0.000  0.000  0.000   0.1660239885
  29  0.302 -1.570  0.000  0.000  0.000  0.000   0.1660195146
  30  0.302 -1.571  0.000  0.000  0.000  0.000   0.1660189835
  37  0.302 -1.571  0.382  0.000  0.000  0.000   0.1622163788
  39  0.302 -1.571  0.618  0.000  0.000  0.000   0.1586523406
  41  0.302 -1.571  0.587  0.000  0.000  0.000   0.1582795006
  42  0.302 -1.571  0.509  0.000  0.000  0.000   0.1579472712
  43  0.302 -1.571  0.517  0.000  0.000  0.000   0.1577916976
  44  0.302 -1.571  0.541  0.000  0.000  0.000   0.1576545998
  45  0.302 -1.571  0.537  0.000  0.000  0.000   0.1576373923
  48  0.302 -1.571  0.536  0.000  0.000  0.000   0.1576366610
  55  0.302 -1.571  0.536 -0.130  0.000  0.000   0.1567295805
  58  0.302 -1.571  0.536 -0.201  0.000  0.000   0.1562446271
  59  0.302 -1.571  0.536 -0.197  0.000  0.000   0.1561693488
  60  0.302 -1.571  0.536 -0.175  0.000  0.000   0.1560090388
  62  0.302 -1.571  0.536 -0.179  0.000  0.000   0.1559982158
  71  0.302 -1.571  0.536 -0.179 -0.087  0.000   0.1531161798
  73  0.302 -1.571  0.536 -0.179 -0.179  0.000   0.1522282514
  74  0.302 -1.571  0.536 -0.179 -0.177  0.000   0.1522230022
  76  0.302 -1.571  0.536 -0.179 -0.172  0.000   0.1522129364
  77  0.302 -1.571  0.536 -0.179 -0.171  0.000   0.1522128397
  80  0.302 -1.571  0.536 -0.179 -0.171  1.000   0.0909343364
  87  0.302 -1.571  0.536 -0.179 -0.171  1.035   0.0906271471
  89  0.302 -1.571  0.536 -0.179 -0.171  1.023   0.0905331084
  91  0.302 -1.571  0.536 -0.179 -0.171  1.025   0.0905278834
  92  0.302 -1.571  0.536 -0.179 -0.171  1.026   0.0905276674
  powell nthiter 1: fret = 0.090528
 104  0.311 -1.571  0.536 -0.179 -0.171  1.026   0.0904965280
 105  0.309 -1.571  0.536 -0.179 -0.171  1.026   0.0904888288
 106  0.308 -1.571  0.536 -0.179 -0.171  1.026   0.0904875334
 114  0.308 -1.669  0.536 -0.179 -0.171  1.026   0.0902833951
 115  0.308 -1.627  0.536 -0.179 -0.171  1.026   0.0892966492
 116  0.308 -1.622  0.536 -0.179 -0.171  1.026   0.0892912739
 117  0.308 -1.623  0.536 -0.179 -0.171  1.026   0.0892902331
 126  0.308 -1.623  0.506 -0.179 -0.171  1.026   0.0892777191
 127  0.308 -1.623  0.516 -0.179 -0.171  1.026   0.0892637321
 128  0.308 -1.623  0.519 -0.179 -0.171  1.026   0.0892624933
 129  0.308 -1.623  0.520 -0.179 -0.171  1.026   0.0892622658
 137  0.308 -1.623  0.520 -0.154 -0.171  1.026   0.0892088677
 138  0.308 -1.623  0.520 -0.158 -0.171  1.026   0.0891871519
 139  0.308 -1.623  0.520 -0.163 -0.171  1.026   0.0891782537
 151  0.308 -1.623  0.520 -0.163 -0.124  1.026   0.0886567949
 153  0.308 -1.623  0.520 -0.163 -0.137  1.026   0.0885810607
 154  0.308 -1.623  0.520 -0.163 -0.136  1.026   0.0885801364
 163  0.308 -1.623  0.520 -0.163 -0.136  1.068   0.0885071551
 164  0.308 -1.623  0.520 -0.163 -0.136  1.051   0.0883892386
 165  0.308 -1.623  0.520 -0.163 -0.136  1.049   0.0883816525
 166  0.308 -1.623  0.520 -0.163 -0.136  1.040   0.0883665538
 167  0.308 -1.623  0.520 -0.163 -0.136  1.042   0.0883631675
  powell nthiter 2: fret = 0.088363
 179  0.294 -1.623  0.520 -0.163 -0.136  1.042   0.0883457408
 181  0.299 -1.623  0.520 -0.163 -0.136  1.042   0.0883344646
 182  0.300 -1.623  0.520 -0.163 -0.136  1.042   0.0883338093
 192  0.300 -1.619  0.520 -0.163 -0.136  1.042   0.0883251139
 193  0.300 -1.618  0.520 -0.163 -0.136  1.042   0.0883243539
 194  0.300 -1.617  0.520 -0.163 -0.136  1.042   0.0883241040
 202  0.300 -1.617  0.368 -0.163 -0.136  1.042   0.0880835526
 210  0.300 -1.617  0.372 -0.163 -0.136  1.042   0.0880800658
 212  0.300 -1.617  0.371 -0.163 -0.136  1.042   0.0880794105
 224  0.300 -1.617  0.371 -0.165 -0.136  1.042   0.0880737064
 225  0.300 -1.617  0.371 -0.166 -0.136  1.042   0.0880730553
 234  0.300 -1.617  0.371 -0.166 -0.121  1.042   0.0878573810
 235  0.300 -1.617  0.371 -0.166 -0.087  1.042   0.0874811871
 238  0.300 -1.617  0.371 -0.166 -0.086  1.042   0.0874799861
 239  0.300 -1.617  0.371 -0.166 -0.085  1.042   0.0874792416
 248  0.300 -1.617  0.371 -0.166 -0.085  1.097   0.0867678929
 249  0.300 -1.617  0.371 -0.166 -0.085  1.108   0.0867551506
 250  0.300 -1.617  0.371 -0.166 -0.085  1.105   0.0867530846
 251  0.300 -1.617  0.371 -0.166 -0.085  1.104   0.0867530383
  powell nthiter 3: fret = 0.086753
 260  0.249 -1.617  0.371 -0.166 -0.085  1.104   0.0865392624
 261  0.258 -1.617  0.371 -0.166 -0.085  1.104   0.0865243481
 272  0.258 -1.632  0.371 -0.166 -0.085  1.104   0.0863525597
 273  0.258 -1.638  0.371 -0.166 -0.085  1.104   0.0863432864
 274  0.258 -1.637  0.371 -0.166 -0.085  1.104   0.0863421957
 284  0.258 -1.637  0.393 -0.166 -0.085  1.104   0.0862298476
 285  0.258 -1.637  0.390 -0.166 -0.085  1.104   0.0862172186
 286  0.258 -1.637  0.388 -0.166 -0.085  1.104   0.0862159724
 288  0.258 -1.637  0.389 -0.166 -0.085  1.104   0.0862159222
 298  0.258 -1.637  0.389 -0.171 -0.085  1.104   0.0861936221
 299  0.258 -1.637  0.389 -0.173 -0.085  1.104   0.0861924273
 308  0.258 -1.637  0.389 -0.173 -0.002  1.104   0.0853162352
 312  0.258 -1.637  0.389 -0.173  0.013  1.104   0.0852806463
 313  0.258 -1.637  0.389 -0.173  0.007  1.104   0.0852154209
 326  0.258 -1.637  0.389 -0.173  0.007  1.084   0.0851078125
 327  0.258 -1.637  0.389 -0.173  0.007  1.088   0.0850805934
 328  0.258 -1.637  0.389 -0.173  0.007  1.091   0.0850760489
 329  0.258 -1.637  0.389 -0.173  0.007  1.090   0.0850756562
  powell nthiter 4: fret = 0.085076
 338  0.236 -1.637  0.389 -0.173  0.007  1.090   0.0847869678
 340  0.240 -1.637  0.389 -0.173  0.007  1.090   0.0847669658
 341  0.242 -1.637  0.389 -0.173  0.007  1.090   0.0847657859
 343  0.241 -1.637  0.389 -0.173  0.007  1.090   0.0847649223
 352  0.241 -1.617  0.389 -0.173  0.007  1.090   0.0844934259
 353  0.241 -1.614  0.389 -0.173  0.007  1.090   0.0844891249
 354  0.241 -1.613  0.389 -0.173  0.007  1.090   0.0844887578
 364  0.241 -1.613  0.393 -0.173  0.007  1.090   0.0844814338
 365  0.241 -1.613  0.394 -0.173  0.007  1.090   0.0844814021
 376  0.241 -1.613  0.394 -0.178  0.007  1.090   0.0844709289
 387  0.241 -1.613  0.394 -0.178  0.008  1.090   0.0844577115
 388  0.241 -1.613  0.394 -0.178  0.012  1.090   0.0844317451
 402  0.241 -1.613  0.394 -0.178  0.012  1.087   0.0844270703
  powell nthiter 5: fret = 0.084427
 416  0.236 -1.613  0.394 -0.178  0.012  1.087   0.0843924278
 418  0.237 -1.613  0.394 -0.178  0.012  1.087   0.0843919586
 429  0.237 -1.617  0.394 -0.178  0.012  1.087   0.0843864368
 440  0.237 -1.617  0.399 -0.178  0.012  1.087   0.0843802701
 452  0.237 -1.617  0.399 -0.181  0.012  1.087   0.0843760495
 464  0.237 -1.617  0.399 -0.181  0.013  1.087   0.0843699721
 465  0.237 -1.617  0.399 -0.181  0.014  1.087   0.0843655615
 478  0.237 -1.617  0.399 -0.181  0.014  1.083   0.0843550818
 479  0.237 -1.617  0.399 -0.181  0.014  1.084   0.0843550726
 481  0.232 -1.620  0.403 -0.184  0.017  1.080   0.0843068886
 484  0.225 -1.625  0.411 -0.189  0.021  1.075   0.0842573891
 485  0.218 -1.630  0.418 -0.193  0.024  1.070   0.0842184050
 486  0.175 -1.659  0.461 -0.222  0.048  1.038   0.0842069515
 487  0.196 -1.645  0.441 -0.209  0.037  1.053   0.0839542034
 495  0.196 -1.645  0.441 -0.208  0.037  1.053   0.0839541462
 498  0.196 -1.645  0.441 -0.208  0.037  1.053   0.0839539819
  powell nthiter 6: fret = 0.083954
 510  0.196 -1.645  0.441 -0.208  0.037  1.039   0.0839312574
 512  0.196 -1.645  0.441 -0.208  0.037  1.044   0.0839087804
 523  0.196 -1.641  0.441 -0.208  0.037  1.044   0.0838995534
 524  0.196 -1.642  0.441 -0.208  0.037  1.044   0.0838993143
 534  0.196 -1.642  0.443 -0.208  0.037  1.044   0.0838964704
 535  0.196 -1.642  0.444 -0.208  0.037  1.044   0.0838954083
 545  0.196 -1.642  0.444 -0.219  0.037  1.044   0.0838621690
 546  0.196 -1.642  0.444 -0.217  0.037  1.044   0.0838592924
 547  0.196 -1.642  0.444 -0.216  0.037  1.044   0.0838590788
 555  0.196 -1.642  0.444 -0.216  0.033  1.044   0.0838440861
 564  0.194 -1.643  0.446 -0.217  0.034  1.043   0.0838413374
 565  0.194 -1.643  0.446 -0.217  0.034  1.043   0.0838412040
 568  0.194 -1.643  0.446 -0.217  0.034  1.043   0.0838410793
 574  0.194 -1.643  0.446 -0.217  0.034  1.043   0.0838409627
  powell nthiter 7: fret = 0.083841
 595  0.194 -1.644  0.446 -0.217  0.034  1.043   0.0838323813
 596  0.194 -1.649  0.446 -0.217  0.034  1.043   0.0838300528
 598  0.194 -1.647  0.446 -0.217  0.034  1.043   0.0838267944
 610  0.194 -1.647  0.447 -0.217  0.034  1.043   0.0838265990
 620  0.194 -1.647  0.447 -0.222  0.034  1.043   0.0838170319
 621  0.194 -1.647  0.447 -0.221  0.034  1.043   0.0838168658
 632  0.194 -1.647  0.447 -0.221  0.033  1.043   0.0838166274
 637  0.197 -1.645  0.444 -0.219  0.031  1.045   0.0838149531
 639  0.196 -1.646  0.445 -0.220  0.032  1.044   0.0838132101
 647  0.197 -1.649  0.445 -0.223  0.030  1.046   0.0837923890
 650  0.200 -1.655  0.444 -0.227  0.027  1.048   0.0837829624
 651  0.199 -1.654  0.444 -0.227  0.027  1.047   0.0837816624
 657  0.200 -1.654  0.444 -0.227  0.027  1.047   0.0837816248
 665  0.200 -1.654  0.444 -0.227  0.027  1.047   0.0837815290
  powell nthiter 8: fret = 0.083782
 675  0.200 -1.654  0.444 -0.227  0.027  1.046   0.0837790595
 691  0.200 -1.654  0.444 -0.227  0.027  1.046   0.0837790392
 702  0.200 -1.654  0.450 -0.227  0.027  1.046   0.0837564994
 703  0.200 -1.654  0.453 -0.227  0.027  1.046   0.0837519719
 704  0.200 -1.654  0.455 -0.227  0.027  1.046   0.0837511404
 716  0.200 -1.654  0.455 -0.229  0.027  1.046   0.0837495397
 727  0.200 -1.654  0.455 -0.229  0.029  1.046   0.0837450812
 731  0.201 -1.657  0.454 -0.232  0.028  1.047   0.0837378691
 737  0.201 -1.657  0.454 -0.232  0.028  1.047   0.0837378431
 738  0.201 -1.657  0.454 -0.231  0.028  1.047   0.0837375888
 740  0.201 -1.657  0.454 -0.231  0.028  1.047   0.0837375573
  powell nthiter 9: fret = 0.083738
 757  0.201 -1.657  0.454 -0.231  0.028  1.046   0.0837368726
 763  0.204 -1.655  0.451 -0.230  0.026  1.048   0.0837331701
 765  0.203 -1.656  0.452 -0.230  0.027  1.048   0.0837322182
 766  0.203 -1.656  0.452 -0.230  0.027  1.048   0.0837321623
 769  0.203 -1.656  0.452 -0.230  0.027  1.047   0.0837320138
 774  0.203 -1.656  0.452 -0.230  0.027  1.047   0.0837319399
 784  0.203 -1.656  0.453 -0.230  0.027  1.047   0.0837285294
 785  0.203 -1.656  0.457 -0.230  0.027  1.047   0.0837191148
 787  0.203 -1.656  0.460 -0.230  0.027  1.047   0.0837174509
 809  0.203 -1.656  0.460 -0.230  0.028  1.047   0.0837162035
 812  0.205 -1.659  0.459 -0.233  0.026  1.049   0.0837140583
 816  0.204 -1.658  0.460 -0.232  0.026  1.048   0.0837122679
 817  0.204 -1.658  0.460 -0.232  0.026  1.048   0.0837121472
 826  0.207 -1.659  0.465 -0.233  0.025  1.049   0.0836974674
 831  0.209 -1.659  0.469 -0.233  0.024  1.050   0.0836967533
 833  0.208 -1.659  0.467 -0.233  0.025  1.050   0.0836963078
 834  0.208 -1.659  0.467 -0.233  0.025  1.050   0.0836959345
 843  0.208 -1.659  0.467 -0.233  0.025  1.050   0.0836958617
 844  0.208 -1.659  0.467 -0.233  0.025  1.050   0.0836958407
  powell nthiter 10: fret = 0.083696
 854  0.208 -1.659  0.467 -0.233  0.025  1.049   0.0836946609
 862  0.209 -1.658  0.466 -0.232  0.024  1.050   0.0836928368
 863  0.209 -1.658  0.466 -0.232  0.024  1.050   0.0836926691
 867  0.209 -1.658  0.466 -0.232  0.024  1.050   0.0836926558
 868  0.209 -1.658  0.466 -0.232  0.024  1.050   0.0836926309
 870  0.209 -1.658  0.466 -0.232  0.024  1.050   0.0836925780
 879  0.209 -1.658  0.466 -0.232  0.024  1.050   0.0836922986
Powell done niters = 10
Computing relative cost
 0  -25.0 -25.0 -25.0   1.013835
 1  -25.0 -25.0  25.0   0.959555
 2  -25.0  25.0 -25.0   0.995730
 3  -25.0  25.0  25.0   1.016110
 4   25.0 -25.0 -25.0   0.969770
 5   25.0 -25.0  25.0   0.999684
 6   25.0  25.0 -25.0   0.948817
 7   25.0  25.0  25.0   0.963274
REL:  8  0.083692    7.866775  0.983347 rel = 0.0851096 
Number of iterations    10
Min cost was 0.083692
Number of FunctionCalls   925
TolPowell 0.000100
nMaxItersPowell 36
OptimizationTime 3.688000 sec
Parameters at optimum (transmm)  0.20891 -1.65802  0.46613
Parameters at optimum (rotdeg) -0.23177  0.02420  1.04965 
Final costs ----------------
Number of surface hits 2523
WM  Intensity   354.2959 +/-  67.2325
Ctx Intensity   521.8441 +/- 120.8990
Pct Contrast     36.3656 +/-  27.1896
Cost   0.0837
RelCost   0.3294
Reg at min cost was 
-0.99827   0.04577   0.03701   0.79817;
 0.03942   0.05283   0.99783  -1.32052;
-0.04372  -0.99755   0.05454   0.91571;
 0.00000   0.00000   0.00000   1.00000;

Writing optimal reg to ./tmp.bbregister.25994/bbr.pass1.dat, type = 14 
Original Reg 
-0.99736   0.04715   0.05526   0.59515;
 0.05788   0.05601   0.99675   0.32483;
-0.04391  -0.99732   0.05860   0.45115;
 0.00000   0.00000   0.00000   1.00000;

Original Reg - Optimal Reg
 0.00091   0.00138   0.01825  -0.20301;
 0.01846   0.00319  -0.00107   1.64535;
-0.00019   0.00024   0.00406  -0.46456;
 0.00000   0.00000   0.00000   0.00000;

Computing change in lh position
LH rmsDiffMean 1.174005
Computing change in rh position
Surface-RMS-Diff-mm 1.633567 0.564404 2.779485
mri_segreg done
mri_segreg --mov ./tmp.bbregister.25994/template.nii --init-reg ./tmp.bbregister.25994/bbr.pass1.dat --out-reg register.dat --interp trilinear --wm-proj-abs 2 --tol 1e-8 --tol1d 1e-3 --c0 0 --mincost register.dat.mincost --dof 6 --nmax 36 --param register.dat.param --surf white --brute -0.1 0.1 0.1 --cur-reg ./tmp.bbregister.25994/reg.curopt.dat --gm-proj-frac 0.5 --nsub 1 --gm-gt-wm 0.5
$Id: mri_segreg.c,v 1.113 2016/05/10 03:23:20 greve Exp $
setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/Park/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_056/preproc
mri_segreg --mov ./tmp.bbregister.25994/template.nii --init-reg ./tmp.bbregister.25994/bbr.pass1.dat --out-reg register.dat --interp trilinear --wm-proj-abs 2 --tol 1e-8 --tol1d 1e-3 --c0 0 --mincost register.dat.mincost --dof 6 --nmax 36 --param register.dat.param --surf white --brute -0.1 0.1 0.1 --cur-reg ./tmp.bbregister.25994/reg.curopt.dat --gm-proj-frac 0.5 --nsub 1 --gm-gt-wm 0.5 
sysname  Linux
hostname hpcnode038.adqimr.ad.lan
machine  x86_64
user     alistaiP
movvol ./tmp.bbregister.25994/template.nii
regfile ./tmp.bbregister.25994/bbr.pass1.dat
subject Patient_056
dof 6
outregfile register.dat
UseMask 0
UseLH 1
UseRH 1
nsubsamp 1
PenaltySign  -1
PenaltySlope 0.500000
PenaltyCenter 0.000000
surfname white
GMProjFrac 0.500000
WMProjAbs 2.000000
lhcostfile (null)
rhcostfile (null)
interp  trilinear (1)
frame  0
TolPowell 0.000000
nMaxItersPowell 36
n1dmin  3
Profile   0
Gdiag_no  -1
AddNoise  0 (0)
SynthSeed 1489889970
TransRandMax 0.000000
RotRandMax 0.000000
Translations 0.000000 0.000000 0.000000
Rotations   0.000000 0.000000 0.000000
Input reg
-0.99827   0.04577   0.03701   0.79817;
 0.03942   0.05283   0.99783  -1.32052;
-0.04372  -0.99755   0.05454   0.91571;
 0.00000   0.00000   0.00000   1.00000;

Loading mov
Projecting LH Surfs
Loading lh.white surf
Loading lh.thickness for GM
GM Proj: 1 0.500000 2.000000
WM Proj: 0 0.500000 2.000000
Projecting RH Surfs
Loading rh.white surf
Loading rh.thickness for GM
Projecting RH Surfs
Using lh.cortex.label
Using rh.cortex.label
Computing relative cost
 0  -25.0 -25.0 -25.0   1.008184
 1  -25.0 -25.0  25.0   0.997029
 2  -25.0  25.0 -25.0   0.999058
 3  -25.0  25.0  25.0   1.028766
 4   25.0 -25.0 -25.0   0.982678
 5   25.0 -25.0  25.0   0.993248
 6   25.0  25.0 -25.0   0.971247
 7   25.0  25.0  25.0   0.961940
REL:  8  0.097043    7.942150  0.992769 rel = 0.0977497 
Initial costs ----------------
Number of surface hits 252704
WM  Intensity   353.7601 +/-  67.1792
Ctx Intensity   517.4483 +/- 114.0646
Pct Contrast     36.0364 +/-  26.0162
Cost   0.0970
RelCost   0.0977

------------------------------------
Brute force preopt -0.1 0.1 0.1, n = 729
     0  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000      0.0944   0.0944  0.0
     3  -0.1000  -0.1000  -0.1000  -0.1000   0.0000  -0.1000      0.0912   0.0912  0.0
     7  -0.1000  -0.1000  -0.1000  -0.1000   0.1000   0.0000      0.0899   0.0899  0.0
     9  -0.1000  -0.1000  -0.1000   0.0000  -0.1000  -0.1000      0.0896   0.0896  0.0
    12  -0.1000  -0.1000  -0.1000   0.0000   0.0000  -0.1000      0.0893   0.0893  0.0
    15  -0.1000  -0.1000  -0.1000   0.0000   0.1000  -0.1000      0.0891   0.0891  0.0
    18  -0.1000  -0.1000  -0.1000   0.1000  -0.1000  -0.1000      0.0888   0.0888  0.0
    21  -0.1000  -0.1000  -0.1000   0.1000   0.0000  -0.1000      0.0870   0.0870  0.0
    39  -0.1000  -0.1000   0.0000   0.0000   0.0000  -0.1000      0.0860   0.0860  0.0
   120  -0.1000   0.0000   0.0000   0.0000   0.0000  -0.1000      0.0857   0.0857  0.0
   337   0.0000   0.0000  -0.1000   0.0000   0.0000   0.0000      0.0856   0.0856  0.0
   364   0.0000   0.0000   0.0000   0.0000   0.0000   0.0000      0.0837   0.0837  0.0
Brute Force --------------------------
Min cost was 0.083692
Number of iterations   729
Search time 3.145000 sec
Parameters at best (transmm, rotdeg)
  0.000   0.000   0.000  0.000  0.000  0.000 
--------------------------------------------

Starting Powell Minimization
Init Powel Params dof = 6
0 0
1 0
2 0
3 0
4 0
5 0
fs_powell::minimize
  nparams 6
  maxfev 36
  ftol   0.000000
  linmin_xtol_   0.001000
  powell nthiter 0: fret = 0.097043
   7  0.036  0.000  0.000  0.000  0.000  0.000   0.0969834481
   8  0.028  0.000  0.000  0.000  0.000  0.000   0.0969771486
   9  0.027  0.000  0.000  0.000  0.000  0.000   0.0969766919
  11  0.024  0.000  0.000  0.000  0.000  0.000   0.0969763610
  20  0.024 -0.044  0.000  0.000  0.000  0.000   0.0968548761
  21  0.024 -0.036  0.000  0.000  0.000  0.000   0.0968515129
  22  0.024 -0.038  0.000  0.000  0.000  0.000   0.0968513691
  30  0.024 -0.038 -0.078  0.000  0.000  0.000   0.0964239538
  31  0.024 -0.038 -0.085  0.000  0.000  0.000   0.0964236824
  32  0.024 -0.038 -0.082  0.000  0.000  0.000   0.0964193116
  34  0.024 -0.038 -0.083  0.000  0.000  0.000   0.0964184011
  35  0.024 -0.038 -0.084  0.000  0.000  0.000   0.0964174577
  42  0.024 -0.038 -0.084  0.072  0.000  0.000   0.0963846331
  43  0.024 -0.038 -0.084  0.039  0.000  0.000   0.0962654293
  44  0.024 -0.038 -0.084  0.038  0.000  0.000   0.0962653186
  45  0.024 -0.038 -0.084  0.037  0.000  0.000   0.0962652905
  54  0.024 -0.038 -0.084  0.037  0.055  0.000   0.0960352007
  56  0.024 -0.038 -0.084  0.037  0.064  0.000   0.0960226736
  69  0.024 -0.038 -0.084  0.037  0.064 -0.139   0.0953320733
  70  0.024 -0.038 -0.084  0.037  0.064 -0.116   0.0953154693
  powell nthiter 1: fret = 0.095315
  81 -0.028 -0.038 -0.084  0.037  0.064 -0.116   0.0949668758
  82 -0.043 -0.038 -0.084  0.037  0.064 -0.116   0.0949458960
  84 -0.039 -0.038 -0.084  0.037  0.064 -0.116   0.0949440462
  93 -0.039 -0.015 -0.084  0.037  0.064 -0.116   0.0948888032
  94 -0.039 -0.013 -0.084  0.037  0.064 -0.116   0.0948873403
  95 -0.039 -0.007 -0.084  0.037  0.064 -0.116   0.0948868068
  97 -0.039 -0.010 -0.084  0.037  0.064 -0.116   0.0948861313
 106 -0.039 -0.010 -0.088  0.037  0.064 -0.116   0.0948762220
 108 -0.039 -0.010 -0.095  0.037  0.064 -0.116   0.0948659190
 109 -0.039 -0.010 -0.096  0.037  0.064 -0.116   0.0948649952
 111 -0.039 -0.010 -0.097  0.037  0.064 -0.116   0.0948644515
 119 -0.039 -0.010 -0.097  0.050  0.064 -0.116   0.0948620670
 120 -0.039 -0.010 -0.097  0.045  0.064 -0.116   0.0948530400
 122 -0.039 -0.010 -0.097  0.046  0.064 -0.116   0.0948529658
 130 -0.039 -0.010 -0.097  0.046  0.074 -0.116   0.0948497466
 131 -0.039 -0.010 -0.097  0.046  0.071 -0.116   0.0948438099
 140 -0.039 -0.010 -0.097  0.046  0.071 -0.158   0.0948131845
 144 -0.039 -0.010 -0.097  0.046  0.071 -0.159   0.0948125338
 146 -0.039 -0.010 -0.097  0.046  0.071 -0.168   0.0948111199
 147 -0.039 -0.010 -0.097  0.046  0.071 -0.165   0.0948104188
 148 -0.039 -0.010 -0.097  0.046  0.071 -0.164   0.0948102716
 156 -0.063  0.001 -0.102  0.050  0.074 -0.182   0.0947834569
 157 -0.058 -0.001 -0.101  0.049  0.073 -0.178   0.0947834247
 158 -0.060 -0.000 -0.102  0.049  0.074 -0.180   0.0947830939
 159 -0.060 -0.000 -0.102  0.049  0.074 -0.180   0.0947830766
 163 -0.060 -0.001 -0.102  0.049  0.074 -0.180   0.0947830630
 165 -0.060 -0.001 -0.102  0.049  0.074 -0.180   0.0947830479
  powell nthiter 2: fret = 0.094783
 177 -0.060 -0.001 -0.102  0.049  0.074 -0.181   0.0947828669
 186 -0.060 -0.011 -0.102  0.049  0.074 -0.181   0.0947710092
 187 -0.060 -0.012 -0.102  0.049  0.074 -0.181   0.0947701939
 189 -0.060 -0.020 -0.102  0.049  0.074 -0.181   0.0947677382
 194 -0.060 -0.026 -0.102  0.049  0.074 -0.181   0.0947676108
 195 -0.060 -0.023 -0.102  0.049  0.074 -0.181   0.0947672864
 204 -0.060 -0.023 -0.092  0.049  0.074 -0.181   0.0947428188
 206 -0.060 -0.023 -0.088  0.049  0.074 -0.181   0.0947428155
 208 -0.060 -0.023 -0.089  0.049  0.074 -0.181   0.0947425713
 209 -0.060 -0.023 -0.090  0.049  0.074 -0.181   0.0947425422
 216 -0.060 -0.023 -0.090  0.075  0.074 -0.181   0.0947406338
 217 -0.060 -0.023 -0.090  0.063  0.074 -0.181   0.0947244898
 219 -0.060 -0.023 -0.090  0.064  0.074 -0.181   0.0947243257
 228 -0.060 -0.023 -0.090  0.064  0.077 -0.181   0.0947149250
 231 -0.060 -0.023 -0.090  0.064  0.079 -0.181   0.0947122525
 242 -0.060 -0.023 -0.090  0.064  0.079 -0.181   0.0947121533
 245 -0.060 -0.023 -0.090  0.064  0.079 -0.182   0.0947120605
 247 -0.060 -0.023 -0.090  0.064  0.079 -0.182   0.0947120207
  powell nthiter 3: fret = 0.094712
 257 -0.060 -0.023 -0.090  0.064  0.079 -0.190   0.0947019129
 260 -0.060 -0.023 -0.090  0.064  0.079 -0.191   0.0947017328
 269 -0.060 -0.015 -0.090  0.064  0.079 -0.191   0.0947002725
 270 -0.060 -0.017 -0.090  0.064  0.079 -0.191   0.0946995265
 271 -0.060 -0.018 -0.090  0.064  0.079 -0.191   0.0946995258
 292 -0.060 -0.018 -0.090  0.067  0.079 -0.191   0.0946974184
  powell nthiter 4: fret = 0.094697
 330 -0.060 -0.018 -0.090  0.067  0.079 -0.194   0.0946973824
 332 -0.060 -0.018 -0.090  0.067  0.079 -0.193   0.0946972555
 341 -0.060 -0.016 -0.090  0.067  0.079 -0.193   0.0946967198
  powell nthiter 5: fret = 0.094697
Powell done niters = 5
Computing relative cost
 0  -25.0 -25.0 -25.0   1.007358
 1  -25.0 -25.0  25.0   0.998033
 2  -25.0  25.0 -25.0   0.999428
 3  -25.0  25.0  25.0   1.028234
 4   25.0 -25.0 -25.0   0.983507
 5   25.0 -25.0  25.0   0.992502
 6   25.0  25.0 -25.0   0.971446
 7   25.0  25.0  25.0   0.962260
REL:  8  0.094697    7.942769  0.992846 rel = 0.0953791 
Number of iterations     5
Min cost was 0.094697
Number of FunctionCalls   456
TolPowell 0.000000
nMaxItersPowell 36
OptimizationTime 75.335000 sec
Parameters at optimum (transmm) -0.06033 -0.01635 -0.08996
Parameters at optimum (rotdeg)  0.06679  0.07892 -0.19270 
Final costs ----------------
Number of surface hits 252717
WM  Intensity   353.5966 +/-  66.7370
Ctx Intensity   516.7977 +/- 111.8136
Pct Contrast     36.0522 +/-  25.5887
Cost   0.0947
RelCost   0.0977
Reg at min cost was 
-0.99819   0.04458   0.04045   0.73465;
 0.04283   0.05384   0.99763  -1.34061;
-0.04230  -0.99755   0.05565   0.82311;
 0.00000   0.00000   0.00000   1.00000;

Writing optimal reg to register.dat, type = 14 
Original Reg 
-0.99827   0.04577   0.03701   0.79817;
 0.03942   0.05283   0.99783  -1.32052;
-0.04372  -0.99755   0.05454   0.91571;
 0.00000   0.00000   0.00000   1.00000;

Original Reg - Optimal Reg
-0.00008   0.00119  -0.00343   0.06352;
-0.00341  -0.00101   0.00019   0.02010;
-0.00142  -0.00000  -0.00111   0.09260;
 0.00000   0.00000   0.00000   0.00000;

Computing change in lh position
LH rmsDiffMean 0.210043
Computing change in rh position
Surface-RMS-Diff-mm 0.168522 0.066629 0.340573
mri_segreg done
MinCost: 0.094697 353.596563 516.797732 36.052228 
tkregister2_cmdl --mov biasmeanb0bet.nii.gz --reg register.dat --noedit --fslregout diff2FS.mat
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume biasmeanb0bet.nii.gz
reg file       register.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
---- Input registration matrix --------
-0.99819   0.04458   0.04045   0.73465;
 0.04283   0.05384   0.99763  -1.34061;
-0.04230  -0.99755   0.05565   0.82311;
 0.00000   0.00000   0.00000   1.00000;
float2int = 0
---------------------------------------
INFO: loading target /working/lab_michaebr/alistaiP/Park/FS/Patient_056/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable biasmeanb0bet.nii.gz
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 0, float2int = 0
---- Input registration matrix --------
-0.99819   0.04458   0.04045   0.73465;
 0.04283   0.05384   0.99763  -1.34061;
-0.04230  -0.99755   0.05565   0.82311;
 0.00000   0.00000   0.00000   1.00000;
Determinant -1
subject = Patient_056
RegMat ---------------------------
-0.99819   0.04458   0.04045   0.73465;
 0.04283   0.05384   0.99763  -1.34061;
-0.04230  -0.99755   0.05565   0.82311;
 0.00000   0.00000   0.00000   1.00000;
FSLOUTPUTTYPE NIFTI_GZ 
tkreg2FSL: mov det = 5.02197, ref det = -1
INFO: FSL2FreeSurfer: Mov volume is NIFTI with positive det,
      applying LR flip to registration matrix.
Cleaning up
 
Started at Sat Mar 18 07:06:52 AEST 2017 
Ended   at Sat Mar 18 07:10:43 AEST 2017
BBR-Run-Time-Sec 231
 
bbregister Done
To check results, run:
tkregisterfv --mov biasmeanb0bet.nii.gz --reg register.dat --surfs 
 
dwi2response: [03;32m[0m
dwi2response: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation. Please consult the help page (-help option) for more information.[0m
dwi2response: [03;32m[0m
dwi2response: [03;32mGenerated temporary directory: /tmp/dwi2response-tmp-O2Y7XU/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_056/preproc/biascorr.mif /tmp/dwi2response-tmp-O2Y7XU/dwi.mif -stride 0,0,0,1
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_056/preproc/biasmeanb0bet_mask.nii.gz /tmp/dwi2response-tmp-O2Y7XU/mask.mif -datatype bit
dwi2response: [03;32mChanging to temporary directory (/tmp/dwi2response-tmp-O2Y7XU/)[0m
dwi2response: [03;32m2 unique b-value(s) detected: 0,2999 with 13,90 volumes.[0m
[03;34mCommand:[0m maskfilter mask.mif erode eroded_mask.mif -npass 3
[03;34mCommand:[0m dwiextract dwi.mif -shell 0 dwi_b0.mif
[03;34mCommand:[0m mrmath dwi_b0.mif mean mean_b0.mif -axis 3
[03;34mCommand:[0m mrcalc mean_b0.mif -finite mean_b0.mif 0 -if 0 -le err_b0.mif -datatype bit
[03;34mCommand:[0m dwiextract dwi.mif -shell 2999 dwi_b2999.mif
[03;34mCommand:[0m mrmath dwi_b2999.mif mean mean_b2999.mif -axis 3
[03;34mCommand:[0m mrcalc mean_b2999.mif -finite mean_b2999.mif 0 -if 0 -le err_b2999.mif -datatype bit
[03;34mCommand:[0m mrcalc mean_b0.mif mean_b2999.mif -divide -log sdm_b2999.mif
[03;34mCommand:[0m mrcalc sdm_b2999.mif 90 -mult 90 -divide full_sdm.mif
[03;34mCommand:[0m mrcalc full_sdm.mif -finite full_sdm.mif 0 -if 0 -le err_sdm.mif -datatype bit
[03;34mCommand:[0m mrcalc err_b0.mif err_b2999.mif -add err_sdm.mif -add 0 eroded_mask.mif -if safe_mask.mif -datatype bit
[03;34mCommand:[0m mrcalc safe_mask.mif full_sdm.mif 0 -if 10 -min safe_sdm.mif
[03;34mCommand:[0m dwi2tensor dwi.mif - -mask safe_mask.mif | tensor2metric - -fa safe_fa.mif -vector safe_vecs.mif -modulate none -mask safe_mask.mif
[03;34mCommand:[0m mrcalc safe_mask.mif safe_fa.mif 0 -if 0.2 -gt crude_wm.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_wm.mif 0 safe_mask.mif -if _crudenonwm.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudenonwm.mif safe_sdm.mif 2.29518 -subtract 0 -if - | mrthreshold - - -mask _crudenonwm.mif | mrcalc _crudenonwm.mif - 0 -if crude_csf.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_csf.mif 0 _crudenonwm.mif -if crude_gm.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_wm.mif safe_sdm.mif 0 -if 1.46756 -gt _crudewmhigh.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudewmhigh.mif 0 crude_wm.mif -if _crudewmlow.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_wm.mif safe_sdm.mif 0 -if 1.9167 -gt _crudewmoutliers.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudewmoutliers.mif 0 crude_wm.mif -if refined_wm.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_gm.mif safe_sdm.mif 0 -if 1.95345 -gt _crudegmhigh.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmhigh.mif 0 crude_gm.mif -if _crudegmlow.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmhigh.mif safe_sdm.mif 1.95345 -subtract 0 -if - | mrthreshold - - -mask _crudegmhigh.mif -invert | mrcalc _crudegmhigh.mif - 0 -if _crudegmhighselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmlow.mif safe_sdm.mif 1.95345 -subtract -neg 0 -if - | mrthreshold - - -mask _crudegmlow.mif -invert | mrcalc _crudegmlow.mif - 0 -if _crudegmlowselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmhighselect.mif 1 _crudegmlowselect.mif -if refined_gm.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudewmoutliers.mif safe_sdm.mif 0 -if 2.88613 -gt 1 crude_csf.mif -if _crudecsfextra.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudecsfextra.mif safe_sdm.mif 2.88613 -subtract 0 -if - | mrthreshold - - -mask _crudecsfextra.mif | mrcalc _crudecsfextra.mif - 0 -if refined_csf.mif -datatype bit
dwi2response: [03;32mRunning 'tournier' algorithm to select 510 single-fibre WM voxels.[0m
[03;34mCommand:[0m dwi2response tournier dwi.mif _respsfwmss.txt -sf_voxels 510 -iter_voxels 5100 -mask refined_wm.mif -voxels voxels_sfwm.mif -quiet -tempdir /tmp/dwi2response-tmp-O2Y7XU/
[03;34mCommand:[0m mrcalc refined_gm.mif safe_sdm.mif 0 -if 1.93537 -gt _refinedgmhigh.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmhigh.mif 0 refined_gm.mif -if _refinedgmlow.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmhigh.mif safe_sdm.mif 0 -if - | mrthreshold - - -bottom 633 -ignorezero | mrcalc _refinedgmhigh.mif - 0 -if _refinedgmhighselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmlow.mif safe_sdm.mif 0 -if - | mrthreshold - - -top 633 -ignorezero | mrcalc _refinedgmlow.mif - 0 -if _refinedgmlowselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmhighselect.mif 1 _refinedgmlowselect.mif -if voxels_gm.mif -datatype bit
[03;34mCommand:[0m mrcalc refined_csf.mif safe_sdm.mif 0 -if - | mrthreshold - - -top 2288 -ignorezero | mrcalc refined_csf.mif - 0 -if voxels_csf.mif -datatype bit
dwi2response: [03;32mSummary of voxel counts:[0m
dwi2response: [03;32mMask: 321216 --> 260526 --> 260492[0m
dwi2response: [03;32mWM: 107915 --> 101920 --> 510 (SF)[0m
dwi2response: [03;32mGM: 101968 --> 63307 --> 1266[0m
dwi2response: [03;32mCSF: 50609 --> 22884 --> 2288[0m
[03;34mCommand:[0m amp2sh dwi_b0.mif - | sh2response - voxels_sfwm.mif safe_vecs.mif _respsfwmb0.txt
[03;34mCommand:[0m amp2sh dwi_b2999.mif - | sh2response - voxels_sfwm.mif safe_vecs.mif _respsfwmb2999.txt
[03;34mCommand:[0m mrcat crude_csf.mif crude_gm.mif crude_wm.mif crude.mif -axis 3
[03;34mCommand:[0m mrcat refined_csf.mif refined_gm.mif refined_wm.mif refined.mif -axis 3
[03;34mCommand:[0m mrcat voxels_csf.mif voxels_gm.mif voxels_sfwm.mif voxels.mif -axis 3
dwi2response: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_056/preproc)[0m
dwi2response: [03;32mDeleting temporary directory /tmp/dwi2response-tmp-O2Y7XU/[0m
