dwipreproc_cust: [03;32m[0m
dwipreproc_cust: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
dwipreproc_cust: [03;32m[0m
dwipreproc_cust: [03;32mGenerated temporary directory: /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_037/preproc/dwipreproc_cust-tmp-A36HQ5/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_037/preproc/rawdataAPdn.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_037/preproc/dwipreproc_cust-tmp-A36HQ5/series.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_037/preproc/AP7b0s.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_037/preproc/dwipreproc_cust-tmp-A36HQ5/pair1.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_037/preproc/rawdataPAdn.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_037/preproc/dwipreproc_cust-tmp-A36HQ5/pair2.mif
dwipreproc_cust: [03;32mChanging to temporary directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_037/preproc/dwipreproc_cust-tmp-A36HQ5/)[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 102[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -dwgrad' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult:           0           0           0           0
          0           0           0           0
  -0.999991  0.00200921  0.00368443        3000
  0.0258005   -0.744281   -0.667368        3000
-0.00361525    0.517427     0.85572        3000
   0.272661    0.827798   -0.490312        3000
  -0.651711    0.404007   -0.641912        3000
    0.50724    0.261363    0.821217        3000
   0.959475    0.279361    0.036941        3000
   0.534828    0.379835   -0.754774        3000
  -0.316688    0.128025    -0.93985        3000
          0           0           0           0
   0.505037   -0.590295   -0.629674        3000
   0.600463   0.0894134   -0.794638        3000
  -0.953675   -0.155801   -0.257352        3000
  -0.527903   -0.742263    0.412751        3000
   0.194236   -0.924781     0.32719        3000
  -0.365444    0.925656  -0.0980345        3000
   0.259497    0.930314    0.259187        3000
  0.0232024    0.509791   -0.859985        3000
  -0.614623    0.788251  -0.0299846        3000
          0           0           0           0
     0.8723   0.0375472    0.487528        3000
  -0.743994   -0.229277    0.627618        3000
   0.487423    0.676214    0.552408        3000
  -0.451694   -0.890406  -0.0561175        3000
  -0.661839   -0.431142   -0.613258        3000
   -0.85388    0.236089   -0.463843        3000
  -0.438734   -0.505774   -0.742768        3000
   0.957435    -0.13986   -0.252501        3000
  -0.703145   -0.594531   -0.390026        3000
          0           0           0           0
  -0.387546   -0.174774    0.905131        3000
   0.143425   -0.680645    0.718437        3000
   -0.80323   -0.595392   0.0181667        3000
  -0.288469   -0.136908   -0.947651        3000
   0.963181   -0.127664    0.236609        3000
  -0.151435   -0.695732    0.702157        3000
 -0.0169694   -0.981815   -0.189082        3000
  -0.377195   -0.897166     0.22982        3000
   0.668177    0.728513    0.151025        3000
          0           0           0           0
  -0.290695   -0.464856    0.836304        3000
  -0.721293   -0.163389   -0.673083        3000
   0.717376   -0.658072    0.228721        3000
   0.428595   -0.580428    0.692394        3000
   0.958937   -0.282403  -0.0262383        3000
   0.493402   -0.295777    0.817968        3000
  -0.894796    0.397409   -0.203486        3000
    0.20361     0.97872     -0.0255        3000
   -0.23109     0.96545    0.120434        3000
          0           0           0           0
   0.739924    0.599359    -0.30542        3000
   0.844268    0.335449   -0.417954        3000
   0.105094   -0.283435    0.953216        3000
   0.239278    0.398986    0.885187        3000
   0.614073    0.777891   -0.133415        3000
  -0.266783     0.45626   -0.848913        3000
  -0.658632   -0.512379    0.551064        3000
   0.256896   -0.895051   -0.364537        3000
  -0.249174   -0.820112   -0.515101        3000
          0           0           0           0
  -0.573283    0.658423   -0.487674        3000
 -0.0215634   -0.248361   -0.968428        3000
  -0.224468    0.320628    0.920224        3000
   0.836782    0.322664    0.442362        3000
   0.860618    0.464989    0.207659        3000
  -0.487716   -0.809672   -0.326443        3000
    0.10634    0.947308   -0.302158        3000
  -0.541869  0.00448194   -0.840451        3000
    0.25049   -0.576274   -0.777922        3000
          0           0           0           0
   0.228826  -0.0498634    -0.97219        3000
    0.21587    0.652386    0.726493        3000
  -0.961662   -0.144532    0.233057        3000
  -0.311899    0.788157   -0.530591        3000
   0.870451   -0.429426   -0.240643        3000
  -0.844653    0.263931    0.465728        3000
  -0.894903   -0.410725    0.174511        3000
   0.703397   -0.678232   -0.212684        3000
   0.666348   -0.350598   -0.658074        3000
          0           0           0           0
  -0.517013    0.749105    0.414173        3000
   0.719799   -0.128194    0.682244        3000
  0.0403233  -0.0154483    0.999067        3000
  -0.827716    0.561101  0.00722731        3000
  -0.452797    0.385342    0.804044        3000
   0.879444   0.0291531   -0.475109        3000
   0.148585    0.245761   -0.957875        3000
   0.768339   -0.482867    0.420112        3000
   0.479105   -0.134051   -0.867461        3000
          0           0           0           0
  -0.717341     0.53232    0.449508        3000
   0.482669   -0.821979    0.302292        3000
  -0.281864    0.761221    0.584033        3000
 -0.0172776    0.846805   -0.531623        3000
  0.0654263   -0.993198   0.0963178        3000
   0.421724    0.632981   -0.649218        3000
  -0.732797    0.098064    0.673344        3000
 0.00119171    0.896178    0.443692        3000
   0.476118   -0.860629   -0.180636        3000
          0           0           0           0[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -stride' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 1 2 3 4[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair1.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair2.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
[03;34mCommand:[0m mrconvert series.mif dwi_pre_topup.nii -stride -1,+2,+3,+4
[03;34mCommand:[0m mrcat pair1.mif pair2.mif - -axis 3 | mrconvert - topup_in.nii -stride -1,+2,+3,+4
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair1.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair2.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
dwipreproc_cust: [03;32mCreating phase-encoding configuration file[0m
[03;34mCommand:[0m topup --imain=topup_in.nii --datain=config.txt --out=field --fout=field_map.nii.gz --config=/software/fsl/fsl-5.0.9_eddy/fsl/etc/flirtsch/b02b0.cnf
[03;34mCommand:[0m applytopup --imain=dwi_pre_topup.nii --datain=config.txt --inindex=1 --topup=field --out=dwi_post_topup.nii.gz --method=jac
[03;34mCommand:[0m mrconvert series.mif - -stride -1,+2,+3,+4 | mrinfo - -export_grad_fsl bvecs bvals
[03;34mCommand:[0m mrconvert dwi_post_topup.nii.gz -fslgrad bvecs bvals - | dwi2mask - - | maskfilter - dilate - | mrconvert - mask.nii -datatype float32 -stride -1,+2,+3
[03;34mCommand:[0m eddy_openmp --imain=dwi_pre_topup.nii --mask=mask.nii --index=indices.txt --acqp=config.txt --bvecs=bvecs --bvals=bvals --repol --topup=field --out=dwi_post_eddy
[03;34mCommand:[0m mrconvert dwi_post_eddy.nii.gz result.mif -stride 1,2,3,4 -fslgrad dwi_post_eddy.eddy_rotated_bvecs bvals
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_037/preproc/eddycorr.mif -export_grad_mrtrix /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_037/preproc/adjencoding.b
dwipreproc_cust: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_037/preproc)[0m
dwipreproc_cust: [03;32mDeleting temporary directory /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_037/preproc/dwipreproc_cust-tmp-A36HQ5/[0m
dwibiascorrect: [03;32m[0m
dwibiascorrect: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
dwibiascorrect: [03;32m[0m
dwibiascorrect: [03;32mGenerated temporary directory: /tmp/dwibiascorrect-tmp-IP581A/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_037/preproc/eddycorr.mif /tmp/dwibiascorrect-tmp-IP581A/in.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_037/preproc/eddymeanb0bet_mask.nii.gz /tmp/dwibiascorrect-tmp-IP581A/mask.mif
dwibiascorrect: [03;32mChanging to temporary directory (/tmp/dwibiascorrect-tmp-IP581A/)[0m
[03;34mCommand:[0m dwiextract in.mif - -bzero | mrmath - mean mean_bzero.mif -axis 3
[03;34mCommand:[0m mrcalc mean_bzero.mif mask.mif -mult - | mrconvert - mean_bzero_masked.nii -stride -1,+2,+3
[03;34mCommand:[0m fast -t 2 -o fast -n 3 -b mean_bzero_masked.nii
[03;34mCommand:[0m mrcalc in.mif fast_bias.nii.gz -div result.mif
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_037/preproc/biascorr.mif
dwibiascorrect: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_037/preproc)[0m
dwibiascorrect: [03;32mDeleting temporary directory /tmp/dwibiascorrect-tmp-IP581A/[0m
Extracting mean of the b=0 shell.
Extracting mean of the b=3000 shell.
Extracting mean of the b=0 shell.
Extracting mean of the b=3000 shell.
42817
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mGenerated temporary directory: /tmp/labelsgmfix-tmp-WJT2QN/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_037/preproc/parctempstr.nii /tmp/labelsgmfix-tmp-WJT2QN/parc.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_037/preproc/brainFS.nii /tmp/labelsgmfix-tmp-WJT2QN/T1.nii -stride -1,+2,+3
labelsgmfix: [03;32mChanging to temporary directory (/tmp/labelsgmfix-tmp-WJT2QN/)[0m
[03;34mCommand:[0m run_first_all -s R_Thal,L_Puta,R_Caud,R_Hipp,L_Amyg,R_Pall,R_Amyg,L_Caud,L_Pall,L_Thal,L_Hipp,R_Accu,L_Accu,R_Puta -i T1.nii -b -o first
[03;34mCommand:[0m mrcalc parc.mif 0 -min sgm.mif
[03;34mCommand:[0m meshconvert first-R_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Thal_mask.mif 6 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Puta_mask.mif 3 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Caud_mask.mif 7 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Hipp_mask.mif 13 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Amyg_mask.mif 12 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Pall_mask.mif 9 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Amyg_mask.mif 14 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Caud_mask.mif 2 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Pall_mask.mif 4 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Thal_mask.mif 1 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Hipp_mask.mif 11 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Accu_mask.mif 10 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Accu_mask.mif 5 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Puta_mask.mif 8 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m mrmath R_Thal_mask.mif L_Puta_mask.mif R_Caud_mask.mif R_Hipp_mask.mif L_Amyg_mask.mif R_Pall_mask.mif R_Amyg_mask.mif L_Caud_mask.mif L_Pall_mask.mif L_Thal_mask.mif L_Hipp_mask.mif R_Accu_mask.mif L_Accu_mask.mif R_Puta_mask.mif sum - | mrcalc - 1 -gt sgm_overlap_mask.mif
[03;34mCommand:[0m mrcalc sgm_overlap_mask.mif 0 sgm.mif -if sgm_masked.mif
[03;34mCommand:[0m labelconvert sgm_masked.mif /software/mrtrix3/mrtrix3-AP/scripts/data/FreeSurferSGM.txt /software/mrtrix3/mrtrix3-AP/src/connectome/tables/fs_a2009s.txt sgm_new_labels.mif
[03;34mCommand:[0m mrcalc parc.mif 83 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 78 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 84 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 87 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 81 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 86 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 88 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 77 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 79 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 76 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 80 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 89 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 82 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 85 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc sgm_new_labels.mif 0.5 -gt sgm_new_labels.mif parc.mif -if result.mif -datatype uint32
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_037/preproc/parc_fixsubcort.nii
labelsgmfix: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_037/preproc)[0m
labelsgmfix: [03;32mDeleting temporary directory /tmp/labelsgmfix-tmp-WJT2QN/[0m
tmp ./tmp.bbregister.32343
Log file is register.dat.log
Sat Mar 18 02:36:32 AEST 2017

setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/Park/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_037/preproc
/software/freesurfer/freesurfer-6.0.0/bin/bbregister --s Patient_037 --mov biasmeanb0bet.nii.gz --init-fsl --reg register.dat --dti --fslmat diff2FS.mat

$Id: bbregister,v 1.75 2016/05/10 20:02:28 greve Exp $
Linux hpcnode034.adqimr.ad.lan 3.10.0-327.3.1.el7.x86_64 #1 SMP Wed Dec 9 14:09:15 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
FREESURFER_HOME /software/freesurfer/freesurfer-6.0.0
mri_convert biasmeanb0bet.nii.gz ./tmp.bbregister.32343/template.nii
mri_convert.bin biasmeanb0bet.nii.gz ./tmp.bbregister.32343/template.nii 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from biasmeanb0bet.nii.gz...
TR=1000.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (0.99987, 0.00567271, -0.0150611)
j_ras = (-0.00244315, 0.978476, 0.206344)
k_ras = (0.0159075, -0.206281, 0.978364)
writing to ./tmp.bbregister.32343/template.nii...
fslregister --s Patient_037 --mov ./tmp.bbregister.32343/template.nii --reg ./tmp.bbregister.32343/reg.init.dat --niters 1 --maxangle 90 --tmp ./tmp.bbregister.32343/fslregister --dof 6 --fsvol brainmask.mgz --nobetmov

Log file is ./tmp.bbregister.32343/reg.init.dat.fslregister.log

Sat Mar 18 02:36:32 AEST 2017
--s Patient_037 --mov ./tmp.bbregister.32343/template.nii --reg ./tmp.bbregister.32343/reg.init.dat --niters 1 --maxangle 90 --tmp ./tmp.bbregister.32343/fslregister --dof 6 --fsvol brainmask.mgz --nobetmov
$Id: fslregister,v 1.40 2016/02/12 21:43:15 zkaufman Exp $
hpcnode034.adqimr.ad.lan
Linux hpcnode034.adqimr.ad.lan 3.10.0-327.3.1.el7.x86_64 #1 SMP Wed Dec 9 14:09:15 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
nIters 1
--------------------------------------
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_037/preproc
mri_convert /working/lab_michaebr/alistaiP/Park/FS/Patient_037/mri/brainmask.mgz ./tmp.bbregister.32343/fslregister/refvol.fslregister.nii
mri_convert.bin /working/lab_michaebr/alistaiP/Park/FS/Patient_037/mri/brainmask.mgz ./tmp.bbregister.32343/fslregister/refvol.fslregister.nii 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from /working/lab_michaebr/alistaiP/Park/FS/Patient_037/mri/brainmask.mgz...
TR=0.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (-1, -2.32831e-10, 9.31323e-10)
j_ras = (-9.31323e-10, -1.49012e-08, -1)
k_ras = (-2.32831e-10, 1, 1.49012e-08)
writing to ./tmp.bbregister.32343/fslregister/refvol.fslregister.nii...
--------------------------------------
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_037/preproc
mri_convert ./tmp.bbregister.32343/template.nii ./tmp.bbregister.32343/fslregister/movvol.fslregister.nii --frame 0
mri_convert.bin ./tmp.bbregister.32343/template.nii ./tmp.bbregister.32343/fslregister/movvol.fslregister.nii --frame 0 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from ./tmp.bbregister.32343/template.nii...
TR=1000.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (0.99987, 0.00567271, -0.0150611)
j_ras = (-0.00244315, 0.978476, 0.206344)
k_ras = (0.0159075, -0.206281, 0.978364)
keeping frame 0
writing to ./tmp.bbregister.32343/fslregister/movvol.fslregister.nii...
Mov determinant is 5.02197
Swapping dims for pos det
WARNING:: Flipping Left/Right orientation (as det < 0)
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
target  volume ./tmp.bbregister.32343/fslregister/movvol.fslregister.nii
movable volume ./tmp.bbregister.32343/template.nii
reg file       ./tmp.bbregister.32343/fslregister/swapreg.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target ./tmp.bbregister.32343/fslregister/movvol.fslregister.nii
INFO: target does not conform to COR format, so I'm going to
reslice to COR. This will not affect the final registration.
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.32343/template.nii
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 1, float2int = 0
Computing reg from header (and possibly input matrix)
---- Input registration matrix (computed) --------
-0.99987  -0.00567   0.01506   1.71877;
 0.01591  -0.20628   0.97836   0.00002;
 0.00244  -0.97848  -0.20634   0.00001;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
-0.99987  -0.00567   0.01506   1.71877;
 0.01591  -0.20628   0.97836   0.00002;
 0.00244  -0.97848  -0.20634   0.00001;
 0.00000   0.00000   0.00000   1.00000;
Determinant -1
subject = subject-unknown
RegMat ---------------------------
-1.00000  -0.00000   0.00000   1.71877;
 0.00000   1.00000  -0.00000   0.00002;
 0.00000   0.00000   1.00000   0.00001;
 0.00000   0.00000   0.00000   1.00000;
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_037/preproc
tkregister2_cmdl --mov ./tmp.bbregister.32343/fslregister/movvol.fslregister.nii --reg ./tmp.bbregister.32343/fslregister/reg0.32410.dat --regheader --fslregout ./tmp.bbregister.32343/reg.init.dat.fsl.mat0 --s Patient_037 --noedit
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume ./tmp.bbregister.32343/fslregister/movvol.fslregister.nii
reg file       ./tmp.bbregister.32343/fslregister/reg0.32410.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target /working/lab_michaebr/alistaiP/Park/FS/Patient_037/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.32343/fslregister/movvol.fslregister.nii
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 1, float2int = 0
Computing reg from header (and possibly input matrix)
---- Input registration matrix (computed) --------
 0.99987   0.00567  -0.01506   0.97667;
 0.01591  -0.20628   0.97836  -0.35001;
 0.00244  -0.97848  -0.20634   0.74229;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
 0.99987   0.00567  -0.01506   0.97667;
 0.01591  -0.20628   0.97836  -0.35001;
 0.00244  -0.97848  -0.20634   0.74229;
 0.00000   0.00000   0.00000   1.00000;
Determinant 1
subject = Patient_037
RegMat ---------------------------
 0.99987   0.00567  -0.01506   0.97667;
 0.01591  -0.20628   0.97836  -0.35001;
 0.00244  -0.97848  -0.20634   0.74229;
 0.00000   0.00000   0.00000   1.00000;
FSLOUTPUTTYPE NIFTI 
tkreg2FSL: mov det = -5.02197, ref det = -1
Sat Mar 18 02:36:36 AEST 2017
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_037/preproc
flirt.fsl -ref ./tmp.bbregister.32343/fslregister/refvol.fslregister.nii -in ./tmp.bbregister.32343/fslregister/movvol.fslregister.nii -bins 256 -cost corratio -dof 6 -searchrx -90 90 -searchry -90 90 -searchrz -90 90 -verbose 0 -omat ./tmp.bbregister.32343/fslregister/fslmat0.trans.mat -schedule /software/freesurfer/freesurfer-6.0.0/bin/fsl.5.0.2.xyztrans.sch -init ./tmp.bbregister.32343/reg.init.dat.fsl.mat0
Sat Mar 18 02:36:55 AEST 2017
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_037/preproc
flirt.fsl -ref ./tmp.bbregister.32343/fslregister/refvol.fslregister.nii -in ./tmp.bbregister.32343/fslregister/movvol.fslregister.nii -bins 256 -cost corratio -dof 6 -searchrx -90 90 -searchry -90 90 -searchrz -90 90 -verbose 0 -omat ./tmp.bbregister.32343/reg.init.dat.fsl.mat -init ./tmp.bbregister.32343/fslregister/fslmat0.trans.mat -schedule /software/freesurfer/freesurfer-6.0.0/bin/flirt.newdefault.20080811.sch
tkregister2_cmdl --s Patient_037 --mov ./tmp.bbregister.32343/fslregister/movvol.fslregister.nii --reg ./tmp.bbregister.32343/reg.init.dat --fslreg ./tmp.bbregister.32343/reg.init.dat.fsl.mat --noedit
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
---- FSL registration matrix --------
 0.99983  -0.00054  -0.01848   20.32330;
-0.01825  -0.18807  -0.98199   228.26700;
-0.00294   0.98216  -0.18804   36.31070;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume ./tmp.bbregister.32343/fslregister/movvol.fslregister.nii
reg file       ./tmp.bbregister.32343/reg.init.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target /working/lab_michaebr/alistaiP/Park/FS/Patient_037/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.32343/fslregister/movvol.fslregister.nii
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 0, float2int = 0
FSLOUTPUTTYPE NIFTI 
fsl2TkReg: mov det = -5.02197, ref det = -1
---- Input registration matrix (computed) --------
 0.99983   0.00294  -0.01825   0.78166;
 0.01848  -0.18804   0.98199   2.72948;
-0.00054  -0.98216  -0.18807   1.14836;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
 0.99983   0.00294  -0.01825   0.78166;
 0.01848  -0.18804   0.98199   2.72948;
-0.00054  -0.98216  -0.18807   1.14836;
 0.00000   0.00000   0.00000   1.00000;
Determinant 0.999998
subject = Patient_037
RegMat ---------------------------
 0.99983   0.00294  -0.01825   0.78166;
 0.01848  -0.18804   0.98199   2.72948;
-0.00054  -0.98216  -0.18807   1.14836;
 0.00000   0.00000   0.00000   1.00000;
mri_matrix_multiply -im ./tmp.bbregister.32343/fslregister/swapreg.dat -im ./tmp.bbregister.32343/reg.init.dat -om ./tmp.bbregister.32343/reg.init.dat
(standard_in) 1: illegal character: P
 
Started at Sat Mar 18 02:36:33 AEST 2017 
Ended   at Sat Mar 18 02:37:30 AEST 2017
 
fslregister Done
 
To check results, run:
tkregister2 --mov ./tmp.bbregister.32343/template.nii --reg ./tmp.bbregister.32343/reg.init.dat --surf orig
 
mri_segreg --mov ./tmp.bbregister.32343/template.nii --init-reg ./tmp.bbregister.32343/reg.init.dat --out-reg ./tmp.bbregister.32343/bbr.pass1.dat --subsamp-brute 100 --subsamp 100 --tol 1e-4 --tol1d 1e-3 --brute -4 4 4 --surf white --gm-proj-frac 0.5 --gm-gt-wm 0.5
$Id: mri_segreg.c,v 1.113 2016/05/10 03:23:20 greve Exp $
setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/Park/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_037/preproc
mri_segreg --mov ./tmp.bbregister.32343/template.nii --init-reg ./tmp.bbregister.32343/reg.init.dat --out-reg ./tmp.bbregister.32343/bbr.pass1.dat --subsamp-brute 100 --subsamp 100 --tol 1e-4 --tol1d 1e-3 --brute -4 4 4 --surf white --gm-proj-frac 0.5 --gm-gt-wm 0.5 
sysname  Linux
hostname hpcnode034.adqimr.ad.lan
machine  x86_64
user     alistaiP
movvol ./tmp.bbregister.32343/template.nii
regfile ./tmp.bbregister.32343/reg.init.dat
subject Patient_037
dof 6
outregfile ./tmp.bbregister.32343/bbr.pass1.dat
UseMask 0
UseLH 1
UseRH 1
nsubsamp 100
PenaltySign  -1
PenaltySlope 0.500000
PenaltyCenter 0.000000
surfname white
GMProjFrac 0.500000
WMProjAbs 2.000000
lhcostfile (null)
rhcostfile (null)
interp  trilinear (1)
frame  0
TolPowell 0.000100
nMaxItersPowell 36
n1dmin  3
Profile   0
Gdiag_no  -1
AddNoise  0 (0)
SynthSeed 1489866860
TransRandMax 0.000000
RotRandMax 0.000000
Translations 0.000000 0.000000 0.000000
Rotations   0.000000 0.000000 0.000000
Input reg
-0.99983  -0.00294   0.01825   0.93710;
 0.01848  -0.18804   0.98199   2.72949;
-0.00054  -0.98216  -0.18807   1.14837;
 0.00000   0.00000   0.00000   1.00000;

Loading mov
Projecting LH Surfs
Loading lh.white surf
Loading lh.thickness for GM
GM Proj: 1 0.500000 2.000000
WM Proj: 0 0.500000 2.000000
Projecting RH Surfs
Loading rh.white surf
Loading rh.thickness for GM
Projecting RH Surfs
Using lh.cortex.label
Using rh.cortex.label
Computing relative cost
 0  -25.0 -25.0 -25.0   0.993562
 1  -25.0 -25.0  25.0   0.966784
 2  -25.0  25.0 -25.0   0.985468
 3  -25.0  25.0  25.0   0.980396
 4   25.0 -25.0 -25.0   1.004253
 5   25.0 -25.0  25.0   1.037212
 6   25.0  25.0 -25.0   0.970715
 7   25.0  25.0  25.0   0.952375
REL:  8  0.180675    7.890766  0.986346 rel = 0.183176 
Initial costs ----------------
Number of surface hits 2899
WM  Intensity   339.7294 +/-  70.4444
Ctx Intensity   483.9733 +/- 132.1778
Pct Contrast     33.0776 +/-  25.2040
Cost   0.1807
RelCost   0.1832

------------------------------------
Brute force preopt -4 4 4, n = 729
     0  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000      0.9843   0.9843  0.0
     2  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000   4.0000      0.9473   0.9473  0.0
     7  -4.0000  -4.0000  -4.0000  -4.0000   4.0000   0.0000      0.9439   0.9439  0.0
    15  -4.0000  -4.0000  -4.0000   0.0000   4.0000  -4.0000      0.8312   0.8312  0.0
   105  -4.0000   0.0000  -4.0000   4.0000   4.0000  -4.0000      0.8175   0.8175  0.0
   118  -4.0000   0.0000   0.0000   0.0000  -4.0000   0.0000      0.7860   0.7860  0.0
   123  -4.0000   0.0000   0.0000   0.0000   4.0000  -4.0000      0.7680   0.7680  0.0
   274   0.0000  -4.0000   0.0000  -4.0000   0.0000   0.0000      0.7470   0.7470  0.0
   282   0.0000  -4.0000   0.0000   0.0000   0.0000  -4.0000      0.7468   0.7468  0.0
   284   0.0000  -4.0000   0.0000   0.0000   0.0000   4.0000      0.7288   0.7288  0.0
   346   0.0000   0.0000  -4.0000   4.0000   0.0000   0.0000      0.7137   0.7137  0.0
   363   0.0000   0.0000   0.0000   0.0000   0.0000  -4.0000      0.6379   0.6379  0.0
   364   0.0000   0.0000   0.0000   0.0000   0.0000   0.0000      0.1807   0.1807  0.0
Brute Force --------------------------
Min cost was 0.180675
Number of iterations   729
Search time 1.940000 sec
Parameters at best (transmm, rotdeg)
  0.000   0.000   0.000  0.000  0.000  0.000 
--------------------------------------------

Starting Powell Minimization
Init Powel Params dof = 6
0 0
1 0
2 0
3 0
4 0
5 0
fs_powell::minimize
  nparams 6
  maxfev 36
  ftol   0.000100
  linmin_xtol_   0.001000
  powell nthiter 0: fret = 0.180675
   7  0.028  0.000  0.000  0.000  0.000  0.000   0.1805048006
   9  0.027  0.000  0.000  0.000  0.000  0.000   0.1804989745
  11  0.024  0.000  0.000  0.000  0.000  0.000   0.1804954586
  18  0.024 -0.618  0.000  0.000  0.000  0.000   0.1233813287
  23  0.024 -0.687  0.000  0.000  0.000  0.000   0.1229682170
  25  0.024 -0.659  0.000  0.000  0.000  0.000   0.1223324283
  27  0.024 -0.655  0.000  0.000  0.000  0.000   0.1223116969
  28  0.024 -0.654  0.000  0.000  0.000  0.000   0.1223109000
  35  0.024 -0.654  0.382  0.000  0.000  0.000   0.1166420017
  36  0.024 -0.654  0.269  0.000  0.000  0.000   0.1156049267
  39  0.024 -0.654  0.268  0.000  0.000  0.000   0.1156047545
  46  0.024 -0.654  0.268  0.382  0.000  0.000   0.0885947518
  47  0.024 -0.654  0.268  0.598  0.000  0.000   0.0845168603
  49  0.024 -0.654  0.268  0.543  0.000  0.000   0.0838929688
  52  0.024 -0.654  0.268  0.555  0.000  0.000   0.0838698344
  53  0.024 -0.654  0.268  0.551  0.000  0.000   0.0838628535
  55  0.024 -0.654  0.268  0.552  0.000  0.000   0.0838627535
  63  0.024 -0.654  0.268  0.552  0.136  0.000   0.0831596623
  64  0.024 -0.654  0.268  0.552  0.103  0.000   0.0820613150
  66  0.024 -0.654  0.268  0.552  0.095  0.000   0.0819365889
  67  0.024 -0.654  0.268  0.552  0.092  0.000   0.0819317370
  68  0.024 -0.654  0.268  0.552  0.093  0.000   0.0819289953
  74  0.024 -0.654  0.268  0.552  0.093  0.382   0.0800001766
  75  0.024 -0.654  0.268  0.552  0.093  0.227   0.0774284290
  77  0.024 -0.654  0.268  0.552  0.093  0.252   0.0773316252
  78  0.024 -0.654  0.268  0.552  0.093  0.251   0.0773295831
  79  0.024 -0.654  0.268  0.552  0.093  0.248   0.0773275616
  81  0.024 -0.654  0.268  0.552  0.093  0.249   0.0773274998
  powell nthiter 1: fret = 0.077327
  93  0.001 -0.654  0.268  0.552  0.093  0.249   0.0770376054
  94 -0.001 -0.654  0.268  0.552  0.093  0.249   0.0770357416
  96 -0.002 -0.654  0.268  0.552  0.093  0.249   0.0770345852
 106 -0.002 -0.560  0.268  0.552  0.093  0.249   0.0766049522
 109 -0.002 -0.518  0.268  0.552  0.093  0.249   0.0761003491
 112 -0.002 -0.523  0.268  0.552  0.093  0.249   0.0760977356
 124 -0.002 -0.523  0.118  0.552  0.093  0.249   0.0718324019
 125 -0.002 -0.523  0.075  0.552  0.093  0.249   0.0716485746
 126 -0.002 -0.523  0.080  0.552  0.093  0.249   0.0716270222
 127 -0.002 -0.523  0.087  0.552  0.093  0.249   0.0716215045
 128 -0.002 -0.523  0.085  0.552  0.093  0.249   0.0716199569
 137 -0.002 -0.523  0.085  0.577  0.093  0.249   0.0715918053
 138 -0.002 -0.523  0.085  0.570  0.093  0.249   0.0715792453
 149 -0.002 -0.523  0.085  0.570  0.048  0.249   0.0711925940
 150 -0.002 -0.523  0.085  0.570  0.049  0.249   0.0711669337
 151 -0.002 -0.523  0.085  0.570  0.065  0.249   0.0709744061
 153 -0.002 -0.523  0.085  0.570  0.063  0.249   0.0709642122
 166 -0.002 -0.523  0.085  0.570  0.063  0.250   0.0709630948
  powell nthiter 2: fret = 0.070963
 177  0.020 -0.523  0.085  0.570  0.063  0.250   0.0705621173
 179  0.015 -0.523  0.085  0.570  0.063  0.250   0.0705046628
 181  0.014 -0.523  0.085  0.570  0.063  0.250   0.0705012313
 191  0.014 -0.490  0.085  0.570  0.063  0.250   0.0698619954
 192  0.014 -0.491  0.085  0.570  0.063  0.250   0.0698610676
 200  0.014 -0.491  0.069  0.570  0.063  0.250   0.0698341503
 201  0.014 -0.491  0.070  0.570  0.063  0.250   0.0698312266
 202  0.014 -0.491  0.074  0.570  0.063  0.250   0.0698262330
 204  0.014 -0.491  0.073  0.570  0.063  0.250   0.0698262280
 212  0.014 -0.491  0.073  0.575  0.063  0.250   0.0697797095
 214  0.014 -0.491  0.073  0.584  0.063  0.250   0.0697651823
 215  0.014 -0.491  0.073  0.583  0.063  0.250   0.0697640342
 216  0.014 -0.491  0.073  0.582  0.063  0.250   0.0697638723
 228  0.014 -0.491  0.073  0.582  0.064  0.250   0.0697636288
 238  0.014 -0.491  0.073  0.582  0.064  0.270   0.0696504708
 240  0.014 -0.491  0.073  0.582  0.064  0.271   0.0696500643
  powell nthiter 3: fret = 0.069650
 251  0.053 -0.491  0.073  0.582  0.064  0.271   0.0694204168
 253  0.037 -0.491  0.073  0.582  0.064  0.271   0.0692072708
 254  0.038 -0.491  0.073  0.582  0.064  0.271   0.0692069449
 264  0.038 -0.483  0.073  0.582  0.064  0.271   0.0691351406
 265  0.038 -0.481  0.073  0.582  0.064  0.271   0.0691334340
 267  0.038 -0.482  0.073  0.582  0.064  0.271   0.0691331034
 274  0.038 -0.482  0.063  0.582  0.064  0.271   0.0690868962
 276  0.038 -0.482  0.056  0.582  0.064  0.271   0.0690760873
 277  0.038 -0.482  0.057  0.582  0.064  0.271   0.0690759737
 286  0.038 -0.482  0.057  0.584  0.064  0.271   0.0690705579
 287  0.038 -0.482  0.057  0.585  0.064  0.271   0.0690701419
 295  0.038 -0.482  0.057  0.585  0.071  0.271   0.0690210572
 297  0.038 -0.482  0.057  0.585  0.078  0.271   0.0690151533
 298  0.038 -0.482  0.057  0.585  0.075  0.271   0.0690122612
 309  0.038 -0.482  0.057  0.585  0.075  0.269   0.0690108579
 311  0.038 -0.482  0.057  0.585  0.075  0.270   0.0690103835
 312  0.062 -0.472  0.041  0.589  0.087  0.268   0.0687934606
 319  0.060 -0.473  0.043  0.588  0.086  0.268   0.0687926923
 320  0.061 -0.473  0.042  0.588  0.086  0.268   0.0687921865
 321  0.061 -0.473  0.042  0.588  0.086  0.268   0.0687921593
 322  0.061 -0.473  0.042  0.588  0.086  0.268   0.0687919779
  powell nthiter 4: fret = 0.068792
 335  0.061 -0.473  0.042  0.588  0.086  0.271   0.0687827956
 338  0.061 -0.473  0.042  0.588  0.086  0.272   0.0687823645
 347  0.061 -0.470  0.042  0.588  0.086  0.272   0.0687737736
 358  0.061 -0.470  0.041  0.588  0.086  0.272   0.0687723124
 359  0.061 -0.470  0.040  0.588  0.086  0.272   0.0687721931
 370  0.061 -0.470  0.040  0.579  0.086  0.272   0.0686626602
 371  0.061 -0.470  0.040  0.574  0.086  0.272   0.0686540018
 372  0.061 -0.470  0.040  0.575  0.086  0.272   0.0686519585
 382  0.061 -0.470  0.040  0.575  0.095  0.272   0.0686233100
 383  0.061 -0.470  0.040  0.575  0.094  0.272   0.0686231866
 391  0.063 -0.469  0.039  0.576  0.095  0.272   0.0686206840
 392  0.063 -0.469  0.038  0.576  0.095  0.272   0.0686203359
 395  0.063 -0.469  0.038  0.576  0.095  0.272   0.0686203194
 397  0.063 -0.469  0.038  0.576  0.095  0.272   0.0686202482
  powell nthiter 5: fret = 0.068620
 408  0.063 -0.469  0.038  0.576  0.095  0.265   0.0686073643
 409  0.063 -0.469  0.038  0.576  0.095  0.266   0.0686055902
 410  0.063 -0.469  0.038  0.576  0.095  0.267   0.0686053742
 428  0.063 -0.469  0.052  0.576  0.095  0.267   0.0685608208
 430  0.063 -0.469  0.050  0.576  0.095  0.267   0.0685602116
 441  0.063 -0.469  0.050  0.569  0.095  0.267   0.0684976266
 442  0.063 -0.469  0.050  0.565  0.095  0.267   0.0684918271
 443  0.063 -0.469  0.050  0.566  0.095  0.267   0.0684894496
 453  0.063 -0.469  0.050  0.566  0.101  0.267   0.0684739558
 462  0.063 -0.469  0.050  0.566  0.101  0.267   0.0684739243
 464  0.063 -0.469  0.050  0.566  0.101  0.267   0.0684737294
 468  0.063 -0.469  0.050  0.566  0.101  0.267   0.0684737019
 469  0.063 -0.469  0.061  0.557  0.107  0.262   0.0684361569
 475  0.063 -0.469  0.057  0.560  0.105  0.264   0.0684322899
 476  0.063 -0.469  0.059  0.559  0.106  0.263   0.0684312183
 477  0.063 -0.469  0.058  0.559  0.106  0.263   0.0684311384
 481  0.063 -0.469  0.058  0.559  0.106  0.263   0.0684310991
  powell nthiter 6: fret = 0.068431
 503  0.063 -0.471  0.058  0.559  0.106  0.263   0.0684266392
 511  0.063 -0.471  0.064  0.559  0.106  0.263   0.0684190389
 513  0.063 -0.471  0.063  0.559  0.106  0.263   0.0684184425
 521  0.065 -0.470  0.062  0.560  0.106  0.263   0.0684158567
 524  0.065 -0.470  0.062  0.560  0.107  0.263   0.0684158167
 525  0.065 -0.470  0.062  0.560  0.107  0.263   0.0684158018
 544  0.065 -0.470  0.061  0.560  0.106  0.263   0.0684156541
  powell nthiter 7: fret = 0.068416
 564  0.065 -0.470  0.061  0.560  0.106  0.266   0.0684132715
 565  0.065 -0.470  0.061  0.560  0.106  0.265   0.0684132189
 582  0.065 -0.470  0.065  0.560  0.106  0.265   0.0684131068
 584  0.065 -0.470  0.064  0.560  0.106  0.265   0.0684121547
 585  0.065 -0.470  0.063  0.560  0.106  0.265   0.0684119798
 592  0.065 -0.470  0.062  0.560  0.106  0.265   0.0684117021
 617  0.065 -0.470  0.062  0.560  0.107  0.265   0.0684116239
Powell done niters = 7
Computing relative cost
 0  -25.0 -25.0 -25.0   0.969379
 1  -25.0 -25.0  25.0   0.952740
 2  -25.0  25.0 -25.0   0.993182
 3  -25.0  25.0  25.0   0.983810
 4   25.0 -25.0 -25.0   0.977956
 5   25.0 -25.0  25.0   1.025469
 6   25.0  25.0 -25.0   0.966735
 7   25.0  25.0  25.0   0.961564
REL:  8  0.068412    7.830835  0.978854 rel = 0.0698895 
Number of iterations     7
Min cost was 0.068412
Number of FunctionCalls   621
TolPowell 0.000100
nMaxItersPowell 36
OptimizationTime 1.616000 sec
Parameters at optimum (transmm)  0.06525 -0.46976  0.06243
Parameters at optimum (rotdeg)  0.56008  0.10653  0.26482 
Final costs ----------------
Number of surface hits 2899
WM  Intensity   332.6845 +/-  62.1841
Ctx Intensity   474.7301 +/-  98.2004
Pct Contrast     34.4836 +/-  18.4561
Cost   0.0684
RelCost   0.1832
Reg at min cost was 
-0.99990  -0.00395   0.01337   0.99196;
 0.01386  -0.17845   0.98385   2.25268;
 0.00150  -0.98394  -0.17849   1.23568;
 0.00000   0.00000   0.00000   1.00000;

Writing optimal reg to ./tmp.bbregister.32343/bbr.pass1.dat, type = 14 
Original Reg 
-0.99983  -0.00294   0.01825   0.93710;
 0.01848  -0.18804   0.98199   2.72949;
-0.00054  -0.98216  -0.18807   1.14837;
 0.00000   0.00000   0.00000   1.00000;

Original Reg - Optimal Reg
 0.00007   0.00100   0.00488  -0.05486;
 0.00462  -0.00959  -0.00186   0.47681;
-0.00204   0.00178  -0.00957  -0.08731;
 0.00000   0.00000   0.00000   0.00000;

Computing change in lh position
LH rmsDiffMean 0.619588
Computing change in rh position
Surface-RMS-Diff-mm 0.743539 0.371519 1.523281
mri_segreg done
mri_segreg --mov ./tmp.bbregister.32343/template.nii --init-reg ./tmp.bbregister.32343/bbr.pass1.dat --out-reg register.dat --interp trilinear --wm-proj-abs 2 --tol 1e-8 --tol1d 1e-3 --c0 0 --mincost register.dat.mincost --dof 6 --nmax 36 --param register.dat.param --surf white --brute -0.1 0.1 0.1 --cur-reg ./tmp.bbregister.32343/reg.curopt.dat --gm-proj-frac 0.5 --nsub 1 --gm-gt-wm 0.5
$Id: mri_segreg.c,v 1.113 2016/05/10 03:23:20 greve Exp $
setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/Park/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_037/preproc
mri_segreg --mov ./tmp.bbregister.32343/template.nii --init-reg ./tmp.bbregister.32343/bbr.pass1.dat --out-reg register.dat --interp trilinear --wm-proj-abs 2 --tol 1e-8 --tol1d 1e-3 --c0 0 --mincost register.dat.mincost --dof 6 --nmax 36 --param register.dat.param --surf white --brute -0.1 0.1 0.1 --cur-reg ./tmp.bbregister.32343/reg.curopt.dat --gm-proj-frac 0.5 --nsub 1 --gm-gt-wm 0.5 
sysname  Linux
hostname hpcnode034.adqimr.ad.lan
machine  x86_64
user     alistaiP
movvol ./tmp.bbregister.32343/template.nii
regfile ./tmp.bbregister.32343/bbr.pass1.dat
subject Patient_037
dof 6
outregfile register.dat
UseMask 0
UseLH 1
UseRH 1
nsubsamp 1
PenaltySign  -1
PenaltySlope 0.500000
PenaltyCenter 0.000000
surfname white
GMProjFrac 0.500000
WMProjAbs 2.000000
lhcostfile (null)
rhcostfile (null)
interp  trilinear (1)
frame  0
TolPowell 0.000000
nMaxItersPowell 36
n1dmin  3
Profile   0
Gdiag_no  -1
AddNoise  0 (0)
SynthSeed 1490126560
TransRandMax 0.000000
RotRandMax 0.000000
Translations 0.000000 0.000000 0.000000
Rotations   0.000000 0.000000 0.000000
Input reg
-0.99990  -0.00395   0.01337   0.99196;
 0.01386  -0.17845   0.98385   2.25268;
 0.00150  -0.98394  -0.17849   1.23568;
 0.00000   0.00000   0.00000   1.00000;

Loading mov
Projecting LH Surfs
Loading lh.white surf
Loading lh.thickness for GM
GM Proj: 1 0.500000 2.000000
WM Proj: 0 0.500000 2.000000
Projecting RH Surfs
Loading rh.white surf
Loading rh.thickness for GM
Projecting RH Surfs
Using lh.cortex.label
Using rh.cortex.label
Computing relative cost
 0  -25.0 -25.0 -25.0   1.001363
 1  -25.0 -25.0  25.0   0.973114
 2  -25.0  25.0 -25.0   0.980468
 3  -25.0  25.0  25.0   1.007585
 4   25.0 -25.0 -25.0   0.992846
 5   25.0 -25.0  25.0   1.023507
 6   25.0  25.0 -25.0   0.968561
 7   25.0  25.0  25.0   0.991559
REL:  8  0.080084    7.939004  0.992375 rel = 0.0806995 
Initial costs ----------------
Number of surface hits 289765
WM  Intensity   332.9497 +/-  62.5828
Ctx Intensity   474.7060 +/- 101.9350
Pct Contrast     34.2339 +/-  18.9399
Cost   0.0801
RelCost   0.0807

------------------------------------
Brute force preopt -0.1 0.1 0.1, n = 729
     0  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000      0.0833   0.0833  0.0
     1  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000   0.0000      0.0810   0.0810  0.0
     4  -0.1000  -0.1000  -0.1000  -0.1000   0.0000   0.0000      0.0805   0.0805  0.0
     9  -0.1000  -0.1000  -0.1000   0.0000  -0.1000  -0.1000      0.0799   0.0799  0.0
    10  -0.1000  -0.1000  -0.1000   0.0000  -0.1000   0.0000      0.0780   0.0780  0.0
    13  -0.1000  -0.1000  -0.1000   0.0000   0.0000   0.0000      0.0771   0.0771  0.0
    40  -0.1000  -0.1000   0.0000   0.0000   0.0000   0.0000      0.0758   0.0758  0.0
    63  -0.1000  -0.1000   0.1000   0.0000  -0.1000  -0.1000      0.0756   0.0756  0.0
    67  -0.1000  -0.1000   0.1000   0.0000   0.0000   0.0000      0.0753   0.0753  0.0
   103  -0.1000   0.0000  -0.1000   0.1000   0.0000   0.0000      0.0741   0.0741  0.0
   121  -0.1000   0.0000   0.0000   0.0000   0.0000   0.0000      0.0738   0.0738  0.0
   336   0.0000   0.0000  -0.1000   0.0000   0.0000  -0.1000      0.0732   0.0732  0.0
   337   0.0000   0.0000  -0.1000   0.0000   0.0000   0.0000      0.0717   0.0717  0.0
   361   0.0000   0.0000   0.0000   0.0000  -0.1000   0.0000      0.0714   0.0714  0.0
   364   0.0000   0.0000   0.0000   0.0000   0.0000   0.0000      0.0684   0.0684  0.0
Brute Force --------------------------
Min cost was 0.068412
Number of iterations   729
Search time 1.892000 sec
Parameters at best (transmm, rotdeg)
  0.000   0.000   0.000  0.000  0.000  0.000 
--------------------------------------------

Starting Powell Minimization
Init Powel Params dof = 6
0 0
1 0
2 0
3 0
4 0
5 0
fs_powell::minimize
  nparams 6
  maxfev 36
  ftol   0.000000
  linmin_xtol_   0.001000
  powell nthiter 0: fret = 0.080084
   7 -0.029  0.000  0.000  0.000  0.000  0.000   0.0799839525
   8 -0.032  0.000  0.000  0.000  0.000  0.000   0.0799834804
  22 -0.032 -0.040  0.000  0.000  0.000  0.000   0.0798812903
  23 -0.032 -0.032  0.000  0.000  0.000  0.000   0.0798723621
  32 -0.032 -0.032  0.056  0.000  0.000  0.000   0.0797389804
  33 -0.032 -0.032  0.045  0.000  0.000  0.000   0.0797248190
  34 -0.032 -0.032  0.042  0.000  0.000  0.000   0.0797236196
  35 -0.032 -0.032  0.041  0.000  0.000  0.000   0.0797232300
  43 -0.032 -0.032  0.041  0.068  0.000  0.000   0.0795893062
  44 -0.032 -0.032  0.041  0.045  0.000  0.000   0.0794842893
  45 -0.032 -0.032  0.041  0.041  0.000  0.000   0.0794799646
  46 -0.032 -0.032  0.041  0.038  0.000  0.000   0.0794794600
  47 -0.032 -0.032  0.041  0.039  0.000  0.000   0.0794791662
  56 -0.032 -0.032  0.041  0.039 -0.008  0.000   0.0794746802
  57 -0.032 -0.032  0.041  0.039 -0.007  0.000   0.0794743495
  58 -0.032 -0.032  0.041  0.039 -0.006  0.000   0.0794740485
  67 -0.032 -0.032  0.041  0.039 -0.006 -0.011   0.0794682621
  72 -0.032 -0.032  0.041  0.039 -0.006 -0.013   0.0794680753
  73 -0.032 -0.032  0.041  0.039 -0.006 -0.014   0.0794680631
  powell nthiter 1: fret = 0.079468
  83 -0.029 -0.032  0.041  0.039 -0.006 -0.014   0.0794679997
  86 -0.030 -0.032  0.041  0.039 -0.006 -0.014   0.0794678297
  93 -0.030 -0.022  0.041  0.039 -0.006 -0.014   0.0794465378
  94 -0.030 -0.017  0.041  0.039 -0.006 -0.014   0.0794455904
  95 -0.030 -0.019  0.041  0.039 -0.006 -0.014   0.0794451278
 104 -0.030 -0.019  0.033  0.039 -0.006 -0.014   0.0794226304
 106 -0.030 -0.019  0.026  0.039 -0.006 -0.014   0.0794154889
 107 -0.030 -0.019  0.025  0.039 -0.006 -0.014   0.0794154736
 116 -0.030 -0.019  0.025  0.047 -0.006 -0.014   0.0793974048
 118 -0.030 -0.019  0.025  0.048 -0.006 -0.014   0.0793970554
 127 -0.030 -0.019  0.025  0.048 -0.009 -0.014   0.0793964581
 128 -0.030 -0.019  0.025  0.048 -0.008 -0.014   0.0793961735
 137 -0.030 -0.019  0.025  0.048 -0.008 -0.015   0.0793961346
 139 -0.029 -0.006  0.009  0.058 -0.011 -0.016   0.0793845822
  powell nthiter 2: fret = 0.079396
 201 -0.028 -0.011  0.012  0.056 -0.012 -0.015   0.0793824069
 210 -0.028 -0.011  0.013  0.056 -0.012 -0.015   0.0793823894
 213 -0.028 -0.011  0.013  0.056 -0.012 -0.015   0.0793823881
  powell nthiter 3: fret = 0.079382
 240 -0.028 -0.011  0.013  0.056 -0.012 -0.016   0.0793823506
 258 -0.028 -0.011  0.013  0.056 -0.014 -0.016   0.0793821287
 265 -0.027 -0.009  0.010  0.058 -0.015 -0.016   0.0793819513
 276 -0.027 -0.009  0.010  0.058 -0.015 -0.016   0.0793819483
  powell nthiter 4: fret = 0.079382
 286 -0.028 -0.009  0.010  0.058 -0.015 -0.016   0.0793818656
 303 -0.028 -0.009  0.010  0.058 -0.015 -0.017   0.0793815153
 304 -0.028 -0.009  0.010  0.058 -0.015 -0.019   0.0793814875
 314 -0.028 -0.009  0.010  0.059 -0.015 -0.019   0.0793812748
 335 -0.028 -0.009  0.010  0.059 -0.015 -0.019   0.0793812601
  powell nthiter 5: fret = 0.079381
 348 -0.029 -0.009  0.010  0.059 -0.015 -0.019   0.0793811154
 357 -0.029 -0.008  0.010  0.059 -0.015 -0.019   0.0793809545
 361 -0.029 -0.007  0.010  0.059 -0.015 -0.019   0.0793809031
 369 -0.029 -0.007  0.010  0.059 -0.015 -0.020   0.0793806750
 379 -0.029 -0.007  0.010  0.060 -0.015 -0.020   0.0793804228
 399 -0.029 -0.007  0.010  0.060 -0.015 -0.020   0.0793804184
 400 -0.029 -0.007  0.010  0.060 -0.015 -0.020   0.0793804090
 402 -0.029 -0.007  0.010  0.060 -0.015 -0.020   0.0793803858
 404 -0.029 -0.007  0.010  0.060 -0.015 -0.020   0.0793803843
 409 -0.030 -0.005  0.010  0.061 -0.015 -0.021   0.0793799622
 412 -0.032 -0.001  0.009  0.063 -0.015 -0.022   0.0793799190
 416 -0.030 -0.004  0.010  0.061 -0.015 -0.021   0.0793798727
 422 -0.030 -0.004  0.010  0.061 -0.015 -0.021   0.0793798521
  powell nthiter 6: fret = 0.079380
 437 -0.029 -0.004  0.010  0.061 -0.015 -0.021   0.0793798280
 468 -0.029 -0.004  0.009  0.062 -0.015 -0.021   0.0793798035
 469 -0.029 -0.004  0.009  0.062 -0.015 -0.021   0.0793798035
 481 -0.030 -0.002  0.009  0.063 -0.015 -0.022   0.0793796755
 484 -0.031 -0.000  0.009  0.063 -0.015 -0.023   0.0793795611
 488 -0.031 -0.000  0.009  0.063 -0.015 -0.023   0.0793795535
 490 -0.031 -0.000  0.009  0.063 -0.015 -0.023   0.0793795520
 491 -0.031 -0.000  0.009  0.063 -0.015 -0.023   0.0793795237
  powell nthiter 7: fret = 0.079380
 505 -0.030 -0.000  0.009  0.063 -0.015 -0.023   0.0793794587
 516 -0.030 -0.001  0.009  0.063 -0.015 -0.023   0.0793793417
 533 -0.029 -0.000  0.008  0.064 -0.015 -0.023   0.0793792063
 548 -0.029 -0.000  0.008  0.064 -0.016 -0.023   0.0793791722
 555 -0.030  0.000  0.008  0.065 -0.016 -0.023   0.0793791343
 556 -0.030  0.000  0.008  0.064 -0.016 -0.023   0.0793790680
  powell nthiter 8: fret = 0.079379
 579 -0.030 -0.001  0.008  0.064 -0.016 -0.023   0.0793789786
 588 -0.030 -0.001  0.008  0.064 -0.016 -0.024   0.0793789765
 596 -0.030 -0.001  0.008  0.065 -0.016 -0.024   0.0793789647
 597 -0.030 -0.001  0.007  0.065 -0.017 -0.024   0.0793789607
 599 -0.030 -0.001  0.008  0.065 -0.017 -0.024   0.0793789453
 600 -0.030 -0.001  0.008  0.065 -0.017 -0.024   0.0793789388
 620 -0.030 -0.000  0.008  0.065 -0.017 -0.024   0.0793789234
 621 -0.030 -0.000  0.008  0.065 -0.017 -0.024   0.0793789232
 622 -0.030 -0.000  0.008  0.065 -0.017 -0.024   0.0793788599
 625 -0.030 -0.000  0.008  0.065 -0.017 -0.024   0.0793788549
 626 -0.030 -0.000  0.008  0.065 -0.017 -0.024   0.0793788534
  powell nthiter 9: fret = 0.079379
Powell done niters = 9
Computing relative cost
 0  -25.0 -25.0 -25.0   1.001229
 1  -25.0 -25.0  25.0   0.972522
 2  -25.0  25.0 -25.0   0.980576
 3  -25.0  25.0  25.0   1.007751
 4   25.0 -25.0 -25.0   0.992458
 5   25.0 -25.0  25.0   1.023861
 6   25.0  25.0 -25.0   0.968698
 7   25.0  25.0  25.0   0.991277
REL:  8  0.079379    7.938372  0.992297 rel = 0.0799951 
Number of iterations     9
Min cost was 0.079379
Number of FunctionCalls   695
TolPowell 0.000000
nMaxItersPowell 36
OptimizationTime 75.074000 sec
Parameters at optimum (transmm) -0.02976 -0.00040  0.00752
Parameters at optimum (rotdeg)  0.06475 -0.01651 -0.02428 
Final costs ----------------
Number of surface hits 289765
WM  Intensity   332.8491 +/-  62.5468
Ctx Intensity   474.6693 +/- 101.8233
Pct Contrast     34.2585 +/-  18.9260
Cost   0.0794
RelCost   0.0807
Reg at min cost was 
-0.99990  -0.00374   0.01384   0.96280;
 0.01429  -0.17734   0.98405   2.25046;
 0.00123  -0.98414  -0.17737   1.24603;
 0.00000   0.00000   0.00000   1.00000;

Writing optimal reg to register.dat, type = 14 
Original Reg 
-0.99990  -0.00395   0.01337   0.99196;
 0.01386  -0.17845   0.98385   2.25268;
 0.00150  -0.98394  -0.17849   1.23568;
 0.00000   0.00000   0.00000   1.00000;

Original Reg - Optimal Reg
-0.00001  -0.00021  -0.00047   0.02916;
-0.00042  -0.00111  -0.00020   0.00222;
 0.00027   0.00020  -0.00112  -0.01035;
 0.00000   0.00000   0.00000   0.00000;

Computing change in lh position
LH rmsDiffMean 0.072141
Computing change in rh position
Surface-RMS-Diff-mm 0.068080 0.023995 0.135256
mri_segreg done
MinCost: 0.079379 332.849106 474.669251 34.258503 
tkregister2_cmdl --mov biasmeanb0bet.nii.gz --reg register.dat --noedit --fslregout diff2FS.mat
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume biasmeanb0bet.nii.gz
reg file       register.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
---- Input registration matrix --------
-0.99990  -0.00374   0.01384   0.96280;
 0.01429  -0.17734   0.98405   2.25046;
 0.00123  -0.98414  -0.17737   1.24603;
 0.00000   0.00000   0.00000   1.00000;
float2int = 0
---------------------------------------
INFO: loading target /working/lab_michaebr/alistaiP/Park/FS/Patient_037/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable biasmeanb0bet.nii.gz
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 0, float2int = 0
---- Input registration matrix --------
-0.99990  -0.00374   0.01384   0.96280;
 0.01429  -0.17734   0.98405   2.25046;
 0.00123  -0.98414  -0.17737   1.24603;
 0.00000   0.00000   0.00000   1.00000;
Determinant -0.999998
subject = Patient_037
RegMat ---------------------------
-0.99990  -0.00374   0.01384   0.96280;
 0.01429  -0.17734   0.98405   2.25046;
 0.00123  -0.98414  -0.17737   1.24603;
 0.00000   0.00000   0.00000   1.00000;
FSLOUTPUTTYPE NIFTI_GZ 
tkreg2FSL: mov det = 5.02197, ref det = -1
INFO: FSL2FreeSurfer: Mov volume is NIFTI with positive det,
      applying LR flip to registration matrix.
Cleaning up
 
Started at Sat Mar 18 02:36:31 AEST 2017 
Ended   at Sat Mar 18 02:39:17 AEST 2017
BBR-Run-Time-Sec 166
 
bbregister Done
To check results, run:
tkregisterfv --mov biasmeanb0bet.nii.gz --reg register.dat --surfs 
 
dwi2response: [03;32m[0m
dwi2response: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation. Please consult the help page (-help option) for more information.[0m
dwi2response: [03;32m[0m
dwi2response: [03;32mGenerated temporary directory: /tmp/dwi2response-tmp-1E5FYM/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_037/preproc/biascorr.mif /tmp/dwi2response-tmp-1E5FYM/dwi.mif -stride 0,0,0,1
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_037/preproc/biasmeanb0bet_mask.nii.gz /tmp/dwi2response-tmp-1E5FYM/mask.mif -datatype bit
dwi2response: [03;32mChanging to temporary directory (/tmp/dwi2response-tmp-1E5FYM/)[0m
dwi2response: [03;32m2 unique b-value(s) detected: 0,3000 with 12,90 volumes.[0m
[03;34mCommand:[0m maskfilter mask.mif erode eroded_mask.mif -npass 3
[03;34mCommand:[0m dwiextract dwi.mif -shell 0 dwi_b0.mif
[03;34mCommand:[0m mrmath dwi_b0.mif mean mean_b0.mif -axis 3
[03;34mCommand:[0m mrcalc mean_b0.mif -finite mean_b0.mif 0 -if 0 -le err_b0.mif -datatype bit
[03;34mCommand:[0m dwiextract dwi.mif -shell 3000 dwi_b3000.mif
[03;34mCommand:[0m mrmath dwi_b3000.mif mean mean_b3000.mif -axis 3
[03;34mCommand:[0m mrcalc mean_b3000.mif -finite mean_b3000.mif 0 -if 0 -le err_b3000.mif -datatype bit
[03;34mCommand:[0m mrcalc mean_b0.mif mean_b3000.mif -divide -log sdm_b3000.mif
[03;34mCommand:[0m mrcalc sdm_b3000.mif 90 -mult 90 -divide full_sdm.mif
[03;34mCommand:[0m mrcalc full_sdm.mif -finite full_sdm.mif 0 -if 0 -le err_sdm.mif -datatype bit
[03;34mCommand:[0m mrcalc err_b0.mif err_b3000.mif -add err_sdm.mif -add 0 eroded_mask.mif -if safe_mask.mif -datatype bit
[03;34mCommand:[0m mrcalc safe_mask.mif full_sdm.mif 0 -if 10 -min safe_sdm.mif
[03;34mCommand:[0m dwi2tensor dwi.mif - -mask safe_mask.mif | tensor2metric - -fa safe_fa.mif -vector safe_vecs.mif -modulate none -mask safe_mask.mif
[03;34mCommand:[0m mrcalc safe_mask.mif safe_fa.mif 0 -if 0.2 -gt crude_wm.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_wm.mif 0 safe_mask.mif -if _crudenonwm.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudenonwm.mif safe_sdm.mif 2.10207 -subtract 0 -if - | mrthreshold - - -mask _crudenonwm.mif | mrcalc _crudenonwm.mif - 0 -if crude_csf.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_csf.mif 0 _crudenonwm.mif -if crude_gm.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_wm.mif safe_sdm.mif 0 -if 1.45903 -gt _crudewmhigh.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudewmhigh.mif 0 crude_wm.mif -if _crudewmlow.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_wm.mif safe_sdm.mif 0 -if 1.8975 -gt _crudewmoutliers.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudewmoutliers.mif 0 crude_wm.mif -if refined_wm.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_gm.mif safe_sdm.mif 0 -if 1.91403 -gt _crudegmhigh.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmhigh.mif 0 crude_gm.mif -if _crudegmlow.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmhigh.mif safe_sdm.mif 1.91403 -subtract 0 -if - | mrthreshold - - -mask _crudegmhigh.mif -invert | mrcalc _crudegmhigh.mif - 0 -if _crudegmhighselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmlow.mif safe_sdm.mif 1.91403 -subtract -neg 0 -if - | mrthreshold - - -mask _crudegmlow.mif -invert | mrcalc _crudegmlow.mif - 0 -if _crudegmlowselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmhighselect.mif 1 _crudegmlowselect.mif -if refined_gm.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudewmoutliers.mif safe_sdm.mif 0 -if 2.77797 -gt 1 crude_csf.mif -if _crudecsfextra.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudecsfextra.mif safe_sdm.mif 2.77797 -subtract 0 -if - | mrthreshold - - -mask _crudecsfextra.mif | mrcalc _crudecsfextra.mif - 0 -if refined_csf.mif -datatype bit
dwi2response: [03;32mRunning 'tournier' algorithm to select 647 single-fibre WM voxels.[0m
[03;34mCommand:[0m dwi2response tournier dwi.mif _respsfwmss.txt -sf_voxels 647 -iter_voxels 6470 -mask refined_wm.mif -voxels voxels_sfwm.mif -quiet -tempdir /tmp/dwi2response-tmp-1E5FYM/
[03;34mCommand:[0m mrcalc refined_gm.mif safe_sdm.mif 0 -if 1.90286 -gt _refinedgmhigh.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmhigh.mif 0 refined_gm.mif -if _refinedgmlow.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmhigh.mif safe_sdm.mif 0 -if - | mrthreshold - - -bottom 775 -ignorezero | mrcalc _refinedgmhigh.mif - 0 -if _refinedgmhighselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmlow.mif safe_sdm.mif 0 -if - | mrthreshold - - -top 775 -ignorezero | mrcalc _refinedgmlow.mif - 0 -if _refinedgmlowselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmhighselect.mif 1 _refinedgmlowselect.mif -if voxels_gm.mif -datatype bit
[03;34mCommand:[0m mrcalc refined_csf.mif safe_sdm.mif 0 -if - | mrthreshold - - -top 1735 -ignorezero | mrcalc refined_csf.mif - 0 -if voxels_csf.mif -datatype bit
dwi2response: [03;32mSummary of voxel counts:[0m
dwi2response: [03;32mMask: 369101 --> 302322 --> 302277[0m
dwi2response: [03;32mWM: 136471 --> 129476 --> 647 (SF)[0m
dwi2response: [03;32mGM: 122394 --> 77490 --> 1550[0m
dwi2response: [03;32mCSF: 43412 --> 17346 --> 1735[0m
[03;34mCommand:[0m amp2sh dwi_b0.mif - | sh2response - voxels_sfwm.mif safe_vecs.mif _respsfwmb0.txt
[03;34mCommand:[0m amp2sh dwi_b3000.mif - | sh2response - voxels_sfwm.mif safe_vecs.mif _respsfwmb3000.txt
[03;34mCommand:[0m mrcat crude_csf.mif crude_gm.mif crude_wm.mif crude.mif -axis 3
[03;34mCommand:[0m mrcat refined_csf.mif refined_gm.mif refined_wm.mif refined.mif -axis 3
[03;34mCommand:[0m mrcat voxels_csf.mif voxels_gm.mif voxels_sfwm.mif voxels.mif -axis 3
dwi2response: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_037/preproc)[0m
dwi2response: [03;32mDeleting temporary directory /tmp/dwi2response-tmp-1E5FYM/[0m
