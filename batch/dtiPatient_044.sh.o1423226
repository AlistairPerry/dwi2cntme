dwipreproc_cust: [03;32m[0m
dwipreproc_cust: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
dwipreproc_cust: [03;32m[0m
dwipreproc_cust: [03;32mGenerated temporary directory: /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_044/preproc/dwipreproc_cust-tmp-65C1MU/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_044/preproc/rawdataAPdn.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_044/preproc/dwipreproc_cust-tmp-65C1MU/series.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_044/preproc/AP7b0s.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_044/preproc/dwipreproc_cust-tmp-65C1MU/pair1.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_044/preproc/rawdataPAdn.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_044/preproc/dwipreproc_cust-tmp-65C1MU/pair2.mif
dwipreproc_cust: [03;32mChanging to temporary directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_044/preproc/dwipreproc_cust-tmp-65C1MU/)[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 102[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -dwgrad' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult:           0           0           0           0
          0           0           0           0
  -0.999991 -0.00200921  0.00368443        3000
   0.025416   -0.743965   -0.667735        3000
-0.00362521    0.517021    0.855965        3000
   0.272473    0.827824   -0.490373        3000
  -0.650882     0.40503   -0.642109        3000
   0.507903    0.260372    0.821121        3000
   0.959621    0.279695   0.0299625        3000
   0.534339    0.380647   -0.754712        3000
  -0.316411    0.133843   -0.939133        3000
          0           0           0           0
   0.505636   -0.589779   -0.629677        3000
    0.60005   0.0952732   -0.794269        3000
  -0.954111   -0.154532   -0.256498        3000
  -0.527329   -0.742319    0.413385        3000
   0.193678   -0.924717      0.3277        3000
  -0.365204    0.925006   -0.104832        3000
   0.259782    0.930463    0.258366        3000
  0.0234239    0.510338   -0.859655        3000
  -0.614473    0.788064  -0.0371151        3000
          0           0           0           0
   0.872326   0.0312667    0.487925        3000
  -0.743276   -0.230097    0.628169        3000
   0.488216    0.675851     0.55215        3000
  -0.451966   -0.890672  -0.0493006        3000
  -0.662728   -0.430393   -0.612824        3000
  -0.853101    0.237349   -0.464633        3000
  -0.439482   -0.505095   -0.742789        3000
   0.957924   -0.138508   -0.251391        3000
   -0.70395   -0.593845   -0.389619        3000
          0           0           0           0
  -0.387229   -0.180363     0.90417        3000
   0.143003   -0.680751     0.71842        3000
  -0.803164   -0.595231    0.025049        3000
  -0.288608   -0.131119   -0.948427        3000
   0.962819     -0.1287    0.237519        3000
  -0.151411   -0.695863    0.702032        3000
 -0.0180586   -0.982948   -0.182994        3000
  -0.376912   -0.897056    0.230712        3000
   0.668827     0.72809    0.150183        3000
          0           0           0           0
  -0.290384   -0.465629    0.835983        3000
  -0.722045   -0.162129   -0.672581        3000
   0.716712   -0.658436    0.229749        3000
   0.427819   -0.580839    0.692529        3000
   0.959193    -0.28208  -0.0194935        3000
   0.492963   -0.296417       0.818        3000
  -0.894046    0.398475   -0.204692        3000
   0.203577    0.978524  -0.0323594        3000
  -0.231235    0.966251    0.113529        3000
          0           0           0           0
   0.739211    0.599895   -0.306093        3000
   0.843534    0.336265    -0.41878        3000
   0.105226   -0.284175    0.952981        3000
   0.239816      0.3983    0.885351        3000
   0.613503    0.777148   -0.140197        3000
  -0.266484    0.456841   -0.848695        3000
  -0.657946    -0.51284    0.551455        3000
   0.257211   -0.895072   -0.364264        3000
  -0.249594   -0.820098   -0.514919        3000
          0           0           0           0
  -0.572633    0.658683   -0.488086        3000
 -0.0215391   -0.247239   -0.968715        3000
  -0.224677    0.319888     0.92043        3000
   0.837501    0.321776    0.441646        3000
   0.861444     0.46395    0.206552        3000
  -0.488485   -0.809371   -0.326038        3000
   0.106436    0.947109   -0.302749        3000
  -0.541849   0.0106235   -0.840409        3000
   0.250737   -0.575793   -0.778199        3000
          0           0           0           0
    0.22908  -0.0438196   -0.972421        3000
   0.216071    0.652248    0.726558        3000
  -0.961252   -0.145445    0.234182        3000
  -0.311459    0.788323   -0.530604        3000
   0.871266   -0.428249   -0.239789        3000
  -0.845317    0.262961    0.465071        3000
  -0.894303   -0.411606    0.175509        3000
   0.704181   -0.677623   -0.212029        3000
   0.666917   -0.349745   -0.657952        3000
          0           0           0           0
  -0.517722    0.748856    0.413738        3000
   0.719123    -0.13454    0.681734        3000
  0.0403267  -0.0211726    0.998962        3000
  -0.827737    0.561117  0.00046389        3000
   -0.45314    0.384672    0.804171        3000
   0.879177   0.0357261   -0.475155        3000
   0.148594     0.24669   -0.957635        3000
   0.767408   -0.483779    0.420765        3000
    0.47943   -0.128057   -0.868187        3000
          0           0           0           0
  -0.718125    0.531885    0.448771        3000
   0.482045    -0.82204    0.303122        3000
  -0.282056    0.761392    0.583718        3000
 -0.0172179     0.84674   -0.531728        3000
  0.0654636   -0.992555    0.102708        3000
   0.421121    0.633424   -0.649177        3000
  -0.733284   0.0918252    0.673693        3000
 0.00119507    0.896361    0.443323        3000
    0.47666   -0.861685    -0.17405        3000
          0           0           0           0[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -stride' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 1 2 3 4[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair1.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair2.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
[03;34mCommand:[0m mrconvert series.mif dwi_pre_topup.nii -stride -1,+2,+3,+4
[03;34mCommand:[0m mrcat pair1.mif pair2.mif - -axis 3 | mrconvert - topup_in.nii -stride -1,+2,+3,+4
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair1.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair2.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
dwipreproc_cust: [03;32mCreating phase-encoding configuration file[0m
[03;34mCommand:[0m topup --imain=topup_in.nii --datain=config.txt --out=field --fout=field_map.nii.gz --config=/software/fsl/fsl-5.0.9_eddy/fsl/etc/flirtsch/b02b0.cnf
[03;34mCommand:[0m applytopup --imain=dwi_pre_topup.nii --datain=config.txt --inindex=1 --topup=field --out=dwi_post_topup.nii.gz --method=jac
[03;34mCommand:[0m mrconvert series.mif - -stride -1,+2,+3,+4 | mrinfo - -export_grad_fsl bvecs bvals
[03;34mCommand:[0m mrconvert dwi_post_topup.nii.gz -fslgrad bvecs bvals - | dwi2mask - - | maskfilter - dilate - | mrconvert - mask.nii -datatype float32 -stride -1,+2,+3
[03;34mCommand:[0m eddy_openmp --imain=dwi_pre_topup.nii --mask=mask.nii --index=indices.txt --acqp=config.txt --bvecs=bvecs --bvals=bvals --repol --topup=field --out=dwi_post_eddy
[03;34mCommand:[0m mrconvert dwi_post_eddy.nii.gz result.mif -stride 1,2,3,4 -fslgrad dwi_post_eddy.eddy_rotated_bvecs bvals
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_044/preproc/eddycorr.mif -export_grad_mrtrix /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_044/preproc/adjencoding.b
dwipreproc_cust: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_044/preproc)[0m
dwipreproc_cust: [03;32mDeleting temporary directory /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_044/preproc/dwipreproc_cust-tmp-65C1MU/[0m
dwibiascorrect: [03;32m[0m
dwibiascorrect: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
dwibiascorrect: [03;32m[0m
dwibiascorrect: [03;32mGenerated temporary directory: /tmp/dwibiascorrect-tmp-O4EG1T/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_044/preproc/eddycorr.mif /tmp/dwibiascorrect-tmp-O4EG1T/in.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_044/preproc/eddymeanb0bet_mask.nii.gz /tmp/dwibiascorrect-tmp-O4EG1T/mask.mif
dwibiascorrect: [03;32mChanging to temporary directory (/tmp/dwibiascorrect-tmp-O4EG1T/)[0m
[03;34mCommand:[0m dwiextract in.mif - -bzero | mrmath - mean mean_bzero.mif -axis 3
[03;34mCommand:[0m mrcalc mean_bzero.mif mask.mif -mult - | mrconvert - mean_bzero_masked.nii -stride -1,+2,+3
[03;34mCommand:[0m fast -t 2 -o fast -n 3 -b mean_bzero_masked.nii
[03;34mCommand:[0m mrcalc in.mif fast_bias.nii.gz -div result.mif
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_044/preproc/biascorr.mif
dwibiascorrect: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_044/preproc)[0m
dwibiascorrect: [03;32mDeleting temporary directory /tmp/dwibiascorrect-tmp-O4EG1T/[0m
Extracting mean of the b=0 shell.
Extracting mean of the b=3000 shell.
Extracting mean of the b=0 shell.
Extracting mean of the b=3000 shell.
23224
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mGenerated temporary directory: /tmp/labelsgmfix-tmp-CFJWWY/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_044/preproc/parctempstr.nii /tmp/labelsgmfix-tmp-CFJWWY/parc.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_044/preproc/brainFS.nii /tmp/labelsgmfix-tmp-CFJWWY/T1.nii -stride -1,+2,+3
labelsgmfix: [03;32mChanging to temporary directory (/tmp/labelsgmfix-tmp-CFJWWY/)[0m
[03;34mCommand:[0m run_first_all -s R_Thal,L_Puta,R_Caud,R_Hipp,L_Amyg,R_Pall,R_Amyg,L_Caud,L_Pall,L_Thal,L_Hipp,R_Accu,L_Accu,R_Puta -i T1.nii -b -o first
[03;34mCommand:[0m mrcalc parc.mif 0 -min sgm.mif
[03;34mCommand:[0m meshconvert first-R_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Thal_mask.mif 6 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Puta_mask.mif 3 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Caud_mask.mif 7 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Hipp_mask.mif 13 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Amyg_mask.mif 12 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Pall_mask.mif 9 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Amyg_mask.mif 14 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Caud_mask.mif 2 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Pall_mask.mif 4 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Thal_mask.mif 1 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Hipp_mask.mif 11 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Accu_mask.mif 10 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Accu_mask.mif 5 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Puta_mask.mif 8 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m mrmath R_Thal_mask.mif L_Puta_mask.mif R_Caud_mask.mif R_Hipp_mask.mif L_Amyg_mask.mif R_Pall_mask.mif R_Amyg_mask.mif L_Caud_mask.mif L_Pall_mask.mif L_Thal_mask.mif L_Hipp_mask.mif R_Accu_mask.mif L_Accu_mask.mif R_Puta_mask.mif sum - | mrcalc - 1 -gt sgm_overlap_mask.mif
[03;34mCommand:[0m mrcalc sgm_overlap_mask.mif 0 sgm.mif -if sgm_masked.mif
[03;34mCommand:[0m labelconvert sgm_masked.mif /software/mrtrix3/mrtrix3-AP/scripts/data/FreeSurferSGM.txt /software/mrtrix3/mrtrix3-AP/src/connectome/tables/fs_a2009s.txt sgm_new_labels.mif
[03;34mCommand:[0m mrcalc parc.mif 83 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 78 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 84 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 87 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 81 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 86 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 88 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 77 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 79 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 76 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 80 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 89 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 82 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 85 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc sgm_new_labels.mif 0.5 -gt sgm_new_labels.mif parc.mif -if result.mif -datatype uint32
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_044/preproc/parc_fixsubcort.nii
labelsgmfix: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_044/preproc)[0m
labelsgmfix: [03;32mDeleting temporary directory /tmp/labelsgmfix-tmp-CFJWWY/[0m
tmp ./tmp.bbregister.7066
Log file is register.dat.log
Sat Mar 18 06:58:41 AEST 2017

setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/Park/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_044/preproc
/software/freesurfer/freesurfer-6.0.0/bin/bbregister --s Patient_044 --mov biasmeanb0bet.nii.gz --init-fsl --reg register.dat --dti --fslmat diff2FS.mat

$Id: bbregister,v 1.75 2016/05/10 20:02:28 greve Exp $
Linux hpcnode039.adqimr.ad.lan 3.10.0-327.3.1.el7.x86_64 #1 SMP Wed Dec 9 14:09:15 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
FREESURFER_HOME /software/freesurfer/freesurfer-6.0.0
mri_convert biasmeanb0bet.nii.gz ./tmp.bbregister.7066/template.nii
mri_convert.bin biasmeanb0bet.nii.gz ./tmp.bbregister.7066/template.nii 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from biasmeanb0bet.nii.gz...
TR=1000.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (0.999573, -0.0291777, -0.00130971)
j_ras = (0.0280952, 0.972808, -0.229901)
k_ras = (0.00798208, 0.229766, 0.973213)
writing to ./tmp.bbregister.7066/template.nii...
fslregister --s Patient_044 --mov ./tmp.bbregister.7066/template.nii --reg ./tmp.bbregister.7066/reg.init.dat --niters 1 --maxangle 90 --tmp ./tmp.bbregister.7066/fslregister --dof 6 --fsvol brainmask.mgz --nobetmov

Log file is ./tmp.bbregister.7066/reg.init.dat.fslregister.log

Sat Mar 18 06:58:41 AEST 2017
--s Patient_044 --mov ./tmp.bbregister.7066/template.nii --reg ./tmp.bbregister.7066/reg.init.dat --niters 1 --maxangle 90 --tmp ./tmp.bbregister.7066/fslregister --dof 6 --fsvol brainmask.mgz --nobetmov
$Id: fslregister,v 1.40 2016/02/12 21:43:15 zkaufman Exp $
hpcnode039.adqimr.ad.lan
Linux hpcnode039.adqimr.ad.lan 3.10.0-327.3.1.el7.x86_64 #1 SMP Wed Dec 9 14:09:15 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
nIters 1
--------------------------------------
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_044/preproc
mri_convert /working/lab_michaebr/alistaiP/Park/FS/Patient_044/mri/brainmask.mgz ./tmp.bbregister.7066/fslregister/refvol.fslregister.nii
mri_convert.bin /working/lab_michaebr/alistaiP/Park/FS/Patient_044/mri/brainmask.mgz ./tmp.bbregister.7066/fslregister/refvol.fslregister.nii 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from /working/lab_michaebr/alistaiP/Park/FS/Patient_044/mri/brainmask.mgz...
TR=0.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (-1, -2.32831e-09, 0)
j_ras = (-4.65661e-10, 0, -1)
k_ras = (3.49246e-10, 1, 0)
writing to ./tmp.bbregister.7066/fslregister/refvol.fslregister.nii...
--------------------------------------
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_044/preproc
mri_convert ./tmp.bbregister.7066/template.nii ./tmp.bbregister.7066/fslregister/movvol.fslregister.nii --frame 0
mri_convert.bin ./tmp.bbregister.7066/template.nii ./tmp.bbregister.7066/fslregister/movvol.fslregister.nii --frame 0 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from ./tmp.bbregister.7066/template.nii...
TR=1000.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (0.999573, -0.0291777, -0.00130971)
j_ras = (0.0280952, 0.972808, -0.229901)
k_ras = (0.00798208, 0.229766, 0.973213)
keeping frame 0
writing to ./tmp.bbregister.7066/fslregister/movvol.fslregister.nii...
Mov determinant is 5.02197
Swapping dims for pos det
WARNING:: Flipping Left/Right orientation (as det < 0)
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
target  volume ./tmp.bbregister.7066/fslregister/movvol.fslregister.nii
movable volume ./tmp.bbregister.7066/template.nii
reg file       ./tmp.bbregister.7066/fslregister/swapreg.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target ./tmp.bbregister.7066/fslregister/movvol.fslregister.nii
INFO: target does not conform to COR format, so I'm going to
reslice to COR. This will not affect the final registration.
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.7066/template.nii
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 1, float2int = 0
Computing reg from header (and possibly input matrix)
---- Input registration matrix (computed) --------
-0.99957   0.02918   0.00131   1.71875;
 0.00798   0.22977   0.97321   0.00003;
-0.02810  -0.97281   0.22990   0.00002;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
-0.99957   0.02918   0.00131   1.71875;
 0.00798   0.22977   0.97321   0.00003;
-0.02810  -0.97281   0.22990   0.00002;
 0.00000   0.00000   0.00000   1.00000;
Determinant -1
subject = subject-unknown
RegMat ---------------------------
-1.00000   0.00000   0.00000   1.71875;
-0.00000   1.00000   0.00000   0.00003;
 0.00000   0.00000   1.00000   0.00002;
 0.00000   0.00000   0.00000   1.00000;
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_044/preproc
tkregister2_cmdl --mov ./tmp.bbregister.7066/fslregister/movvol.fslregister.nii --reg ./tmp.bbregister.7066/fslregister/reg0.7106.dat --regheader --fslregout ./tmp.bbregister.7066/reg.init.dat.fsl.mat0 --s Patient_044 --noedit
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume ./tmp.bbregister.7066/fslregister/movvol.fslregister.nii
reg file       ./tmp.bbregister.7066/fslregister/reg0.7106.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target /working/lab_michaebr/alistaiP/Park/FS/Patient_044/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.7066/fslregister/movvol.fslregister.nii
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 1, float2int = 0
Computing reg from header (and possibly input matrix)
---- Input registration matrix (computed) --------
 0.99957  -0.02918  -0.00131   0.95419;
 0.00798   0.22977   0.97321  -6.30943;
-0.02810  -0.97281   0.22990  -9.99715;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
 0.99957  -0.02918  -0.00131   0.95419;
 0.00798   0.22977   0.97321  -6.30943;
-0.02810  -0.97281   0.22990  -9.99715;
 0.00000   0.00000   0.00000   1.00000;
Determinant 1
subject = Patient_044
RegMat ---------------------------
 0.99957  -0.02918  -0.00131   0.95419;
 0.00798   0.22977   0.97321  -6.30943;
-0.02810  -0.97281   0.22990  -9.99715;
 0.00000   0.00000   0.00000   1.00000;
FSLOUTPUTTYPE NIFTI 
tkreg2FSL: mov det = -5.02197, ref det = -1
Sat Mar 18 06:58:44 AEST 2017
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_044/preproc
flirt.fsl -ref ./tmp.bbregister.7066/fslregister/refvol.fslregister.nii -in ./tmp.bbregister.7066/fslregister/movvol.fslregister.nii -bins 256 -cost corratio -dof 6 -searchrx -90 90 -searchry -90 90 -searchrz -90 90 -verbose 0 -omat ./tmp.bbregister.7066/fslregister/fslmat0.trans.mat -schedule /software/freesurfer/freesurfer-6.0.0/bin/fsl.5.0.2.xyztrans.sch -init ./tmp.bbregister.7066/reg.init.dat.fsl.mat0
Sat Mar 18 06:59:15 AEST 2017
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_044/preproc
flirt.fsl -ref ./tmp.bbregister.7066/fslregister/refvol.fslregister.nii -in ./tmp.bbregister.7066/fslregister/movvol.fslregister.nii -bins 256 -cost corratio -dof 6 -searchrx -90 90 -searchry -90 90 -searchrz -90 90 -verbose 0 -omat ./tmp.bbregister.7066/reg.init.dat.fsl.mat -init ./tmp.bbregister.7066/fslregister/fslmat0.trans.mat -schedule /software/freesurfer/freesurfer-6.0.0/bin/flirt.newdefault.20080811.sch
tkregister2_cmdl --s Patient_044 --mov ./tmp.bbregister.7066/fslregister/movvol.fslregister.nii --reg ./tmp.bbregister.7066/reg.init.dat --fslreg ./tmp.bbregister.7066/reg.init.dat.fsl.mat --noedit
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
---- FSL registration matrix --------
 0.99946  -0.03259  -0.00304   23.35410;
 0.00567   0.26387  -0.96454   166.83299;
 0.03223   0.96401   0.26391  -10.44140;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume ./tmp.bbregister.7066/fslregister/movvol.fslregister.nii
reg file       ./tmp.bbregister.7066/reg.init.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target /working/lab_michaebr/alistaiP/Park/FS/Patient_044/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.7066/fslregister/movvol.fslregister.nii
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 0, float2int = 0
FSLOUTPUTTYPE NIFTI 
fsl2TkReg: mov det = -5.02197, ref det = -1
---- Input registration matrix (computed) --------
 0.99946  -0.03223   0.00567   1.16791;
 0.00304   0.26391   0.96454  -2.82545;
-0.03259  -0.96401   0.26387  -9.80145;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
 0.99946  -0.03223   0.00567   1.16791;
 0.00304   0.26391   0.96454  -2.82545;
-0.03259  -0.96401   0.26387  -9.80145;
 0.00000   0.00000   0.00000   1.00000;
Determinant 0.999999
subject = Patient_044
RegMat ---------------------------
 0.99946  -0.03223   0.00567   1.16791;
 0.00304   0.26391   0.96454  -2.82545;
-0.03259  -0.96401   0.26387  -9.80145;
 0.00000   0.00000   0.00000   1.00000;
mri_matrix_multiply -im ./tmp.bbregister.7066/fslregister/swapreg.dat -im ./tmp.bbregister.7066/reg.init.dat -om ./tmp.bbregister.7066/reg.init.dat
(standard_in) 1: illegal character: P
 
Started at Sat Mar 18 06:58:41 AEST 2017 
Ended   at Sat Mar 18 07:00:19 AEST 2017
 
fslregister Done
 
To check results, run:
tkregister2 --mov ./tmp.bbregister.7066/template.nii --reg ./tmp.bbregister.7066/reg.init.dat --surf orig
 
mri_segreg --mov ./tmp.bbregister.7066/template.nii --init-reg ./tmp.bbregister.7066/reg.init.dat --out-reg ./tmp.bbregister.7066/bbr.pass1.dat --subsamp-brute 100 --subsamp 100 --tol 1e-4 --tol1d 1e-3 --brute -4 4 4 --surf white --gm-proj-frac 0.5 --gm-gt-wm 0.5
$Id: mri_segreg.c,v 1.113 2016/05/10 03:23:20 greve Exp $
setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/Park/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_044/preproc
mri_segreg --mov ./tmp.bbregister.7066/template.nii --init-reg ./tmp.bbregister.7066/reg.init.dat --out-reg ./tmp.bbregister.7066/bbr.pass1.dat --subsamp-brute 100 --subsamp 100 --tol 1e-4 --tol1d 1e-3 --brute -4 4 4 --surf white --gm-proj-frac 0.5 --gm-gt-wm 0.5 
sysname  Linux
hostname hpcnode039.adqimr.ad.lan
machine  x86_64
user     alistaiP
movvol ./tmp.bbregister.7066/template.nii
regfile ./tmp.bbregister.7066/reg.init.dat
subject Patient_044
dof 6
outregfile ./tmp.bbregister.7066/bbr.pass1.dat
UseMask 0
UseLH 1
UseRH 1
nsubsamp 100
PenaltySign  -1
PenaltySlope 0.500000
PenaltyCenter 0.000000
surfname white
GMProjFrac 0.500000
WMProjAbs 2.000000
lhcostfile (null)
rhcostfile (null)
interp  trilinear (1)
frame  0
TolPowell 0.000100
nMaxItersPowell 36
n1dmin  3
Profile   0
Gdiag_no  -1
AddNoise  0 (0)
SynthSeed 1490505293
TransRandMax 0.000000
RotRandMax 0.000000
Translations 0.000000 0.000000 0.000000
Rotations   0.000000 0.000000 0.000000
Input reg
-0.99946   0.03223  -0.00567   0.55084;
 0.00304   0.26391   0.96454  -2.82542;
-0.03259  -0.96401   0.26387  -9.80143;
 0.00000   0.00000   0.00000   1.00000;

Loading mov
Projecting LH Surfs
Loading lh.white surf
Loading lh.thickness for GM
GM Proj: 1 0.500000 2.000000
WM Proj: 0 0.500000 2.000000
Projecting RH Surfs
Loading rh.white surf
Loading rh.thickness for GM
Projecting RH Surfs
Using lh.cortex.label
Using rh.cortex.label
Computing relative cost
 0  -25.0 -25.0 -25.0   0.977501
 1  -25.0 -25.0  25.0   1.028397
 2  -25.0  25.0 -25.0   0.987712
 3  -25.0  25.0  25.0   1.011633
 4   25.0 -25.0 -25.0   1.010524
 5   25.0 -25.0  25.0   0.971214
 6   25.0  25.0 -25.0   0.982497
 7   25.0  25.0  25.0   0.980866
REL:  8  0.238864    7.950346  0.993793 rel = 0.240356 
Initial costs ----------------
Number of surface hits 2983
WM  Intensity   324.9579 +/-  92.6011
Ctx Intensity   503.3735 +/- 198.8527
Pct Contrast     37.8673 +/-  38.1022
Cost   0.2389
RelCost   0.2404

------------------------------------
Brute force preopt -4 4 4, n = 729
     0  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000      0.9844   0.9844  0.0
     1  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000   0.0000      0.9682   0.9682  0.0
     7  -4.0000  -4.0000  -4.0000  -4.0000   4.0000   0.0000      0.8687   0.8687  0.0
    15  -4.0000  -4.0000  -4.0000   0.0000   4.0000  -4.0000      0.8634   0.8634  0.0
    21  -4.0000  -4.0000  -4.0000   4.0000   0.0000  -4.0000      0.8386   0.8386  0.0
    39  -4.0000  -4.0000   0.0000   0.0000   0.0000  -4.0000      0.8263   0.8263  0.0
    63  -4.0000  -4.0000   4.0000   0.0000  -4.0000  -4.0000      0.8049   0.8049  0.0
   118  -4.0000   0.0000   0.0000   0.0000  -4.0000   0.0000      0.7873   0.7873  0.0
   120  -4.0000   0.0000   0.0000   0.0000   0.0000  -4.0000      0.7368   0.7368  0.0
   274   0.0000  -4.0000   0.0000  -4.0000   0.0000   0.0000      0.6918   0.6918  0.0
   283   0.0000  -4.0000   0.0000   0.0000   0.0000   0.0000      0.5943   0.5943  0.0
   364   0.0000   0.0000   0.0000   0.0000   0.0000   0.0000      0.2389   0.2389  0.0
Brute Force --------------------------
Min cost was 0.238864
Number of iterations   729
Search time 3.538000 sec
Parameters at best (transmm, rotdeg)
  0.000   0.000   0.000  0.000  0.000  0.000 
--------------------------------------------

Starting Powell Minimization
Init Powel Params dof = 6
0 0
1 0
2 0
3 0
4 0
5 0
fs_powell::minimize
  nparams 6
  maxfev 36
  ftol   0.000100
  linmin_xtol_   0.001000
  powell nthiter 0: fret = 0.238864
   7 -0.147  0.000  0.000  0.000  0.000  0.000   0.2387353830
   8 -0.079  0.000  0.000  0.000  0.000  0.000   0.2384207750
  10 -0.049  0.000  0.000  0.000  0.000  0.000   0.2382594843
  11 -0.035  0.000  0.000  0.000  0.000  0.000   0.2380991251
  13 -0.033  0.000  0.000  0.000  0.000  0.000   0.2380953819
  18 -0.033 -1.618  0.000  0.000  0.000  0.000   0.1096918259
  19 -0.033 -1.486  0.000  0.000  0.000  0.000   0.1032374131
  23 -0.033 -1.451  0.000  0.000  0.000  0.000   0.1027504363
  24 -0.033 -1.415  0.000  0.000  0.000  0.000   0.1022705167
  26 -0.033 -1.406  0.000  0.000  0.000  0.000   0.1021346114
  27 -0.033 -1.388  0.000  0.000  0.000  0.000   0.1020383692
  28 -0.033 -1.389  0.000  0.000  0.000  0.000   0.1020316100
  29 -0.033 -1.393  0.000  0.000  0.000  0.000   0.1020262290
  31 -0.033 -1.392  0.000  0.000  0.000  0.000   0.1020239784
  43 -0.033 -1.392  0.019  0.000  0.000  0.000   0.1019659247
  44 -0.033 -1.392  0.014  0.000  0.000  0.000   0.1019491172
  45 -0.033 -1.392  0.013  0.000  0.000  0.000   0.1019487344
  60 -0.033 -1.392  0.013  0.002  0.000  0.000   0.1019269656
  61 -0.033 -1.392  0.013  0.010  0.000  0.000   0.1018909442
  71 -0.033 -1.392  0.013  0.010  0.066  0.000   0.1012780250
  73 -0.033 -1.392  0.013  0.010  0.056  0.000   0.1011775612
  74 -0.033 -1.392  0.013  0.010  0.046  0.000   0.1011328741
  76 -0.033 -1.392  0.013  0.010  0.045  0.000   0.1011327623
  83 -0.033 -1.392  0.013  0.010  0.045  0.382   0.0946184539
  85 -0.033 -1.392  0.013  0.010  0.045  0.436   0.0928335837
  86 -0.033 -1.392  0.013  0.010  0.045  0.651   0.0926952611
  87 -0.033 -1.392  0.013  0.010  0.045  0.546   0.0905931333
  89 -0.033 -1.392  0.013  0.010  0.045  0.557   0.0905615830
  91 -0.033 -1.392  0.013  0.010  0.045  0.559   0.0905614133
  92 -0.033 -1.392  0.013  0.010  0.045  0.560   0.0905608449
  powell nthiter 1: fret = 0.090561
 102  0.349 -1.392  0.013  0.010  0.045  0.560   0.0902810187
 103  0.162 -1.392  0.013  0.010  0.045  0.560   0.0879101055
 105  0.088 -1.392  0.013  0.010  0.045  0.560   0.0871659313
 120  0.088 -1.403  0.013  0.010  0.045  0.560   0.0870411619
 122  0.088 -1.405  0.013  0.010  0.045  0.560   0.0870356572
 123  0.088 -1.406  0.013  0.010  0.045  0.560   0.0870349855
 131  0.088 -1.406 -0.109  0.010  0.045  0.560   0.0856935249
 132  0.088 -1.406 -0.106  0.010  0.045  0.560   0.0856535883
 133  0.088 -1.406 -0.073  0.010  0.045  0.560   0.0853586998
 135  0.088 -1.406 -0.065  0.010  0.045  0.560   0.0853245469
 136  0.088 -1.406 -0.062  0.010  0.045  0.560   0.0853221214
 147  0.088 -1.406 -0.062 -0.013  0.045  0.560   0.0851379135
 150  0.088 -1.406 -0.062 -0.010  0.045  0.560   0.0851344777
 151  0.088 -1.406 -0.062 -0.011  0.045  0.560   0.0851337967
 162  0.088 -1.406 -0.062 -0.011  0.046  0.560   0.0851332722
 173  0.088 -1.406 -0.062 -0.011  0.046  0.573   0.0850013224
 174  0.088 -1.406 -0.062 -0.011  0.046  0.570   0.0849840231
  powell nthiter 2: fret = 0.084984
 187  0.079 -1.406 -0.062 -0.011  0.046  0.570   0.0849527816
 189  0.080 -1.406 -0.062 -0.011  0.046  0.570   0.0849526698
 201  0.080 -1.413 -0.062 -0.011  0.046  0.570   0.0848855430
 202  0.080 -1.418 -0.062 -0.011  0.046  0.570   0.0848752288
 203  0.080 -1.417 -0.062 -0.011  0.046  0.570   0.0848729610
 215  0.080 -1.417 -0.040 -0.011  0.046  0.570   0.0848563038
 216  0.080 -1.417 -0.050 -0.011  0.046  0.570   0.0848111512
 227  0.080 -1.417 -0.050 -0.027  0.046  0.570   0.0847807157
 229  0.080 -1.417 -0.050 -0.021  0.046  0.570   0.0847693977
 242  0.080 -1.417 -0.050 -0.021  0.047  0.570   0.0847690744
  powell nthiter 3: fret = 0.084769
 265  0.077 -1.417 -0.050 -0.021  0.047  0.570   0.0847481262
 266  0.068 -1.417 -0.050 -0.021  0.047  0.570   0.0847398279
 268  0.072 -1.417 -0.050 -0.021  0.047  0.570   0.0847323497
 294  0.072 -1.417 -0.049 -0.021  0.047  0.570   0.0847309626
 295  0.072 -1.417 -0.048 -0.021  0.047  0.570   0.0847306336
 316  0.072 -1.417 -0.048 -0.021  0.054  0.570   0.0846966389
 317  0.072 -1.417 -0.048 -0.021  0.056  0.570   0.0846964720
 328  0.072 -1.417 -0.048 -0.021  0.056  0.566   0.0846744497
 331  0.063 -1.417 -0.046 -0.021  0.064  0.561   0.0845827139
 334  0.050 -1.417 -0.043 -0.021  0.077  0.555   0.0845468455
 335  0.053 -1.417 -0.044 -0.021  0.074  0.556   0.0845300430
 338  0.054 -1.417 -0.044 -0.021  0.073  0.557   0.0845294424
 345  0.054 -1.417 -0.044 -0.021  0.073  0.557   0.0845292448
  powell nthiter 4: fret = 0.084529
 357  0.054 -1.417 -0.044 -0.021  0.073  0.564   0.0844697233
 359  0.054 -1.417 -0.044 -0.021  0.073  0.565   0.0844696866
 371  0.054 -1.416 -0.044 -0.021  0.073  0.565   0.0844679788
 384  0.054 -1.416 -0.042 -0.021  0.073  0.565   0.0844605140
 386  0.054 -1.416 -0.039 -0.021  0.073  0.565   0.0844532491
 397  0.054 -1.416 -0.039 -0.016  0.073  0.565   0.0844320936
 398  0.054 -1.416 -0.039 -0.013  0.073  0.565   0.0844294073
 417  0.051 -1.416 -0.038 -0.013  0.076  0.563   0.0844118239
 419  0.051 -1.416 -0.038 -0.013  0.076  0.563   0.0844112635
  powell nthiter 5: fret = 0.084411
 464  0.051 -1.416 -0.039 -0.013  0.076  0.563   0.0844110729
 475  0.051 -1.416 -0.039 -0.012  0.076  0.563   0.0844104409
 486  0.051 -1.416 -0.039 -0.012  0.075  0.563   0.0844074670
 487  0.051 -1.416 -0.039 -0.012  0.074  0.563   0.0844071648
 495  0.050 -1.416 -0.038 -0.012  0.075  0.563   0.0844062941
 496  0.050 -1.416 -0.038 -0.012  0.075  0.563   0.0844060954
 497  0.050 -1.416 -0.039 -0.012  0.074  0.563   0.0844060755
 501  0.050 -1.416 -0.039 -0.012  0.074  0.563   0.0844059297
Powell done niters = 5
Computing relative cost
 0  -25.0 -25.0 -25.0   1.025720
 1  -25.0 -25.0  25.0   0.994832
 2  -25.0  25.0 -25.0   0.991844
 3  -25.0  25.0  25.0   1.032092
 4   25.0 -25.0 -25.0   1.003533
 5   25.0 -25.0  25.0   0.965386
 6   25.0  25.0 -25.0   0.986200
 7   25.0  25.0  25.0   0.953276
REL:  8  0.084406    7.952882  0.994110 rel = 0.084906 
Number of iterations     5
Min cost was 0.084406
Number of FunctionCalls   505
TolPowell 0.000100
nMaxItersPowell 36
OptimizationTime 2.398000 sec
Parameters at optimum (transmm)  0.05023 -1.41616 -0.03851
Parameters at optimum (rotdeg) -0.01153  0.07432  0.56272 
Final costs ----------------
Number of surface hits 2983
WM  Intensity   311.3805 +/-  83.0188
Ctx Intensity   471.5656 +/- 130.7318
Pct Contrast     39.4097 +/-  28.3604
Cost   0.0844
RelCost   0.2404
Reg at min cost was 
-0.99949   0.02839  -0.01480   0.61610;
-0.00679   0.26401   0.96450  -4.23813;
-0.03129  -0.96410   0.26368  -9.84008;
 0.00000   0.00000   0.00000   1.00000;

Writing optimal reg to ./tmp.bbregister.7066/bbr.pass1.dat, type = 14 
Original Reg 
-0.99946   0.03223  -0.00567   0.55084;
 0.00304   0.26391   0.96454  -2.82542;
-0.03259  -0.96401   0.26387  -9.80143;
 0.00000   0.00000   0.00000   1.00000;

Original Reg - Optimal Reg
 0.00002   0.00384   0.00913  -0.06526;
 0.00982  -0.00010   0.00005   1.41271;
-0.00130   0.00009   0.00019   0.03865;
 0.00000   0.00000   0.00000   0.00000;

Computing change in lh position
LH rmsDiffMean 1.162652
Computing change in rh position
Surface-RMS-Diff-mm 1.453617 0.337406 2.117838
mri_segreg done
mri_segreg --mov ./tmp.bbregister.7066/template.nii --init-reg ./tmp.bbregister.7066/bbr.pass1.dat --out-reg register.dat --interp trilinear --wm-proj-abs 2 --tol 1e-8 --tol1d 1e-3 --c0 0 --mincost register.dat.mincost --dof 6 --nmax 36 --param register.dat.param --surf white --brute -0.1 0.1 0.1 --cur-reg ./tmp.bbregister.7066/reg.curopt.dat --gm-proj-frac 0.5 --nsub 1 --gm-gt-wm 0.5
$Id: mri_segreg.c,v 1.113 2016/05/10 03:23:20 greve Exp $
setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/Park/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_044/preproc
mri_segreg --mov ./tmp.bbregister.7066/template.nii --init-reg ./tmp.bbregister.7066/bbr.pass1.dat --out-reg register.dat --interp trilinear --wm-proj-abs 2 --tol 1e-8 --tol1d 1e-3 --c0 0 --mincost register.dat.mincost --dof 6 --nmax 36 --param register.dat.param --surf white --brute -0.1 0.1 0.1 --cur-reg ./tmp.bbregister.7066/reg.curopt.dat --gm-proj-frac 0.5 --nsub 1 --gm-gt-wm 0.5 
sysname  Linux
hostname hpcnode039.adqimr.ad.lan
machine  x86_64
user     alistaiP
movvol ./tmp.bbregister.7066/template.nii
regfile ./tmp.bbregister.7066/bbr.pass1.dat
subject Patient_044
dof 6
outregfile register.dat
UseMask 0
UseLH 1
UseRH 1
nsubsamp 1
PenaltySign  -1
PenaltySlope 0.500000
PenaltyCenter 0.000000
surfname white
GMProjFrac 0.500000
WMProjAbs 2.000000
lhcostfile (null)
rhcostfile (null)
interp  trilinear (1)
frame  0
TolPowell 0.000000
nMaxItersPowell 36
n1dmin  3
Profile   0
Gdiag_no  -1
AddNoise  0 (0)
SynthSeed 1489910270
TransRandMax 0.000000
RotRandMax 0.000000
Translations 0.000000 0.000000 0.000000
Rotations   0.000000 0.000000 0.000000
Input reg
-0.99949   0.02839  -0.01480   0.61610;
-0.00679   0.26401   0.96450  -4.23813;
-0.03129  -0.96410   0.26368  -9.84008;
 0.00000   0.00000   0.00000   1.00000;

Loading mov
Projecting LH Surfs
Loading lh.white surf
Loading lh.thickness for GM
GM Proj: 1 0.500000 2.000000
WM Proj: 0 0.500000 2.000000
Projecting RH Surfs
Loading rh.white surf
Loading rh.thickness for GM
Projecting RH Surfs
Using lh.cortex.label
Using rh.cortex.label
Computing relative cost
 0  -25.0 -25.0 -25.0   1.015154
 1  -25.0 -25.0  25.0   0.998222
 2  -25.0  25.0 -25.0   0.992423
 3  -25.0  25.0  25.0   1.010677
 4   25.0 -25.0 -25.0   0.983368
 5   25.0 -25.0  25.0   0.992862
 6   25.0  25.0 -25.0   0.994567
 7   25.0  25.0  25.0   0.995685
REL:  8  0.083114    7.982958  0.997870 rel = 0.0832918 
Initial costs ----------------
Number of surface hits 299109
WM  Intensity   309.8336 +/-  75.9506
Ctx Intensity   471.1546 +/- 129.1274
Pct Contrast     39.7165 +/-  26.6538
Cost   0.0831
RelCost   0.0833

------------------------------------
Brute force preopt -0.1 0.1 0.1, n = 729
     0  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000      0.0917   0.0917  0.0
     3  -0.1000  -0.1000  -0.1000  -0.1000   0.0000  -0.1000      0.0898   0.0898  0.0
     4  -0.1000  -0.1000  -0.1000  -0.1000   0.0000   0.0000      0.0897   0.0897  0.0
     6  -0.1000  -0.1000  -0.1000  -0.1000   0.1000  -0.1000      0.0884   0.0884  0.0
    93  -0.1000   0.0000  -0.1000   0.0000   0.0000  -0.1000      0.0883   0.0883  0.0
    94  -0.1000   0.0000  -0.1000   0.0000   0.0000   0.0000      0.0873   0.0873  0.0
   246   0.0000  -0.1000  -0.1000  -0.1000   0.0000  -0.1000      0.0864   0.0864  0.0
   247   0.0000  -0.1000  -0.1000  -0.1000   0.0000   0.0000      0.0841   0.0841  0.0
Brute Force --------------------------
Min cost was 0.084138
Number of iterations   729
Search time 3.433000 sec
Parameters at best (transmm, rotdeg)
  0.000  -0.100  -0.100 -0.100  0.000  0.000 
--------------------------------------------

Starting Powell Minimization
Init Powel Params dof = 6
0 0
1 -0.1
2 -0.1
3 -0.1
4 0
5 0
fs_powell::minimize
  nparams 6
  maxfev 36
  ftol   0.000000
  linmin_xtol_   0.001000
  powell nthiter 0: fret = 0.085372
   7  0.070 -0.100 -0.100 -0.100  0.000  0.000   0.0851381119
   8  0.055 -0.100 -0.100 -0.100  0.000  0.000   0.0851352774
   9  0.061 -0.100 -0.100 -0.100  0.000  0.000   0.0851316630
  17  0.061  0.282 -0.100 -0.100  0.000  0.000   0.0847329963
  18  0.061  0.096 -0.100 -0.100  0.000  0.000   0.0821115432
  20  0.061  0.095 -0.100 -0.100  0.000  0.000   0.0821110309
  22  0.061  0.085 -0.100 -0.100  0.000  0.000   0.0821088941
  24  0.061  0.089 -0.100 -0.100  0.000  0.000   0.0821088570
  25  0.061  0.087 -0.100 -0.100  0.000  0.000   0.0821086550
  33  0.061  0.087  0.049 -0.100  0.000  0.000   0.0811015391
  34  0.061  0.087  0.038 -0.100  0.000  0.000   0.0810873043
  35  0.061  0.087  0.032 -0.100  0.000  0.000   0.0810808327
  37  0.061  0.087  0.010 -0.100  0.000  0.000   0.0810795589
  38  0.061  0.087  0.020 -0.100  0.000  0.000   0.0810744428
  40  0.061  0.087  0.019 -0.100  0.000  0.000   0.0810744104
  50  0.061  0.087  0.019 -0.094  0.000  0.000   0.0810688598
  51  0.061  0.087  0.019 -0.092  0.000  0.000   0.0810688315
  59  0.061  0.087  0.019 -0.092 -0.101  0.000   0.0803553624
  60  0.061  0.087  0.019 -0.092 -0.090  0.000   0.0803253730
  61  0.061  0.087  0.019 -0.092 -0.083  0.000   0.0803208298
  70  0.061  0.087  0.019 -0.092 -0.083  0.011   0.0803134839
  74  0.061  0.087  0.019 -0.092 -0.083  0.015   0.0803129740
  powell nthiter 1: fret = 0.080313
  84  0.104  0.087  0.019 -0.092 -0.083  0.015   0.0801560057
  86  0.111  0.087  0.019 -0.092 -0.083  0.015   0.0801553574
  88  0.108  0.087  0.019 -0.092 -0.083  0.015   0.0801544759
  89  0.109  0.087  0.019 -0.092 -0.083  0.015   0.0801544132
  97  0.109  0.112  0.019 -0.092 -0.083  0.015   0.0801341773
  98  0.109  0.104  0.019 -0.092 -0.083  0.015   0.0801282629
  99  0.109  0.103  0.019 -0.092 -0.083  0.015   0.0801281032
 107  0.109  0.103  0.059 -0.092 -0.083  0.015   0.0801197524
 108  0.109  0.103  0.041 -0.092 -0.083  0.015   0.0800946710
 109  0.109  0.103  0.040 -0.092 -0.083  0.015   0.0800945635
 118  0.109  0.103  0.040 -0.085 -0.083  0.015   0.0800927784
 119  0.109  0.103  0.040 -0.087 -0.083  0.015   0.0800925430
 120  0.109  0.103  0.040 -0.088 -0.083  0.015   0.0800923705
 128  0.109  0.103  0.040 -0.088 -0.114  0.015   0.0800142343
 129  0.109  0.103  0.040 -0.088 -0.113  0.015   0.0800135569
 133  0.109  0.103  0.040 -0.088 -0.112  0.015   0.0800132381
 141  0.109  0.103  0.040 -0.088 -0.112  0.018   0.0800114686
 142  0.109  0.103  0.040 -0.088 -0.112  0.020   0.0800112909
  powell nthiter 2: fret = 0.080011
 151  0.114  0.103  0.040 -0.088 -0.112  0.020   0.0800025168
 152  0.121  0.103  0.040 -0.088 -0.112  0.020   0.0799968392
 162  0.121  0.099  0.040 -0.088 -0.112  0.020   0.0799945933
 163  0.121  0.097  0.040 -0.088 -0.112  0.020   0.0799945569
 172  0.121  0.097  0.041 -0.088 -0.112  0.020   0.0799940854
 173  0.121  0.097  0.043 -0.088 -0.112  0.020   0.0799936021
 185  0.121  0.097  0.043 -0.084 -0.112  0.020   0.0799924040
 194  0.121  0.097  0.043 -0.084 -0.116  0.020   0.0799891668
  powell nthiter 3: fret = 0.079989
 217  0.124  0.097  0.043 -0.084 -0.116  0.020   0.0799881236
 227  0.124  0.096  0.043 -0.084 -0.116  0.020   0.0799880069
 265  0.124  0.096  0.043 -0.084 -0.116  0.022   0.0799876945
 267  0.124  0.096  0.043 -0.084 -0.116  0.021   0.0799876372
 274  0.125  0.096  0.043 -0.084 -0.116  0.022   0.0799875070
 275  0.125  0.096  0.043 -0.084 -0.116  0.022   0.0799874996
 282  0.125  0.096  0.043 -0.084 -0.116  0.022   0.0799874955
  powell nthiter 4: fret = 0.079987
 337  0.126  0.096  0.042 -0.084 -0.117  0.022   0.0799872773
 346  0.126  0.096  0.042 -0.084 -0.117  0.022   0.0799872766
  powell nthiter 5: fret = 0.079987
 376  0.126  0.096  0.044 -0.084 -0.117  0.022   0.0799872724
 394  0.126  0.096  0.044 -0.084 -0.118  0.022   0.0799871626
 408  0.126  0.096  0.044 -0.084 -0.118  0.022   0.0799871490
  powell nthiter 6: fret = 0.079987
 471  0.126  0.096  0.044 -0.084 -0.118  0.022   0.0799871415
  powell nthiter 7: fret = 0.079987
Powell done niters = 7
Computing relative cost
 0  -25.0 -25.0 -25.0   1.015836
 1  -25.0 -25.0  25.0   1.000220
 2  -25.0  25.0 -25.0   0.990578
 3  -25.0  25.0  25.0   1.010096
 4   25.0 -25.0 -25.0   0.984209
 5   25.0 -25.0  25.0   0.992573
 6   25.0  25.0 -25.0   0.993662
 7   25.0  25.0  25.0   0.995889
REL:  8  0.079987    7.983064  0.997883 rel = 0.0801568 
Number of iterations     7
Min cost was 0.079987
Number of FunctionCalls   544
TolPowell 0.000000
nMaxItersPowell 36
OptimizationTime 103.453000 sec
Parameters at optimum (transmm)  0.12581  0.09555  0.04379
Parameters at optimum (rotdeg) -0.08409 -0.11811  0.02221 
Final costs ----------------
Number of surface hits 299109
WM  Intensity   309.6126 +/-  75.6791
Ctx Intensity   472.3878 +/- 128.9078
Pct Contrast     40.0441 +/-  26.5425
Cost   0.0800
RelCost   0.0833
Reg at min cost was 
-0.99942   0.03028  -0.01572   0.76383;
-0.00722   0.26261   0.96488  -4.15678;
-0.03334  -0.96443   0.26223  -9.78877;
 0.00000   0.00000   0.00000   1.00000;

Writing optimal reg to register.dat, type = 14 
Original Reg 
-0.99949   0.02839  -0.01480   0.61610;
-0.00679   0.26401   0.96450  -4.23813;
-0.03129  -0.96410   0.26368  -9.84008;
 0.00000   0.00000   0.00000   1.00000;

Original Reg - Optimal Reg
-0.00007  -0.00189   0.00091  -0.14773;
 0.00043   0.00140  -0.00038  -0.08136;
 0.00205   0.00033   0.00145  -0.05131;
 0.00000   0.00000   0.00000   0.00000;

Computing change in lh position
LH rmsDiffMean 0.213092
Computing change in rh position
Surface-RMS-Diff-mm 0.197522 0.036073 0.286151
mri_segreg done
MinCost: 0.079987 309.612582 472.387829 40.044123 
tkregister2_cmdl --mov biasmeanb0bet.nii.gz --reg register.dat --noedit --fslregout diff2FS.mat
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume biasmeanb0bet.nii.gz
reg file       register.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
---- Input registration matrix --------
-0.99942   0.03028  -0.01572   0.76383;
-0.00722   0.26261   0.96488  -4.15678;
-0.03334  -0.96443   0.26223  -9.78877;
 0.00000   0.00000   0.00000   1.00000;
float2int = 0
---------------------------------------
INFO: loading target /working/lab_michaebr/alistaiP/Park/FS/Patient_044/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable biasmeanb0bet.nii.gz
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 0, float2int = 0
---- Input registration matrix --------
-0.99942   0.03028  -0.01572   0.76383;
-0.00722   0.26261   0.96488  -4.15678;
-0.03334  -0.96443   0.26223  -9.78877;
 0.00000   0.00000   0.00000   1.00000;
Determinant -0.999998
subject = Patient_044
RegMat ---------------------------
-0.99942   0.03028  -0.01572   0.76383;
-0.00722   0.26261   0.96488  -4.15678;
-0.03334  -0.96443   0.26223  -9.78877;
 0.00000   0.00000   0.00000   1.00000;
FSLOUTPUTTYPE NIFTI_GZ 
tkreg2FSL: mov det = 5.02197, ref det = -1
INFO: FSL2FreeSurfer: Mov volume is NIFTI with positive det,
      applying LR flip to registration matrix.
Cleaning up
 
Started at Sat Mar 18 06:58:41 AEST 2017 
Ended   at Sat Mar 18 07:02:46 AEST 2017
BBR-Run-Time-Sec 244
 
bbregister Done
To check results, run:
tkregisterfv --mov biasmeanb0bet.nii.gz --reg register.dat --surfs 
 
dwi2response: [03;32m[0m
dwi2response: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation. Please consult the help page (-help option) for more information.[0m
dwi2response: [03;32m[0m
dwi2response: [03;32mGenerated temporary directory: /tmp/dwi2response-tmp-QAS3LH/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_044/preproc/biascorr.mif /tmp/dwi2response-tmp-QAS3LH/dwi.mif -stride 0,0,0,1
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_044/preproc/biasmeanb0bet_mask.nii.gz /tmp/dwi2response-tmp-QAS3LH/mask.mif -datatype bit
dwi2response: [03;32mChanging to temporary directory (/tmp/dwi2response-tmp-QAS3LH/)[0m
dwi2response: [03;32m2 unique b-value(s) detected: 0,3000 with 12,90 volumes.[0m
[03;34mCommand:[0m maskfilter mask.mif erode eroded_mask.mif -npass 3
[03;34mCommand:[0m dwiextract dwi.mif -shell 0 dwi_b0.mif
[03;34mCommand:[0m mrmath dwi_b0.mif mean mean_b0.mif -axis 3
[03;34mCommand:[0m mrcalc mean_b0.mif -finite mean_b0.mif 0 -if 0 -le err_b0.mif -datatype bit
[03;34mCommand:[0m dwiextract dwi.mif -shell 3000 dwi_b3000.mif
[03;34mCommand:[0m mrmath dwi_b3000.mif mean mean_b3000.mif -axis 3
[03;34mCommand:[0m mrcalc mean_b3000.mif -finite mean_b3000.mif 0 -if 0 -le err_b3000.mif -datatype bit
[03;34mCommand:[0m mrcalc mean_b0.mif mean_b3000.mif -divide -log sdm_b3000.mif
[03;34mCommand:[0m mrcalc sdm_b3000.mif 90 -mult 90 -divide full_sdm.mif
[03;34mCommand:[0m mrcalc full_sdm.mif -finite full_sdm.mif 0 -if 0 -le err_sdm.mif -datatype bit
[03;34mCommand:[0m mrcalc err_b0.mif err_b3000.mif -add err_sdm.mif -add 0 eroded_mask.mif -if safe_mask.mif -datatype bit
[03;34mCommand:[0m mrcalc safe_mask.mif full_sdm.mif 0 -if 10 -min safe_sdm.mif
[03;34mCommand:[0m dwi2tensor dwi.mif - -mask safe_mask.mif | tensor2metric - -fa safe_fa.mif -vector safe_vecs.mif -modulate none -mask safe_mask.mif
[03;34mCommand:[0m mrcalc safe_mask.mif safe_fa.mif 0 -if 0.2 -gt crude_wm.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_wm.mif 0 safe_mask.mif -if _crudenonwm.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudenonwm.mif safe_sdm.mif 2.31827 -subtract 0 -if - | mrthreshold - - -mask _crudenonwm.mif | mrcalc _crudenonwm.mif - 0 -if crude_csf.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_csf.mif 0 _crudenonwm.mif -if crude_gm.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_wm.mif safe_sdm.mif 0 -if 1.49358 -gt _crudewmhigh.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudewmhigh.mif 0 crude_wm.mif -if _crudewmlow.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_wm.mif safe_sdm.mif 0 -if 1.93341 -gt _crudewmoutliers.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudewmoutliers.mif 0 crude_wm.mif -if refined_wm.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_gm.mif safe_sdm.mif 0 -if 1.92388 -gt _crudegmhigh.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmhigh.mif 0 crude_gm.mif -if _crudegmlow.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmhigh.mif safe_sdm.mif 1.92388 -subtract 0 -if - | mrthreshold - - -mask _crudegmhigh.mif -invert | mrcalc _crudegmhigh.mif - 0 -if _crudegmhighselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmlow.mif safe_sdm.mif 1.92388 -subtract -neg 0 -if - | mrthreshold - - -mask _crudegmlow.mif -invert | mrcalc _crudegmlow.mif - 0 -if _crudegmlowselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmhighselect.mif 1 _crudegmlowselect.mif -if refined_gm.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudewmoutliers.mif safe_sdm.mif 0 -if 2.84019 -gt 1 crude_csf.mif -if _crudecsfextra.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudecsfextra.mif safe_sdm.mif 2.84019 -subtract 0 -if - | mrthreshold - - -mask _crudecsfextra.mif | mrcalc _crudecsfextra.mif - 0 -if refined_csf.mif -datatype bit
dwi2response: [03;32mRunning 'tournier' algorithm to select 616 single-fibre WM voxels.[0m
[03;34mCommand:[0m dwi2response tournier dwi.mif _respsfwmss.txt -sf_voxels 616 -iter_voxels 6160 -mask refined_wm.mif -voxels voxels_sfwm.mif -quiet -tempdir /tmp/dwi2response-tmp-QAS3LH/
[03;34mCommand:[0m mrcalc refined_gm.mif safe_sdm.mif 0 -if 1.91138 -gt _refinedgmhigh.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmhigh.mif 0 refined_gm.mif -if _refinedgmlow.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmhigh.mif safe_sdm.mif 0 -if - | mrthreshold - - -bottom 685 -ignorezero | mrcalc _refinedgmhigh.mif - 0 -if _refinedgmhighselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmlow.mif safe_sdm.mif 0 -if - | mrthreshold - - -top 685 -ignorezero | mrcalc _refinedgmlow.mif - 0 -if _refinedgmlowselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmhighselect.mif 1 _refinedgmlowselect.mif -if voxels_gm.mif -datatype bit
[03;34mCommand:[0m mrcalc refined_csf.mif safe_sdm.mif 0 -if - | mrthreshold - - -top 2909 -ignorezero | mrcalc refined_csf.mif - 0 -if voxels_csf.mif -datatype bit
dwi2response: [03;32mSummary of voxel counts:[0m
dwi2response: [03;32mMask: 377000 --> 308073 --> 308042[0m
dwi2response: [03;32mWM: 130009 --> 123117 --> 616 (SF)[0m
dwi2response: [03;32mGM: 115843 --> 68479 --> 1370[0m
dwi2response: [03;32mCSF: 62190 --> 29094 --> 2909[0m
[03;34mCommand:[0m amp2sh dwi_b0.mif - | sh2response - voxels_sfwm.mif safe_vecs.mif _respsfwmb0.txt
[03;34mCommand:[0m amp2sh dwi_b3000.mif - | sh2response - voxels_sfwm.mif safe_vecs.mif _respsfwmb3000.txt
[03;34mCommand:[0m mrcat crude_csf.mif crude_gm.mif crude_wm.mif crude.mif -axis 3
[03;34mCommand:[0m mrcat refined_csf.mif refined_gm.mif refined_wm.mif refined.mif -axis 3
[03;34mCommand:[0m mrcat voxels_csf.mif voxels_gm.mif voxels_sfwm.mif voxels.mif -axis 3
dwi2response: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_044/preproc)[0m
dwi2response: [03;32mDeleting temporary directory /tmp/dwi2response-tmp-QAS3LH/[0m
