dwipreproc_cust: [03;32m[0m
dwipreproc_cust: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
dwipreproc_cust: [03;32m[0m
dwipreproc_cust: [03;32mGenerated temporary directory: /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_030/preproc/dwipreproc_cust-tmp-5KEPIB/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_030/preproc/rawdataAPdn.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_030/preproc/dwipreproc_cust-tmp-5KEPIB/series.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_030/preproc/AP7b0s.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_030/preproc/dwipreproc_cust-tmp-5KEPIB/pair1.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_030/preproc/rawdataPAdn.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_030/preproc/dwipreproc_cust-tmp-5KEPIB/pair2.mif
dwipreproc_cust: [03;32mChanging to temporary directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_030/preproc/dwipreproc_cust-tmp-5KEPIB/)[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 102[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -dwgrad' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult:           0           0           0           0
          0           0           0           0
  -0.999992 -0.00334854  0.00234455        3000
  0.0258005   -0.744281   -0.667368        3000
-0.00361421     0.51756    0.855639        3000
   0.273118    0.827718   -0.490194        3000
  -0.651553    0.404178   -0.641965        3000
   0.507251    0.261282    0.821236        3000
    0.95927    0.280752    0.031307        3000
   0.535167    0.379768   -0.754568        3000
   -0.31694    0.127999   -0.939769        3000
          0           0           0           0
   0.504978   -0.590424   -0.629601        3000
    0.60026   0.0894531   -0.794787        3000
  -0.953604   -0.155775   -0.257629        3000
  -0.528299   -0.741957    0.412796        3000
   0.193787   -0.924878    0.327182        3000
  -0.365112    0.925785  -0.0980611        3000
    0.25938    0.930292     0.25938        3000
  0.0235055    0.509646   -0.860063        3000
  -0.614558    0.788301  -0.0300044        3000
          0           0           0           0
   0.872214   0.0375364    0.487681        3000
  -0.744105   -0.229235    0.627502        3000
   0.487466    0.676053    0.552566        3000
  -0.451881   -0.890303   -0.056252        3000
  -0.661948   -0.431079   -0.613185        3000
  -0.853725    0.236205    -0.46407        3000
  -0.438849    -0.50579    -0.74269        3000
   0.957429   -0.139906     -0.2525        3000
  -0.703146   -0.594422   -0.390189        3000
          0           0           0           0
  -0.387223   -0.174416    0.905338        3000
   0.142998   -0.680566    0.718597        3000
  -0.803327    -0.59527   0.0178948        3000
  -0.288444   -0.137214   -0.947614        3000
   0.963177   -0.127627    0.236644        3000
  -0.151509   -0.695607    0.702265        3000
 -0.0179546   -0.981787   -0.189137        3000
  -0.377409   -0.897089    0.229768        3000
   0.668128    0.728509    0.151256        3000
          0           0           0           0
  -0.290893   -0.465021    0.836144        3000
  -0.721409    -0.16336   -0.672966        3000
   0.717369   -0.658029    0.228866        3000
   0.428371   -0.580328    0.692617        3000
    0.95899   -0.282221   -0.026251        3000
   0.493356   -0.295574    0.818068        3000
  -0.894756    0.397417   -0.203644        3000
   0.203675    0.978706  -0.0255081        3000
   -0.23073    0.965533    0.120454        3000
          0           0           0           0
   0.740036    0.599249   -0.305364        3000
    0.84429    0.335289   -0.418038        3000
   0.105094   -0.283435    0.953216        3000
   0.239484    0.399131    0.885066        3000
   0.614201    0.777793   -0.133399        3000
  -0.266455    0.456341   -0.848973        3000
  -0.658824   -0.512357    0.550855        3000
   0.256896   -0.895051   -0.364537        3000
  -0.249563   -0.820013   -0.515069        3000
          0           0           0           0
  -0.573238     0.65837   -0.487798        3000
  -0.022778    -0.24834   -0.968405        3000
  -0.224371    0.320569    0.920268        3000
   0.836722    0.322585    0.442532        3000
   0.860584    0.464981    0.207815        3000
  -0.487773   -0.809586   -0.326571        3000
   0.106779    0.947227   -0.302257        3000
  -0.541986  0.00447884   -0.840376        3000
   0.250439   -0.576157   -0.778025        3000
          0           0           0           0
   0.228753  -0.0498476   -0.972207        3000
   0.215802    0.652422    0.726481        3000
  -0.961711   -0.144443    0.232913        3000
  -0.311695    0.788213   -0.530628        3000
   0.870397   -0.429543   -0.240628        3000
  -0.844571    0.263994    0.465839        3000
  -0.894962   -0.410615    0.174464        3000
   0.703329   -0.678237   -0.212889        3000
    0.66632   -0.350701   -0.658047        3000
          0           0           0           0
  -0.516887    0.749172     0.41421        3000
   0.719803   -0.128152    0.682247        3000
  0.0416707   -0.015474    0.999012        3000
  -0.827696    0.561128  0.00741875        3000
  -0.452577    0.385372    0.804153        3000
   0.879377   0.0291608   -0.475232        3000
   0.148893    0.245737   -0.957833        3000
   0.768259   -0.483067    0.420029        3000
   0.478981   -0.134061   -0.867528        3000
          0           0           0           0
  -0.717224    0.532412    0.449585        3000
   0.482588   -0.822046     0.30224        3000
  -0.281723    0.761348    0.583936        3000
 -0.0170998     0.84681    -0.53162        3000
  0.0650806   -0.993252   0.0959972        3000
    0.42184    0.632943   -0.649179        3000
  -0.732797    0.098064    0.673344        3000
 0.00119138    0.896237    0.443573        3000
   0.475956   -0.860696   -0.180743        3000
          0           0           0           0[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo series.mif -stride' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 1 2 3 4[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair1.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair2.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
[03;34mCommand:[0m mrconvert series.mif dwi_pre_topup.nii -stride -1,+2,+3,+4
[03;34mCommand:[0m mrcat pair1.mif pair2.mif - -axis 3 | mrconvert - topup_in.nii -stride -1,+2,+3,+4
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair1.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
dwipreproc_cust: [03;32mCommand: '/software/mrtrix3/mrtrix3-AP/release/bin/mrinfo pair2.mif -size' (piping data to local storage)[0m
dwipreproc_cust: [03;32mResult: 128 128 90 7[0m
dwipreproc_cust: [03;32mCreating phase-encoding configuration file[0m
[03;34mCommand:[0m topup --imain=topup_in.nii --datain=config.txt --out=field --fout=field_map.nii.gz --config=/software/fsl/fsl-5.0.9_eddy/fsl/etc/flirtsch/b02b0.cnf
[03;34mCommand:[0m applytopup --imain=dwi_pre_topup.nii --datain=config.txt --inindex=1 --topup=field --out=dwi_post_topup.nii.gz --method=jac
[03;34mCommand:[0m mrconvert series.mif - -stride -1,+2,+3,+4 | mrinfo - -export_grad_fsl bvecs bvals
[03;34mCommand:[0m mrconvert dwi_post_topup.nii.gz -fslgrad bvecs bvals - | dwi2mask - - | maskfilter - dilate - | mrconvert - mask.nii -datatype float32 -stride -1,+2,+3
[03;34mCommand:[0m eddy_openmp --imain=dwi_pre_topup.nii --mask=mask.nii --index=indices.txt --acqp=config.txt --bvecs=bvecs --bvals=bvals --repol --topup=field --out=dwi_post_eddy
[03;34mCommand:[0m mrconvert dwi_post_eddy.nii.gz result.mif -stride 1,2,3,4 -fslgrad dwi_post_eddy.eddy_rotated_bvecs bvals
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_030/preproc/eddycorr.mif -export_grad_mrtrix /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_030/preproc/adjencoding.b
dwipreproc_cust: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_030/preproc)[0m
dwipreproc_cust: [03;32mDeleting temporary directory /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_030/preproc/dwipreproc_cust-tmp-5KEPIB/[0m
dwibiascorrect: [03;32m[0m
dwibiascorrect: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
dwibiascorrect: [03;32m[0m
dwibiascorrect: [03;32mGenerated temporary directory: /tmp/dwibiascorrect-tmp-AHUO2K/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_030/preproc/eddycorr.mif /tmp/dwibiascorrect-tmp-AHUO2K/in.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_030/preproc/eddymeanb0bet_mask.nii.gz /tmp/dwibiascorrect-tmp-AHUO2K/mask.mif
dwibiascorrect: [03;32mChanging to temporary directory (/tmp/dwibiascorrect-tmp-AHUO2K/)[0m
[03;34mCommand:[0m dwiextract in.mif - -bzero | mrmath - mean mean_bzero.mif -axis 3
[03;34mCommand:[0m mrcalc mean_bzero.mif mask.mif -mult - | mrconvert - mean_bzero_masked.nii -stride -1,+2,+3
[03;34mCommand:[0m fast -t 2 -o fast -n 3 -b mean_bzero_masked.nii
[03;34mCommand:[0m mrcalc in.mif fast_bias.nii.gz -div result.mif
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_030/preproc/biascorr.mif
dwibiascorrect: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_030/preproc)[0m
dwibiascorrect: [03;32mDeleting temporary directory /tmp/dwibiascorrect-tmp-AHUO2K/[0m
Extracting mean of the b=0 shell.
Extracting mean of the b=3000 shell.
Extracting mean of the b=0 shell.
Extracting mean of the b=3000 shell.
37662
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.[0m
labelsgmfix: [03;32m[0m
labelsgmfix: [03;32mGenerated temporary directory: /tmp/labelsgmfix-tmp-ZUD6KK/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_030/preproc/parctempstr.nii /tmp/labelsgmfix-tmp-ZUD6KK/parc.mif
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_030/preproc/brainFS.nii /tmp/labelsgmfix-tmp-ZUD6KK/T1.nii -stride -1,+2,+3
labelsgmfix: [03;32mChanging to temporary directory (/tmp/labelsgmfix-tmp-ZUD6KK/)[0m
[03;34mCommand:[0m run_first_all -s R_Thal,L_Puta,R_Caud,R_Hipp,L_Amyg,R_Pall,R_Amyg,L_Caud,L_Pall,L_Thal,L_Hipp,R_Accu,L_Accu,R_Puta -i T1.nii -b -o first
[03;34mCommand:[0m mrcalc parc.mif 0 -min sgm.mif
[03;34mCommand:[0m meshconvert first-R_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Thal_mask.mif 6 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Puta_mask.mif 3 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Caud_mask.mif 7 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Hipp_mask.mif 13 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Amyg_mask.mif 12 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Pall_mask.mif 9 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Amyg_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Amyg_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Amyg_mask.mif 14 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Caud_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Caud_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Caud_mask.mif 2 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Pall_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Pall_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Pall_mask.mif 4 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Thal_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Thal_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Thal_mask.mif 1 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Hipp_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Hipp_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Hipp_mask.mif 11 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Accu_mask.mif 10 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-L_Accu_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - L_Accu_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc L_Accu_mask.mif 5 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m meshconvert first-R_Puta_first.vtk transformed.vtk -transform_first2real T1.nii
[03;34mCommand:[0m mesh2pve transformed.vtk parc.mif - | mrthreshold - R_Puta_mask.mif -abs 0.5
[03;34mCommand:[0m mrcalc R_Puta_mask.mif 8 sgm.mif -if sgm_new.mif
[03;34mCommand:[0m mrmath R_Thal_mask.mif L_Puta_mask.mif R_Caud_mask.mif R_Hipp_mask.mif L_Amyg_mask.mif R_Pall_mask.mif R_Amyg_mask.mif L_Caud_mask.mif L_Pall_mask.mif L_Thal_mask.mif L_Hipp_mask.mif R_Accu_mask.mif L_Accu_mask.mif R_Puta_mask.mif sum - | mrcalc - 1 -gt sgm_overlap_mask.mif
[03;34mCommand:[0m mrcalc sgm_overlap_mask.mif 0 sgm.mif -if sgm_masked.mif
[03;34mCommand:[0m labelconvert sgm_masked.mif /software/mrtrix3/mrtrix3-AP/scripts/data/FreeSurferSGM.txt /software/mrtrix3/mrtrix3-AP/src/connectome/tables/fs_a2009s.txt sgm_new_labels.mif
[03;34mCommand:[0m mrcalc parc.mif 83 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 78 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 84 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 87 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 81 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 86 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 88 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 77 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 79 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 76 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 80 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 89 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 82 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc parc.mif 85 -eq 0 parc.mif -if parc_removed.mif
[03;34mCommand:[0m mrcalc sgm_new_labels.mif 0.5 -gt sgm_new_labels.mif parc.mif -if result.mif -datatype uint32
[03;34mCommand:[0m mrconvert result.mif /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_030/preproc/parc_fixsubcort.nii
labelsgmfix: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_030/preproc)[0m
labelsgmfix: [03;32mDeleting temporary directory /tmp/labelsgmfix-tmp-ZUD6KK/[0m
tmp ./tmp.bbregister.18830
Log file is register.dat.log
Sat Mar 18 06:47:15 AEST 2017

setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/Park/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_030/preproc
/software/freesurfer/freesurfer-6.0.0/bin/bbregister --s Patient_030 --mov biasmeanb0bet.nii.gz --init-fsl --reg register.dat --dti --fslmat diff2FS.mat

$Id: bbregister,v 1.75 2016/05/10 20:02:28 greve Exp $
Linux hpcnode036.adqimr.ad.lan 3.10.0-327.3.1.el7.x86_64 #1 SMP Wed Dec 9 14:09:15 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
FREESURFER_HOME /software/freesurfer/freesurfer-6.0.0
mri_convert biasmeanb0bet.nii.gz ./tmp.bbregister.18830/template.nii
mri_convert.bin biasmeanb0bet.nii.gz ./tmp.bbregister.18830/template.nii 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from biasmeanb0bet.nii.gz...
TR=1000.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (0.997182, -0.0539273, -0.0521564)
j_ras = (0.0644848, 0.971406, 0.228502)
k_ras = (0.0383425, -0.231221, 0.972145)
writing to ./tmp.bbregister.18830/template.nii...
fslregister --s Patient_030 --mov ./tmp.bbregister.18830/template.nii --reg ./tmp.bbregister.18830/reg.init.dat --niters 1 --maxangle 90 --tmp ./tmp.bbregister.18830/fslregister --dof 6 --fsvol brainmask.mgz --nobetmov

Log file is ./tmp.bbregister.18830/reg.init.dat.fslregister.log

Sat Mar 18 06:47:15 AEST 2017
--s Patient_030 --mov ./tmp.bbregister.18830/template.nii --reg ./tmp.bbregister.18830/reg.init.dat --niters 1 --maxangle 90 --tmp ./tmp.bbregister.18830/fslregister --dof 6 --fsvol brainmask.mgz --nobetmov
$Id: fslregister,v 1.40 2016/02/12 21:43:15 zkaufman Exp $
hpcnode036.adqimr.ad.lan
Linux hpcnode036.adqimr.ad.lan 3.10.0-327.3.1.el7.x86_64 #1 SMP Wed Dec 9 14:09:15 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
nIters 1
--------------------------------------
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_030/preproc
mri_convert /working/lab_michaebr/alistaiP/Park/FS/Patient_030/mri/brainmask.mgz ./tmp.bbregister.18830/fslregister/refvol.fslregister.nii
mri_convert.bin /working/lab_michaebr/alistaiP/Park/FS/Patient_030/mri/brainmask.mgz ./tmp.bbregister.18830/fslregister/refvol.fslregister.nii 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from /working/lab_michaebr/alistaiP/Park/FS/Patient_030/mri/brainmask.mgz...
TR=0.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (-1, 2.79397e-09, 0)
j_ras = (0, -1.49012e-08, -1)
k_ras = (-3.72529e-09, 1, 0)
writing to ./tmp.bbregister.18830/fslregister/refvol.fslregister.nii...
--------------------------------------
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_030/preproc
mri_convert ./tmp.bbregister.18830/template.nii ./tmp.bbregister.18830/fslregister/movvol.fslregister.nii --frame 0
mri_convert.bin ./tmp.bbregister.18830/template.nii ./tmp.bbregister.18830/fslregister/movvol.fslregister.nii --frame 0 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from ./tmp.bbregister.18830/template.nii...
TR=1000.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (0.997182, -0.0539273, -0.0521564)
j_ras = (0.0644848, 0.971406, 0.228502)
k_ras = (0.0383425, -0.231221, 0.972145)
keeping frame 0
writing to ./tmp.bbregister.18830/fslregister/movvol.fslregister.nii...
Mov determinant is 5.02197
Swapping dims for pos det
WARNING:: Flipping Left/Right orientation (as det < 0)
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
target  volume ./tmp.bbregister.18830/fslregister/movvol.fslregister.nii
movable volume ./tmp.bbregister.18830/template.nii
reg file       ./tmp.bbregister.18830/fslregister/swapreg.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target ./tmp.bbregister.18830/fslregister/movvol.fslregister.nii
INFO: target does not conform to COR format, so I'm going to
reslice to COR. This will not affect the final registration.
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.18830/template.nii
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 1, float2int = 0
Computing reg from header (and possibly input matrix)
---- Input registration matrix (computed) --------
-0.99718   0.05393   0.05216   1.71873;
 0.03834  -0.23122   0.97215   0.00000;
-0.06448  -0.97141  -0.22850   0.00000;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
-0.99718   0.05393   0.05216   1.71873;
 0.03834  -0.23122   0.97215   0.00000;
-0.06448  -0.97141  -0.22850   0.00000;
 0.00000   0.00000   0.00000   1.00000;
Determinant -1
subject = subject-unknown
RegMat ---------------------------
-1.00000   0.00000   0.00000   1.71874;
 0.00000   1.00000   0.00000  -0.00000;
 0.00000   0.00000   1.00000   0.00000;
 0.00000   0.00000   0.00000   1.00000;
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_030/preproc
tkregister2_cmdl --mov ./tmp.bbregister.18830/fslregister/movvol.fslregister.nii --reg ./tmp.bbregister.18830/fslregister/reg0.18890.dat --regheader --fslregout ./tmp.bbregister.18830/reg.init.dat.fsl.mat0 --s Patient_030 --noedit
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume ./tmp.bbregister.18830/fslregister/movvol.fslregister.nii
reg file       ./tmp.bbregister.18830/fslregister/reg0.18890.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target /working/lab_michaebr/alistaiP/Park/FS/Patient_030/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.18830/fslregister/movvol.fslregister.nii
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 1, float2int = 0
Computing reg from header (and possibly input matrix)
---- Input registration matrix (computed) --------
 0.99718  -0.05393  -0.05216   0.97655;
 0.03834  -0.23122   0.97215  -0.34998;
-0.06448  -0.97141  -0.22850   0.74217;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
 0.99718  -0.05393  -0.05216   0.97655;
 0.03834  -0.23122   0.97215  -0.34998;
-0.06448  -0.97141  -0.22850   0.74217;
 0.00000   0.00000   0.00000   1.00000;
Determinant 1
subject = Patient_030
RegMat ---------------------------
 0.99718  -0.05393  -0.05216   0.97655;
 0.03834  -0.23122   0.97215  -0.34998;
-0.06448  -0.97141  -0.22850   0.74217;
 0.00000   0.00000   0.00000   1.00000;
FSLOUTPUTTYPE NIFTI 
tkreg2FSL: mov det = -5.02197, ref det = -1
Sat Mar 18 06:47:18 AEST 2017
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_030/preproc
flirt.fsl -ref ./tmp.bbregister.18830/fslregister/refvol.fslregister.nii -in ./tmp.bbregister.18830/fslregister/movvol.fslregister.nii -bins 256 -cost corratio -dof 6 -searchrx -90 90 -searchry -90 90 -searchrz -90 90 -verbose 0 -omat ./tmp.bbregister.18830/fslregister/fslmat0.trans.mat -schedule /software/freesurfer/freesurfer-6.0.0/bin/fsl.5.0.2.xyztrans.sch -init ./tmp.bbregister.18830/reg.init.dat.fsl.mat0
Sat Mar 18 06:47:52 AEST 2017
/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_030/preproc
flirt.fsl -ref ./tmp.bbregister.18830/fslregister/refvol.fslregister.nii -in ./tmp.bbregister.18830/fslregister/movvol.fslregister.nii -bins 256 -cost corratio -dof 6 -searchrx -90 90 -searchry -90 90 -searchrz -90 90 -verbose 0 -omat ./tmp.bbregister.18830/reg.init.dat.fsl.mat -init ./tmp.bbregister.18830/fslregister/fslmat0.trans.mat -schedule /software/freesurfer/freesurfer-6.0.0/bin/flirt.newdefault.20080811.sch
tkregister2_cmdl --s Patient_030 --mov ./tmp.bbregister.18830/fslregister/movvol.fslregister.nii --reg ./tmp.bbregister.18830/reg.init.dat --fslreg ./tmp.bbregister.18830/reg.init.dat.fsl.mat --noedit
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
---- FSL registration matrix --------
 0.99642  -0.07410  -0.04074   30.53010;
-0.05666  -0.22741  -0.97215   234.28300;
 0.06277   0.97098  -0.23080   32.50700;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume ./tmp.bbregister.18830/fslregister/movvol.fslregister.nii
reg file       ./tmp.bbregister.18830/reg.init.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
INFO: loading target /working/lab_michaebr/alistaiP/Park/FS/Patient_030/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable ./tmp.bbregister.18830/fslregister/movvol.fslregister.nii
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 0, float2int = 0
FSLOUTPUTTYPE NIFTI 
fsl2TkReg: mov det = -5.02197, ref det = -1
---- Input registration matrix (computed) --------
 0.99642  -0.06277  -0.05666   0.86313;
 0.04074  -0.23080   0.97215   0.81195;
-0.07410  -0.97097  -0.22741   0.33083;
 0.00000   0.00000   0.00000   1.00000;
---------------------------------------
---- Input registration matrix --------
 0.99642  -0.06277  -0.05666   0.86313;
 0.04074  -0.23080   0.97215   0.81195;
-0.07410  -0.97097  -0.22741   0.33083;
 0.00000   0.00000   0.00000   1.00000;
Determinant 0.999998
subject = Patient_030
RegMat ---------------------------
 0.99642  -0.06277  -0.05666   0.86313;
 0.04074  -0.23080   0.97215   0.81195;
-0.07410  -0.97097  -0.22741   0.33083;
 0.00000   0.00000   0.00000   1.00000;
mri_matrix_multiply -im ./tmp.bbregister.18830/fslregister/swapreg.dat -im ./tmp.bbregister.18830/reg.init.dat -om ./tmp.bbregister.18830/reg.init.dat
(standard_in) 1: illegal character: P
 
Started at Sat Mar 18 06:47:15 AEST 2017 
Ended   at Sat Mar 18 06:48:58 AEST 2017
 
fslregister Done
 
To check results, run:
tkregister2 --mov ./tmp.bbregister.18830/template.nii --reg ./tmp.bbregister.18830/reg.init.dat --surf orig
 
mri_segreg --mov ./tmp.bbregister.18830/template.nii --init-reg ./tmp.bbregister.18830/reg.init.dat --out-reg ./tmp.bbregister.18830/bbr.pass1.dat --subsamp-brute 100 --subsamp 100 --tol 1e-4 --tol1d 1e-3 --brute -4 4 4 --surf white --gm-proj-frac 0.5 --gm-gt-wm 0.5
$Id: mri_segreg.c,v 1.113 2016/05/10 03:23:20 greve Exp $
setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/Park/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_030/preproc
mri_segreg --mov ./tmp.bbregister.18830/template.nii --init-reg ./tmp.bbregister.18830/reg.init.dat --out-reg ./tmp.bbregister.18830/bbr.pass1.dat --subsamp-brute 100 --subsamp 100 --tol 1e-4 --tol1d 1e-3 --brute -4 4 4 --surf white --gm-proj-frac 0.5 --gm-gt-wm 0.5 
sysname  Linux
hostname hpcnode036.adqimr.ad.lan
machine  x86_64
user     alistaiP
movvol ./tmp.bbregister.18830/template.nii
regfile ./tmp.bbregister.18830/reg.init.dat
subject Patient_030
dof 6
outregfile ./tmp.bbregister.18830/bbr.pass1.dat
UseMask 0
UseLH 1
UseRH 1
nsubsamp 100
PenaltySign  -1
PenaltySlope 0.500000
PenaltyCenter 0.000000
surfname white
GMProjFrac 0.500000
WMProjAbs 2.000000
lhcostfile (null)
rhcostfile (null)
interp  trilinear (1)
frame  0
TolPowell 0.000100
nMaxItersPowell 36
n1dmin  3
Profile   0
Gdiag_no  -1
AddNoise  0 (0)
SynthSeed 1490317883
TransRandMax 0.000000
RotRandMax 0.000000
Translations 0.000000 0.000000 0.000000
Rotations   0.000000 0.000000 0.000000
Input reg
-0.99642   0.06277   0.05666   0.85561;
 0.04075  -0.23080   0.97215   0.81195;
-0.07410  -0.97097  -0.22741   0.33083;
 0.00000   0.00000   0.00000   1.00000;

Loading mov
Projecting LH Surfs
Loading lh.white surf
Loading lh.thickness for GM
GM Proj: 1 0.500000 2.000000
WM Proj: 0 0.500000 2.000000
Projecting RH Surfs
Loading rh.white surf
Loading rh.thickness for GM
Projecting RH Surfs
Using lh.cortex.label
Using rh.cortex.label
Computing relative cost
 0  -25.0 -25.0 -25.0   1.052226
 1  -25.0 -25.0  25.0   1.018074
 2  -25.0  25.0 -25.0   0.923536
 3  -25.0  25.0  25.0   1.015768
 4   25.0 -25.0 -25.0   1.013689
 5   25.0 -25.0  25.0   0.933482
 6   25.0  25.0 -25.0   0.926851
 7   25.0  25.0  25.0   0.985629
REL:  8  0.153113    7.869255  0.983657 rel = 0.155657 
Initial costs ----------------
Number of surface hits 2401
WM  Intensity   358.1977 +/-  76.3204
Ctx Intensity   516.8554 +/- 123.2660
Pct Contrast     34.9880 +/-  24.6934
Cost   0.1531
RelCost   0.1557

------------------------------------
Brute force preopt -4 4 4, n = 729
     0  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000      0.9377   0.9377  0.0
     1  -4.0000  -4.0000  -4.0000  -4.0000  -4.0000   0.0000      0.9247   0.9247  0.0
     4  -4.0000  -4.0000  -4.0000  -4.0000   0.0000   0.0000      0.9222   0.9222  0.0
     7  -4.0000  -4.0000  -4.0000  -4.0000   4.0000   0.0000      0.8928   0.8928  0.0
    15  -4.0000  -4.0000  -4.0000   0.0000   4.0000  -4.0000      0.8132   0.8132  0.0
    34  -4.0000  -4.0000   0.0000  -4.0000   4.0000   0.0000      0.7754   0.7754  0.0
   120  -4.0000   0.0000   0.0000   0.0000   0.0000  -4.0000      0.6946   0.6946  0.0
   123  -4.0000   0.0000   0.0000   0.0000   4.0000  -4.0000      0.6869   0.6869  0.0
   274   0.0000  -4.0000   0.0000  -4.0000   0.0000   0.0000      0.6562   0.6562  0.0
   363   0.0000   0.0000   0.0000   0.0000   0.0000  -4.0000      0.5693   0.5693  0.0
   364   0.0000   0.0000   0.0000   0.0000   0.0000   0.0000      0.1531   0.1531  0.0
Brute Force --------------------------
Min cost was 0.153113
Number of iterations   729
Search time 2.830000 sec
Parameters at best (transmm, rotdeg)
  0.000   0.000   0.000  0.000  0.000  0.000 
--------------------------------------------

Starting Powell Minimization
Init Powel Params dof = 6
0 0
1 0
2 0
3 0
4 0
5 0
fs_powell::minimize
  nparams 6
  maxfev 36
  ftol   0.000100
  linmin_xtol_   0.001000
  powell nthiter 0: fret = 0.153113
   7 -0.097  0.000  0.000  0.000  0.000  0.000   0.1518698912
   8 -0.145  0.000  0.000  0.000  0.000  0.000   0.1514087536
  11 -0.167  0.000  0.000  0.000  0.000  0.000   0.1512419214
  17 -0.167 -1.618  0.000  0.000  0.000  0.000   0.1218692934
  18 -0.167 -0.949  0.000  0.000  0.000  0.000   0.0753373847
  25 -0.167 -0.986  0.000  0.000  0.000  0.000   0.0753073485
  27 -0.167 -0.972  0.000  0.000  0.000  0.000   0.0752561299
  28 -0.167 -0.970  0.000  0.000  0.000  0.000   0.0752530945
  29 -0.167 -0.966  0.000  0.000  0.000  0.000   0.0752522175
  30 -0.167 -0.959  0.000  0.000  0.000  0.000   0.0752473003
  32 -0.167 -0.962  0.000  0.000  0.000  0.000   0.0752441717
  40 -0.167 -0.962  0.382  0.000  0.000  0.000   0.0685002191
  41 -0.167 -0.962  0.276  0.000  0.000  0.000   0.0671171495
  43 -0.167 -0.962  0.306  0.000  0.000  0.000   0.0666732520
  45 -0.167 -0.962  0.307  0.000  0.000  0.000   0.0666701639
  46 -0.167 -0.962  0.309  0.000  0.000  0.000   0.0666671329
  55 -0.167 -0.962  0.309 -0.047  0.000  0.000   0.0661286943
  57 -0.167 -0.962  0.309 -0.066  0.000  0.000   0.0658529163
  59 -0.167 -0.962  0.309 -0.065  0.000  0.000   0.0658523934
  67 -0.167 -0.962  0.309 -0.065  0.056  0.000   0.0657180467
  71 -0.167 -0.962  0.309 -0.065  0.074  0.000   0.0656179061
  73 -0.167 -0.962  0.309 -0.065  0.067  0.000   0.0654647068
  74 -0.167 -0.962  0.309 -0.065  0.066  0.000   0.0654613133
  84 -0.167 -0.962  0.309 -0.065  0.066  0.028   0.0653880461
  85 -0.167 -0.962  0.309 -0.065  0.066  0.017   0.0653521783
  86 -0.167 -0.962  0.309 -0.065  0.066  0.018   0.0653521336
  powell nthiter 1: fret = 0.065352
  95  0.001 -0.962  0.309 -0.065  0.066  0.018   0.0627333007
  96  0.002 -0.962  0.309 -0.065  0.066  0.018   0.0627005501
  97  0.083 -0.962  0.309 -0.065  0.066  0.018   0.0625741589
  98  0.045 -0.962  0.309 -0.065  0.066  0.018   0.0622266862
 100  0.028 -0.962  0.309 -0.065  0.066  0.018   0.0621811570
 101  0.033 -0.962  0.309 -0.065  0.066  0.018   0.0621699373
 110  0.033 -0.852  0.309 -0.065  0.066  0.018   0.0617097942
 114  0.033 -0.849  0.309 -0.065  0.066  0.018   0.0616722703
 116  0.033 -0.843  0.309 -0.065  0.066  0.018   0.0616398057
 125  0.033 -0.843  0.399 -0.065  0.066  0.018   0.0613006414
 126  0.033 -0.843  0.377 -0.065  0.066  0.018   0.0609767503
 127  0.033 -0.843  0.361 -0.065  0.066  0.018   0.0609312576
 128  0.033 -0.843  0.364 -0.065  0.066  0.018   0.0609288058
 137  0.033 -0.843  0.364 -0.062  0.066  0.018   0.0609251657
 139  0.033 -0.843  0.364 -0.061  0.066  0.018   0.0609243411
 147  0.033 -0.843  0.364 -0.061 -0.009  0.018   0.0600649862
 148  0.033 -0.843  0.364 -0.061 -0.028  0.018   0.0600284970
 149  0.033 -0.843  0.364 -0.061 -0.029  0.018   0.0600245725
 152  0.033 -0.843  0.364 -0.061 -0.058  0.018   0.0596647120
 154  0.033 -0.843  0.364 -0.061 -0.059  0.018   0.0596546033
 155  0.033 -0.843  0.364 -0.061 -0.064  0.018   0.0596480002
 157  0.033 -0.843  0.364 -0.061 -0.062  0.018   0.0596448555
 165  0.033 -0.843  0.364 -0.061 -0.062  0.109   0.0590568239
 166  0.033 -0.843  0.364 -0.061 -0.062  0.107   0.0590563837
 168  0.033 -0.843  0.364 -0.061 -0.062  0.073   0.0590021823
 172  0.033 -0.843  0.364 -0.061 -0.062  0.074   0.0590017433
  powell nthiter 2: fret = 0.059002
 197  0.033 -0.862  0.364 -0.061 -0.062  0.074   0.0586900180
 201  0.033 -0.867  0.364 -0.061 -0.062  0.074   0.0586665296
 202  0.033 -0.868  0.364 -0.061 -0.062  0.074   0.0586658675
 210  0.033 -0.868  0.412 -0.061 -0.062  0.074   0.0584565182
 211  0.033 -0.868  0.410 -0.061 -0.062  0.074   0.0584425320
 213  0.033 -0.868  0.405 -0.061 -0.062  0.074   0.0584410086
 214  0.033 -0.868  0.407 -0.061 -0.062  0.074   0.0584383985
 215  0.033 -0.868  0.408 -0.061 -0.062  0.074   0.0584383876
 226  0.033 -0.868  0.408 -0.060 -0.062  0.074   0.0584379256
 238  0.033 -0.868  0.408 -0.060 -0.067  0.074   0.0584029852
 239  0.033 -0.868  0.408 -0.060 -0.066  0.074   0.0584024965
 247  0.033 -0.868  0.408 -0.060 -0.066  0.087   0.0581882426
 249  0.033 -0.868  0.408 -0.060 -0.066  0.111   0.0579522123
 250  0.033 -0.868  0.408 -0.060 -0.066  0.117   0.0579378444
 251  0.033 -0.868  0.408 -0.060 -0.066  0.118   0.0579376181
  powell nthiter 3: fret = 0.057938
 265  0.036 -0.868  0.408 -0.060 -0.066  0.118   0.0579203934
 266  0.037 -0.868  0.408 -0.060 -0.066  0.118   0.0579195009
 274  0.037 -0.864  0.408 -0.060 -0.066  0.118   0.0579117929
 276  0.037 -0.862  0.408 -0.060 -0.066  0.118   0.0579115555
 288  0.037 -0.862  0.406 -0.060 -0.066  0.118   0.0579085758
 298  0.037 -0.862  0.406 -0.066 -0.066  0.118   0.0578950813
 299  0.037 -0.862  0.406 -0.064 -0.066  0.118   0.0578936424
 321  0.037 -0.862  0.406 -0.064 -0.066  0.123   0.0578842603
 322  0.037 -0.862  0.406 -0.064 -0.066  0.124   0.0578839507
  powell nthiter 4: fret = 0.057884
 336  0.036 -0.862  0.406 -0.064 -0.066  0.124   0.0578838917
 344  0.036 -0.866  0.406 -0.064 -0.066  0.124   0.0578725546
 346  0.036 -0.868  0.406 -0.064 -0.066  0.124   0.0578707815
 347  0.036 -0.869  0.406 -0.064 -0.066  0.124   0.0578703145
 359  0.036 -0.869  0.405 -0.064 -0.066  0.124   0.0578701850
 369  0.036 -0.869  0.405 -0.068 -0.066  0.124   0.0578669952
 370  0.036 -0.869  0.405 -0.067 -0.066  0.124   0.0578658101
 380  0.036 -0.869  0.405 -0.067 -0.065  0.124   0.0578633329
 390  0.036 -0.869  0.405 -0.067 -0.065  0.126   0.0578589381
 391  0.036 -0.869  0.405 -0.067 -0.065  0.129   0.0578584058
 394  0.036 -0.869  0.405 -0.067 -0.065  0.128   0.0578572517
 395  0.034 -0.875  0.404 -0.069 -0.064  0.132   0.0578525360
 401  0.035 -0.873  0.405 -0.068 -0.064  0.131   0.0578509105
 407  0.035 -0.873  0.405 -0.068 -0.064  0.131   0.0578507002
  powell nthiter 5: fret = 0.057851
 446  0.035 -0.873  0.406 -0.068 -0.064  0.131   0.0578493619
 458  0.035 -0.873  0.406 -0.069 -0.064  0.131   0.0578493159
 468  0.035 -0.873  0.406 -0.069 -0.063  0.131   0.0578480514
 475  0.035 -0.873  0.406 -0.069 -0.063  0.131   0.0578479968
 481  0.035 -0.873  0.406 -0.069 -0.063  0.131   0.0578479551
 482  0.035 -0.873  0.406 -0.069 -0.063  0.131   0.0578479491
Powell done niters = 5
Computing relative cost
 0  -25.0 -25.0 -25.0   1.021018
 1  -25.0 -25.0  25.0   1.015833
 2  -25.0  25.0 -25.0   0.941580
 3  -25.0  25.0  25.0   1.012955
 4   25.0 -25.0 -25.0   1.022118
 5   25.0 -25.0  25.0   0.952577
 6   25.0  25.0 -25.0   0.919554
 7   25.0  25.0  25.0   0.957000
REL:  8  0.057848    7.842635  0.980329 rel = 0.0590087 
Number of iterations     5
Min cost was 0.057848
Number of FunctionCalls   485
TolPowell 0.000100
nMaxItersPowell 36
OptimizationTime 1.855000 sec
Parameters at optimum (transmm)  0.03497 -0.87272  0.40570
Parameters at optimum (rotdeg) -0.06929 -0.06328  0.13055 
Final costs ----------------
Number of surface hits 2401
WM  Intensity   348.6606 +/-  66.7284
Ctx Intensity   508.4579 +/-  96.0505
Pct Contrast     36.8390 +/-  19.8102
Cost   0.0578
RelCost   0.1557
Reg at min cost was 
-0.99643   0.06437   0.05470   0.88837;
 0.03839  -0.23183   0.97200  -0.05842;
-0.07525  -0.97063  -0.22852   0.73649;
 0.00000   0.00000   0.00000   1.00000;

Writing optimal reg to ./tmp.bbregister.18830/bbr.pass1.dat, type = 14 
Original Reg 
-0.99642   0.06277   0.05666   0.85561;
 0.04075  -0.23080   0.97215   0.81195;
-0.07410  -0.97097  -0.22741   0.33083;
 0.00000   0.00000   0.00000   1.00000;

Original Reg - Optimal Reg
 0.00001  -0.00160   0.00196  -0.03275;
 0.00236   0.00103   0.00015   0.87037;
 0.00115  -0.00035   0.00111  -0.40566;
 0.00000   0.00000   0.00000   0.00000;

Computing change in lh position
LH rmsDiffMean 0.900301
Computing change in rh position
Surface-RMS-Diff-mm 0.939603 0.066357 1.099133
mri_segreg done
mri_segreg --mov ./tmp.bbregister.18830/template.nii --init-reg ./tmp.bbregister.18830/bbr.pass1.dat --out-reg register.dat --interp trilinear --wm-proj-abs 2 --tol 1e-8 --tol1d 1e-3 --c0 0 --mincost register.dat.mincost --dof 6 --nmax 36 --param register.dat.param --surf white --brute -0.1 0.1 0.1 --cur-reg ./tmp.bbregister.18830/reg.curopt.dat --gm-proj-frac 0.5 --nsub 1 --gm-gt-wm 0.5
$Id: mri_segreg.c,v 1.113 2016/05/10 03:23:20 greve Exp $
setenv SUBJECTS_DIR /working/lab_michaebr/alistaiP/Park/FS
cd /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_030/preproc
mri_segreg --mov ./tmp.bbregister.18830/template.nii --init-reg ./tmp.bbregister.18830/bbr.pass1.dat --out-reg register.dat --interp trilinear --wm-proj-abs 2 --tol 1e-8 --tol1d 1e-3 --c0 0 --mincost register.dat.mincost --dof 6 --nmax 36 --param register.dat.param --surf white --brute -0.1 0.1 0.1 --cur-reg ./tmp.bbregister.18830/reg.curopt.dat --gm-proj-frac 0.5 --nsub 1 --gm-gt-wm 0.5 
sysname  Linux
hostname hpcnode036.adqimr.ad.lan
machine  x86_64
user     alistaiP
movvol ./tmp.bbregister.18830/template.nii
regfile ./tmp.bbregister.18830/bbr.pass1.dat
subject Patient_030
dof 6
outregfile register.dat
UseMask 0
UseLH 1
UseRH 1
nsubsamp 1
PenaltySign  -1
PenaltySlope 0.500000
PenaltyCenter 0.000000
surfname white
GMProjFrac 0.500000
WMProjAbs 2.000000
lhcostfile (null)
rhcostfile (null)
interp  trilinear (1)
frame  0
TolPowell 0.000000
nMaxItersPowell 36
n1dmin  3
Profile   0
Gdiag_no  -1
AddNoise  0 (0)
SynthSeed 1490191323
TransRandMax 0.000000
RotRandMax 0.000000
Translations 0.000000 0.000000 0.000000
Rotations   0.000000 0.000000 0.000000
Input reg
-0.99643   0.06437   0.05470   0.88837;
 0.03839  -0.23183   0.97200  -0.05842;
-0.07525  -0.97063  -0.22852   0.73649;
 0.00000   0.00000   0.00000   1.00000;

Loading mov
Projecting LH Surfs
Loading lh.white surf
Loading lh.thickness for GM
GM Proj: 1 0.500000 2.000000
WM Proj: 0 0.500000 2.000000
Projecting RH Surfs
Loading rh.white surf
Loading rh.thickness for GM
Projecting RH Surfs
Using lh.cortex.label
Using rh.cortex.label
Computing relative cost
 0  -25.0 -25.0 -25.0   1.035536
 1  -25.0 -25.0  25.0   1.008367
 2  -25.0  25.0 -25.0   0.995268
 3  -25.0  25.0  25.0   1.023737
 4   25.0 -25.0 -25.0   1.009399
 5   25.0 -25.0  25.0   0.976787
 6   25.0  25.0 -25.0   0.965958
 7   25.0  25.0  25.0   1.002580
REL:  8  0.058874    8.017633  1.002204 rel = 0.0587444 
Initial costs ----------------
Number of surface hits 239862
WM  Intensity   346.4008 +/-  65.8166
Ctx Intensity   507.7739 +/-  96.7862
Pct Contrast     37.3239 +/-  19.0693
Cost   0.0589
RelCost   0.0587

------------------------------------
Brute force preopt -0.1 0.1 0.1, n = 729
     0  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000      0.0670   0.0670  0.0
     1  -0.1000  -0.1000  -0.1000  -0.1000  -0.1000   0.0000      0.0658   0.0658  0.0
     3  -0.1000  -0.1000  -0.1000  -0.1000   0.0000  -0.1000      0.0656   0.0656  0.0
     4  -0.1000  -0.1000  -0.1000  -0.1000   0.0000   0.0000      0.0647   0.0647  0.0
     8  -0.1000  -0.1000  -0.1000  -0.1000   0.1000   0.1000      0.0639   0.0639  0.0
    13  -0.1000  -0.1000  -0.1000   0.0000   0.0000   0.0000      0.0632   0.0632  0.0
    31  -0.1000  -0.1000   0.0000  -0.1000   0.0000   0.0000      0.0630   0.0630  0.0
    93  -0.1000   0.0000  -0.1000   0.0000   0.0000  -0.1000      0.0623   0.0623  0.0
    94  -0.1000   0.0000  -0.1000   0.0000   0.0000   0.0000      0.0615   0.0615  0.0
    97  -0.1000   0.0000  -0.1000   0.0000   0.1000   0.0000      0.0612   0.0612  0.0
   106  -0.1000   0.0000  -0.1000   0.1000   0.1000   0.0000      0.0608   0.0608  0.0
   120  -0.1000   0.0000   0.0000   0.0000   0.0000  -0.1000      0.0606   0.0606  0.0
   123  -0.1000   0.0000   0.0000   0.0000   0.1000  -0.1000      0.0606   0.0606  0.0
   178  -0.1000   0.1000  -0.1000   0.0000   0.1000   0.0000      0.0605   0.0605  0.0
   187  -0.1000   0.1000  -0.1000   0.1000   0.1000   0.0000      0.0593   0.0593  0.0
   362   0.0000   0.0000   0.0000   0.0000  -0.1000   0.1000      0.0590   0.0590  0.0
   364   0.0000   0.0000   0.0000   0.0000   0.0000   0.0000      0.0578   0.0578  0.0
Brute Force --------------------------
Min cost was 0.057848
Number of iterations   729
Search time 2.870000 sec
Parameters at best (transmm, rotdeg)
  0.000   0.000   0.000  0.000  0.000  0.000 
--------------------------------------------

Starting Powell Minimization
Init Powel Params dof = 6
0 0
1 0
2 0
3 0
4 0
5 0
fs_powell::minimize
  nparams 6
  maxfev 36
  ftol   0.000000
  linmin_xtol_   0.001000
  powell nthiter 0: fret = 0.058874
   7 -0.012  0.000  0.000  0.000  0.000  0.000   0.0588232953
   8 -0.037  0.000  0.000  0.000  0.000  0.000   0.0587270591
  13 -0.041  0.000  0.000  0.000  0.000  0.000   0.0587236445
  14 -0.042  0.000  0.000  0.000  0.000  0.000   0.0587235882
  22 -0.042  0.063  0.000  0.000  0.000  0.000   0.0584884950
  24 -0.042  0.074  0.000  0.000  0.000  0.000   0.0584852145
  26 -0.042  0.071  0.000  0.000  0.000  0.000   0.0584851798
  35 -0.042  0.071  0.095  0.000  0.000  0.000   0.0582515298
  36 -0.042  0.071  0.072  0.000  0.000  0.000   0.0581797070
  37 -0.042  0.071  0.063  0.000  0.000  0.000   0.0581750246
  38 -0.042  0.071  0.064  0.000  0.000  0.000   0.0581748331
  39 -0.042  0.071  0.065  0.000  0.000  0.000   0.0581748124
  48 -0.042  0.071  0.065  0.001  0.000  0.000   0.0581729021
  49 -0.042  0.071  0.065  0.009  0.000  0.000   0.0581651758
  59 -0.042  0.071  0.065  0.009  0.085  0.000   0.0579190526
  60 -0.042  0.071  0.065  0.009  0.063  0.000   0.0579124882
  63 -0.042  0.071  0.065  0.009  0.062  0.000   0.0579124241
  71 -0.042  0.071  0.065  0.009  0.062  0.014   0.0578791964
  72 -0.042  0.071  0.065  0.009  0.062  0.029   0.0578562377
  75 -0.042  0.071  0.065  0.009  0.062  0.030   0.0578561308
  76 -0.042  0.071  0.065  0.009  0.062  0.031   0.0578561100
  77 -0.042  0.071  0.065  0.009  0.062  0.032   0.0578560518
  powell nthiter 1: fret = 0.057856
  90 -0.045  0.071  0.065  0.009  0.062  0.032   0.0578540130
  99 -0.045  0.051  0.065  0.009  0.062  0.032   0.0578530209
 100 -0.045  0.061  0.065  0.009  0.062  0.032   0.0578439881
 111 -0.045  0.061  0.067  0.009  0.062  0.032   0.0578435730
 112 -0.045  0.061  0.068  0.009  0.062  0.032   0.0578434966
 121 -0.045  0.061  0.068  0.020  0.062  0.032   0.0578395384
 122 -0.045  0.061  0.068  0.018  0.062  0.032   0.0578388669
 123 -0.045  0.061  0.068  0.017  0.062  0.032   0.0578385002
 145 -0.045  0.061  0.068  0.017  0.062  0.029   0.0578376514
 146 -0.045  0.061  0.068  0.017  0.062  0.030   0.0578375983
  powell nthiter 2: fret = 0.057838
 157 -0.046  0.061  0.068  0.017  0.062  0.030   0.0578373918
 176 -0.046  0.061  0.063  0.017  0.062  0.030   0.0578352168
 187 -0.046  0.061  0.063  0.018  0.062  0.030   0.0578347730
 188 -0.046  0.061  0.063  0.019  0.062  0.030   0.0578347461
 209 -0.046  0.061  0.063  0.019  0.062  0.028   0.0578346452
 217 -0.046  0.061  0.061  0.020  0.062  0.028   0.0578344799
 218 -0.046  0.061  0.061  0.020  0.062  0.028   0.0578344645
 219 -0.046  0.061  0.061  0.020  0.062  0.028   0.0578344610
 221 -0.046  0.061  0.061  0.020  0.062  0.028   0.0578344313
  powell nthiter 3: fret = 0.057834
 236 -0.047  0.061  0.061  0.020  0.062  0.028   0.0578343781
 245 -0.047  0.062  0.061  0.020  0.062  0.028   0.0578343657
 266 -0.047  0.062  0.061  0.019  0.062  0.028   0.0578343477
 277 -0.047  0.062  0.061  0.019  0.063  0.028   0.0578342739
 284 -0.048  0.062  0.059  0.020  0.063  0.027   0.0578342729
 285 -0.048  0.062  0.060  0.020  0.063  0.028   0.0578342608
 286 -0.048  0.062  0.060  0.020  0.063  0.028   0.0578342128
  powell nthiter 4: fret = 0.057834
 312 -0.048  0.061  0.060  0.020  0.063  0.028   0.0578341568
  powell nthiter 5: fret = 0.057834
Powell done niters = 5
Computing relative cost
 0  -25.0 -25.0 -25.0   1.036096
 1  -25.0 -25.0  25.0   1.007786
 2  -25.0  25.0 -25.0   0.995382
 3  -25.0  25.0  25.0   1.023232
 4   25.0 -25.0 -25.0   1.008754
 5   25.0 -25.0  25.0   0.977941
 6   25.0  25.0 -25.0   0.965898
 7   25.0  25.0  25.0   1.002343
REL:  8  0.057834    8.017431  1.002179 rel = 0.0577084 
Number of iterations     5
Min cost was 0.057834
Number of FunctionCalls   426
TolPowell 0.000000
nMaxItersPowell 36
OptimizationTime 70.263000 sec
Parameters at optimum (transmm) -0.04752  0.06126  0.06009
Parameters at optimum (rotdeg)  0.01966  0.06280  0.02754 
Final costs ----------------
Number of surface hits 239862
WM  Intensity   346.3020 +/-  65.7740
Ctx Intensity   508.1711 +/-  96.7083
Pct Contrast     37.4331 +/-  19.0433
Cost   0.0578
RelCost   0.0587
Reg at min cost was 
-0.99653   0.06341   0.05398   0.84168;
 0.03793  -0.23146   0.97210   0.00301;
-0.07414  -0.97077  -0.22825   0.79558;
 0.00000   0.00000   0.00000   1.00000;

Writing optimal reg to register.dat, type = 14 
Original Reg 
-0.99643   0.06437   0.05470   0.88837;
 0.03839  -0.23183   0.97200  -0.05842;
-0.07525  -0.97063  -0.22852   0.73649;
 0.00000   0.00000   0.00000   1.00000;

Original Reg - Optimal Reg
 0.00010   0.00095   0.00072   0.04668;
 0.00045  -0.00036  -0.00010  -0.06143;
-0.00111   0.00015  -0.00027  -0.05909;
 0.00000   0.00000   0.00000   0.00000;

Computing change in lh position
LH rmsDiffMean 0.096355
Computing change in rh position
Surface-RMS-Diff-mm 0.106843 0.027923 0.175840
mri_segreg done
MinCost: 0.057834 346.302015 508.171089 37.433133 
tkregister2_cmdl --mov biasmeanb0bet.nii.gz --reg register.dat --noedit --fslregout diff2FS.mat
tkregister_tcl /software/freesurfer/freesurfer-6.0.0/tktools/tkregister2.tcl
INFO: no target volume specified, assuming FreeSurfer orig volume.
target  volume orig
movable volume biasmeanb0bet.nii.gz
reg file       register.dat
LoadVol        0
ZeroCRAS       0
$Id: tkregister2.c,v 1.132.2.1 2016/08/02 21:17:29 greve Exp $
Diagnostic Level -1
---- Input registration matrix --------
-0.99653   0.06341   0.05398   0.84168;
 0.03793  -0.23146   0.97210   0.00301;
-0.07414  -0.97077  -0.22825   0.79558;
 0.00000   0.00000   0.00000   1.00000;
float2int = 0
---------------------------------------
INFO: loading target /working/lab_michaebr/alistaiP/Park/FS/Patient_030/mri/orig.mgz
Ttarg: --------------------
-1.00000   0.00000   0.00000   128.00000;
 0.00000   0.00000   1.00000  -128.00000;
 0.00000  -1.00000   0.00000   128.00000;
 0.00000   0.00000   0.00000   1.00000;
INFO: loading movable biasmeanb0bet.nii.gz
Tmov: --------------------
-1.71875   0.00000   0.00000   110.00000;
 0.00000   0.00000   1.70000  -76.50000;
 0.00000  -1.71875   0.00000   110.00000;
 0.00000   0.00000   0.00000   1.00000;
mkheaderreg = 0, float2int = 0
---- Input registration matrix --------
-0.99653   0.06341   0.05398   0.84168;
 0.03793  -0.23146   0.97210   0.00301;
-0.07414  -0.97077  -0.22825   0.79558;
 0.00000   0.00000   0.00000   1.00000;
Determinant -0.999999
subject = Patient_030
RegMat ---------------------------
-0.99653   0.06341   0.05398   0.84168;
 0.03793  -0.23146   0.97210   0.00301;
-0.07414  -0.97077  -0.22825   0.79558;
 0.00000   0.00000   0.00000   1.00000;
FSLOUTPUTTYPE NIFTI_GZ 
tkreg2FSL: mov det = 5.02197, ref det = -1
INFO: FSL2FreeSurfer: Mov volume is NIFTI with positive det,
      applying LR flip to registration matrix.
Cleaning up
 
Started at Sat Mar 18 06:47:15 AEST 2017 
Ended   at Sat Mar 18 06:50:46 AEST 2017
BBR-Run-Time-Sec 211
 
bbregister Done
To check results, run:
tkregisterfv --mov biasmeanb0bet.nii.gz --reg register.dat --surfs 
 
dwi2response: [03;32m[0m
dwi2response: [03;32mNote that this script makes use of commands / algorithms that have relevant articles for citation. Please consult the help page (-help option) for more information.[0m
dwi2response: [03;32m[0m
dwi2response: [03;32mGenerated temporary directory: /tmp/dwi2response-tmp-JOO3DE/[0m
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_030/preproc/biascorr.mif /tmp/dwi2response-tmp-JOO3DE/dwi.mif -stride 0,0,0,1
[03;34mCommand:[0m mrconvert /mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_030/preproc/biasmeanb0bet_mask.nii.gz /tmp/dwi2response-tmp-JOO3DE/mask.mif -datatype bit
dwi2response: [03;32mChanging to temporary directory (/tmp/dwi2response-tmp-JOO3DE/)[0m
dwi2response: [03;32m2 unique b-value(s) detected: 0,3000 with 12,90 volumes.[0m
[03;34mCommand:[0m maskfilter mask.mif erode eroded_mask.mif -npass 3
[03;34mCommand:[0m dwiextract dwi.mif -shell 0 dwi_b0.mif
[03;34mCommand:[0m mrmath dwi_b0.mif mean mean_b0.mif -axis 3
[03;34mCommand:[0m mrcalc mean_b0.mif -finite mean_b0.mif 0 -if 0 -le err_b0.mif -datatype bit
[03;34mCommand:[0m dwiextract dwi.mif -shell 3000 dwi_b3000.mif
[03;34mCommand:[0m mrmath dwi_b3000.mif mean mean_b3000.mif -axis 3
[03;34mCommand:[0m mrcalc mean_b3000.mif -finite mean_b3000.mif 0 -if 0 -le err_b3000.mif -datatype bit
[03;34mCommand:[0m mrcalc mean_b0.mif mean_b3000.mif -divide -log sdm_b3000.mif
[03;34mCommand:[0m mrcalc sdm_b3000.mif 90 -mult 90 -divide full_sdm.mif
[03;34mCommand:[0m mrcalc full_sdm.mif -finite full_sdm.mif 0 -if 0 -le err_sdm.mif -datatype bit
[03;34mCommand:[0m mrcalc err_b0.mif err_b3000.mif -add err_sdm.mif -add 0 eroded_mask.mif -if safe_mask.mif -datatype bit
[03;34mCommand:[0m mrcalc safe_mask.mif full_sdm.mif 0 -if 10 -min safe_sdm.mif
[03;34mCommand:[0m dwi2tensor dwi.mif - -mask safe_mask.mif | tensor2metric - -fa safe_fa.mif -vector safe_vecs.mif -modulate none -mask safe_mask.mif
[03;34mCommand:[0m mrcalc safe_mask.mif safe_fa.mif 0 -if 0.2 -gt crude_wm.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_wm.mif 0 safe_mask.mif -if _crudenonwm.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudenonwm.mif safe_sdm.mif 2.10543 -subtract 0 -if - | mrthreshold - - -mask _crudenonwm.mif | mrcalc _crudenonwm.mif - 0 -if crude_csf.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_csf.mif 0 _crudenonwm.mif -if crude_gm.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_wm.mif safe_sdm.mif 0 -if 1.49091 -gt _crudewmhigh.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudewmhigh.mif 0 crude_wm.mif -if _crudewmlow.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_wm.mif safe_sdm.mif 0 -if 1.94901 -gt _crudewmoutliers.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudewmoutliers.mif 0 crude_wm.mif -if refined_wm.mif -datatype bit
[03;34mCommand:[0m mrcalc crude_gm.mif safe_sdm.mif 0 -if 1.9256 -gt _crudegmhigh.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmhigh.mif 0 crude_gm.mif -if _crudegmlow.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmhigh.mif safe_sdm.mif 1.9256 -subtract 0 -if - | mrthreshold - - -mask _crudegmhigh.mif -invert | mrcalc _crudegmhigh.mif - 0 -if _crudegmhighselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmlow.mif safe_sdm.mif 1.9256 -subtract -neg 0 -if - | mrthreshold - - -mask _crudegmlow.mif -invert | mrcalc _crudegmlow.mif - 0 -if _crudegmlowselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudegmhighselect.mif 1 _crudegmlowselect.mif -if refined_gm.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudewmoutliers.mif safe_sdm.mif 0 -if 2.75681 -gt 1 crude_csf.mif -if _crudecsfextra.mif -datatype bit
[03;34mCommand:[0m mrcalc _crudecsfextra.mif safe_sdm.mif 2.75681 -subtract 0 -if - | mrthreshold - - -mask _crudecsfextra.mif | mrcalc _crudecsfextra.mif - 0 -if refined_csf.mif -datatype bit
dwi2response: [03;32mRunning 'tournier' algorithm to select 580 single-fibre WM voxels.[0m
[03;34mCommand:[0m dwi2response tournier dwi.mif _respsfwmss.txt -sf_voxels 580 -iter_voxels 5800 -mask refined_wm.mif -voxels voxels_sfwm.mif -quiet -tempdir /tmp/dwi2response-tmp-JOO3DE/
[03;34mCommand:[0m mrcalc refined_gm.mif safe_sdm.mif 0 -if 1.91434 -gt _refinedgmhigh.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmhigh.mif 0 refined_gm.mif -if _refinedgmlow.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmhigh.mif safe_sdm.mif 0 -if - | mrthreshold - - -bottom 702 -ignorezero | mrcalc _refinedgmhigh.mif - 0 -if _refinedgmhighselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmlow.mif safe_sdm.mif 0 -if - | mrthreshold - - -top 702 -ignorezero | mrcalc _refinedgmlow.mif - 0 -if _refinedgmlowselect.mif -datatype bit
[03;34mCommand:[0m mrcalc _refinedgmhighselect.mif 1 _refinedgmlowselect.mif -if voxels_gm.mif -datatype bit
[03;34mCommand:[0m mrcalc refined_csf.mif safe_sdm.mif 0 -if - | mrthreshold - - -top 1462 -ignorezero | mrcalc refined_csf.mif - 0 -if voxels_csf.mif -datatype bit
dwi2response: [03;32mSummary of voxel counts:[0m
dwi2response: [03;32mMask: 335306 --> 271936 --> 271873[0m
dwi2response: [03;32mWM: 121832 --> 115900 --> 580 (SF)[0m
dwi2response: [03;32mGM: 110500 --> 70180 --> 1404[0m
dwi2response: [03;32mCSF: 39541 --> 14618 --> 1462[0m
[03;34mCommand:[0m amp2sh dwi_b0.mif - | sh2response - voxels_sfwm.mif safe_vecs.mif _respsfwmb0.txt
[03;34mCommand:[0m amp2sh dwi_b3000.mif - | sh2response - voxels_sfwm.mif safe_vecs.mif _respsfwmb3000.txt
[03;34mCommand:[0m mrcat crude_csf.mif crude_gm.mif crude_wm.mif crude.mif -axis 3
[03;34mCommand:[0m mrcat refined_csf.mif refined_gm.mif refined_wm.mif refined.mif -axis 3
[03;34mCommand:[0m mrcat voxels_csf.mif voxels_gm.mif voxels_sfwm.mif voxels.mif -axis 3
dwi2response: [03;32mChanging back to original directory (/mnt/lustre/working/lab_michaebr/alistaiP/Park/Diff/Patient_030/preproc)[0m
dwi2response: [03;32mDeleting temporary directory /tmp/dwi2response-tmp-JOO3DE/[0m
